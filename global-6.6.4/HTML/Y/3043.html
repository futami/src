<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>gtop</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/42.html#L276'>gtop</a>              276 global/global.c 	GTOP *gtop;</span>
<span class='curline'><a href='../S/42.html#L302'>gtop</a>              302 global/global.c 	gtop = gtags_open(dbpath, root, GTAGS, GTAGS_READ, 0);</span>
<span class='curline'><a href='../S/42.html#L303'>gtop</a>              303 global/global.c 	gtp = gtags_first(gtop, tag, flags);</span>
<span class='curline'><a href='../S/42.html#L306'>gtop</a>              306 global/global.c 		for (; gtp; gtp = gtags_next(gtop)) {</span>
<span class='curline'><a href='../S/42.html#L320'>gtop</a>              320 global/global.c 				if (!(gtop-&gt;format &amp; GTAGS_COMPACT)) {	/* Standard format */</span>
<span class='curline'><a href='../S/42.html#L361'>gtop</a>              361 global/global.c 	gtags_close(gtop);</span>
<span class='curline'><a href='../S/42.html#L376'>gtop</a>              376 global/global.c 			gtop = gtags_open(libdbpath, root, GTAGS, GTAGS_READ, 0);</span>
<span class='curline'><a href='../S/42.html#L377'>gtop</a>              377 global/global.c 			if ((gtp = gtags_first(gtop, tag, flags)) != NULL)</span>
<span class='curline'><a href='../S/42.html#L379'>gtop</a>              379 global/global.c 			gtags_close(gtop);</span>
<span class='curline'><a href='../S/42.html#L1019'>gtop</a>             1019 global/global.c 	GTOP *gtop = gtags_open(dbpath, root, db, GTAGS_READ, 0);</span>
<span class='curline'><a href='../S/42.html#L1025'>gtop</a>             1025 global/global.c 	for (gtp = gtags_first(gtop, prefix, flags); gtp; gtp = gtags_next(gtop)) {</span>
<span class='curline'><a href='../S/42.html#L1031'>gtop</a>             1031 global/global.c 		gtags_show_statistics(gtop);</span>
<span class='curline'><a href='../S/42.html#L1032'>gtop</a>             1032 global/global.c 	gtags_close(gtop);</span>
<span class='curline'><a href='../S/42.html#L1870'>gtop</a>             1870 global/global.c 	GTOP *gtop;</span>
<span class='curline'><a href='../S/42.html#L1878'>gtop</a>             1878 global/global.c 	gtop = gtags_open(dbpath, root, db, GTAGS_READ, debug ? GTAGS_DEBUG : 0);</span>
<span class='curline'><a href='../S/42.html#L1895'>gtop</a>             1895 global/global.c 	for (gtp = gtags_first(gtop, pattern, flags); gtp; gtp = gtags_next(gtop)) {</span>
<span class='curline'><a href='../S/42.html#L1898'>gtop</a>             1898 global/global.c 		count += output_with_formatting(cv, gtp, root, gtop-&gt;format);</span>
<span class='curline'><a href='../S/42.html#L1902'>gtop</a>             1902 global/global.c 		gtags_show_statistics(gtop);</span>
<span class='curline'><a href='../S/42.html#L1903'>gtop</a>             1903 global/global.c 	gtags_close(gtop);</span>
<span class='curline'><a href='../S/62.html#L542'>gtop</a>              542 gtags/gtags.c  		GTOP *gtop = gtags_open(dbpath, cwd, GTAGS, GTAGS_MODIFY, 0);</span>
<span class='curline'><a href='../S/62.html#L543'>gtop</a>              543 gtags/gtags.c  		gtags_close(gtop);</span>
<span class='curline'><a href='../S/62.html#L838'>gtop</a>              838 gtags/gtags.c  	GTOP *gtop[GTAGLIM];</span>
<span class='curline'><a href='../S/62.html#L845'>gtop</a>              845 gtags/gtags.c  	GTOP *gtop;</span>
<span class='curline'><a href='../S/62.html#L872'>gtop</a>              872 gtags/gtags.c  		gtop = data-&gt;gtop[GTAGS];</span>
<span class='curline'><a href='../S/62.html#L875'>gtop</a>              875 gtags/gtags.c  		gtop = data-&gt;gtop[GRTAGS];</span>
<span class='curline'><a href='../S/62.html#L876'>gtop</a>              876 gtags/gtags.c  		if (gtop == NULL)</span>
<span class='curline'><a href='../S/62.html#L882'>gtop</a>              882 gtags/gtags.c  	gtags_put_using(gtop, tag, lno, data-&gt;fid, line_image);</span>
<span class='curline'><a href='../S/62.html#L904'>gtop</a>              904 gtags/gtags.c  	data.gtop[GTAGS] = gtags_open(dbpath, root, GTAGS, GTAGS_MODIFY, 0);</span>
<span class='curline'><a href='../S/62.html#L906'>gtop</a>              906 gtags/gtags.c  		data.gtop[GRTAGS] = gtags_open(dbpath, root, GRTAGS, GTAGS_MODIFY, 0);</span>
<span class='curline'><a href='../S/62.html#L912'>gtop</a>              912 gtags/gtags.c  		data.gtop[GRTAGS] = NULL;</span>
<span class='curline'><a href='../S/62.html#L932'>gtop</a>              932 gtags/gtags.c  		gtags_delete(data.gtop[GTAGS], deleteset);</span>
<span class='curline'><a href='../S/62.html#L933'>gtop</a>              933 gtags/gtags.c  		if (data.gtop[GRTAGS] != NULL)</span>
<span class='curline'><a href='../S/62.html#L934'>gtop</a>              934 gtags/gtags.c  			gtags_delete(data.gtop[GRTAGS], deleteset);</span>
<span class='curline'><a href='../S/62.html#L939'>gtop</a>              939 gtags/gtags.c  	data.gtop[GTAGS]-&gt;flags = 0;</span>
<span class='curline'><a href='../S/62.html#L941'>gtop</a>              941 gtags/gtags.c  		data.gtop[GTAGS]-&gt;flags |= GTAGS_EXTRACTMETHOD;</span>
<span class='curline'><a href='../S/62.html#L942'>gtop</a>              942 gtags/gtags.c  	data.gtop[GRTAGS]-&gt;flags = data.gtop[GTAGS]-&gt;flags;</span>
<span class='curline'><a href='../S/62.html#L968'>gtop</a>              968 gtags/gtags.c  		gtags_flush(data.gtop[GTAGS], data.fid);</span>
<span class='curline'><a href='../S/62.html#L969'>gtop</a>              969 gtags/gtags.c  		if (data.gtop[GRTAGS] != NULL)</span>
<span class='curline'><a href='../S/62.html#L970'>gtop</a>              970 gtags/gtags.c  			gtags_flush(data.gtop[GRTAGS], data.fid);</span>
<span class='curline'><a href='../S/62.html#L973'>gtop</a>              973 gtags/gtags.c  	gtags_close(data.gtop[GTAGS]);</span>
<span class='curline'><a href='../S/62.html#L974'>gtop</a>              974 gtags/gtags.c  	if (data.gtop[GRTAGS] != NULL)</span>
<span class='curline'><a href='../S/62.html#L975'>gtop</a>              975 gtags/gtags.c  		gtags_close(data.gtop[GRTAGS]);</span>
<span class='curline'><a href='../S/62.html#L1000'>gtop</a>             1000 gtags/gtags.c  	data.gtop[GTAGS] = gtags_open(dbpath, root, GTAGS, GTAGS_CREATE, openflags);</span>
<span class='curline'><a href='../S/62.html#L1001'>gtop</a>             1001 gtags/gtags.c  	data.gtop[GTAGS]-&gt;flags = 0;</span>
<span class='curline'><a href='../S/62.html#L1003'>gtop</a>             1003 gtags/gtags.c  		data.gtop[GTAGS]-&gt;flags |= GTAGS_EXTRACTMETHOD;</span>
<span class='curline'><a href='../S/62.html#L1004'>gtop</a>             1004 gtags/gtags.c  	data.gtop[GRTAGS] = gtags_open(dbpath, root, GRTAGS, GTAGS_CREATE, openflags);</span>
<span class='curline'><a href='../S/62.html#L1005'>gtop</a>             1005 gtags/gtags.c  	data.gtop[GRTAGS]-&gt;flags = data.gtop[GTAGS]-&gt;flags;</span>
<span class='curline'><a href='../S/62.html#L1040'>gtop</a>             1040 gtags/gtags.c  		gtags_flush(data.gtop[GTAGS], data.fid);</span>
<span class='curline'><a href='../S/62.html#L1041'>gtop</a>             1041 gtags/gtags.c  		gtags_flush(data.gtop[GRTAGS], data.fid);</span>
<span class='curline'><a href='../S/62.html#L1048'>gtop</a>             1048 gtags/gtags.c  	gtags_close(data.gtop[GTAGS]);</span>
<span class='curline'><a href='../S/62.html#L1049'>gtop</a>             1049 gtags/gtags.c  	gtags_close(data.gtop[GRTAGS]);</span>
<span class='curline'><a href='../S/121.html#L1384'>gtop</a>             1384 htags/htags.c  		GTOP *gtop;</span>
<span class='curline'><a href='../S/121.html#L1400'>gtop</a>             1400 htags/htags.c  		gtop = gtags_open(dbpath, cwdpath, GTAGS, GTAGS_READ, 0);</span>
<span class='curline'><a href='../S/121.html#L1401'>gtop</a>             1401 htags/htags.c  		gtags_close(gtop);</span>
<span class='curline'><a href='../S/121.html#L1405'>gtop</a>             1405 htags/htags.c  		gtop = gtags_open(dbpath, cwdpath, GRTAGS, GTAGS_READ, 0);</span>
<span class='curline'><a href='../S/121.html#L1406'>gtop</a>             1406 htags/htags.c  		if (gtags_first(gtop, NULL, 0) == NULL)</span>
<span class='curline'><a href='../S/121.html#L1408'>gtop</a>             1408 htags/htags.c  		gtags_close(gtop);</span>
<span class='curline'><a href='../S/304.html#L280'>gtop</a>              280 libutil/gtagsop.c #define VIRTUAL_GRTAGS_GSYMS_PROCESSING(gtop) 						\</span>
<span class='curline'><a href='../S/304.html#L281'>gtop</a>              281 libutil/gtagsop.c 	if (gtop-&gt;db == GRTAGS || gtop-&gt;db == GSYMS) {					\</span>
<span class='curline'><a href='../S/304.html#L282'>gtop</a>              282 libutil/gtagsop.c 		int defined = is_defined_in_GTAGS(gtop, gtop-&gt;dbop-&gt;lastkey);		\</span>
<span class='curline'><a href='../S/304.html#L283'>gtop</a>              283 libutil/gtagsop.c 		if ((gtop-&gt;db == GRTAGS &amp;&amp; !defined) || (gtop-&gt;db == GSYMS &amp;&amp; defined))	\</span>
<span class='curline'><a href='../S/304.html#L296'>gtop</a>              296 libutil/gtagsop.c is_defined_in_GTAGS(GTOP *gtop, const char *name)</span>
<span class='curline'><a href='../S/304.html#L304'>gtop</a>              304 libutil/gtagsop.c 	return prev_result = dbop_get(gtop-&gt;gtags, prev_name) ? 1 : 0;</span>
<span class='curline'><a href='../S/304.html#L337'>gtop</a>              337 libutil/gtagsop.c 	GTOP *gtop;</span>
<span class='curline'><a href='../S/304.html#L342'>gtop</a>              342 libutil/gtagsop.c 	gtop = (GTOP *)check_calloc(sizeof(GTOP), 1);</span>
<span class='curline'><a href='../S/304.html#L343'>gtop</a>              343 libutil/gtagsop.c 	gtop-&gt;db = db;</span>
<span class='curline'><a href='../S/304.html#L344'>gtop</a>              344 libutil/gtagsop.c 	gtop-&gt;mode = mode;</span>
<span class='curline'><a href='../S/304.html#L345'>gtop</a>              345 libutil/gtagsop.c 	gtop-&gt;openflags = flags;</span>
<span class='curline'><a href='../S/304.html#L349'>gtop</a>              349 libutil/gtagsop.c 	switch (gtop-&gt;mode) {</span>
<span class='curline'><a href='../S/304.html#L380'>gtop</a>              380 libutil/gtagsop.c 	gtop-&gt;dbop = dbop_open(tagfile, dbmode, 0644, dbop_flags);</span>
<span class='curline'><a href='../S/304.html#L381'>gtop</a>              381 libutil/gtagsop.c 	if (gtop-&gt;dbop == NULL) {</span>
<span class='curline'><a href='../S/304.html#L389'>gtop</a>              389 libutil/gtagsop.c 	if (gtop-&gt;mode == GTAGS_READ &amp;&amp; db != GTAGS) {</span>
<span class='curline'><a href='../S/304.html#L393'>gtop</a>              393 libutil/gtagsop.c 		gtop-&gt;gtags = dbop_open(gtags, 0, 0, 0);</span>
<span class='curline'><a href='../S/304.html#L394'>gtop</a>              394 libutil/gtagsop.c 		if (gtop-&gt;gtags == NULL)</span>
<span class='curline'><a href='../S/304.html#L396'>gtop</a>              396 libutil/gtagsop.c 		format_version = dbop_getversion(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L402'>gtop</a>              402 libutil/gtagsop.c 	if (gtop-&gt;mode == GTAGS_CREATE) {</span>
<span class='curline'><a href='../S/304.html#L406'>gtop</a>              406 libutil/gtagsop.c 		gtop-&gt;format = 0;</span>
<span class='curline'><a href='../S/304.html#L407'>gtop</a>              407 libutil/gtagsop.c 		gtop-&gt;format_version = new_format_version;</span>
<span class='curline'><a href='../S/304.html#L412'>gtop</a>              412 libutil/gtagsop.c 		if (gtop-&gt;db == GRTAGS || gtop-&gt;db == GSYMS || gtop-&gt;openflags &amp; GTAGS_COMPACT) {</span>
<span class='curline'><a href='../S/304.html#L413'>gtop</a>              413 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPACT;</span>
<span class='curline'><a href='../S/304.html#L414'>gtop</a>              414 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPLINE;</span>
<span class='curline'><a href='../S/304.html#L417'>gtop</a>              417 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPRESS;</span>
<span class='curline'><a href='../S/304.html#L419'>gtop</a>              419 libutil/gtagsop.c 		gtop-&gt;format |= GTAGS_COMPNAME;</span>
<span class='curline'><a href='../S/304.html#L420'>gtop</a>              420 libutil/gtagsop.c 		if (gtop-&gt;format &amp; GTAGS_COMPACT)</span>
<span class='curline'><a href='../S/304.html#L421'>gtop</a>              421 libutil/gtagsop.c 			dbop_putoption(gtop-&gt;dbop, COMPACTKEY, NULL);</span>
<span class='curline'><a href='../S/304.html#L422'>gtop</a>              422 libutil/gtagsop.c 		if (gtop-&gt;format &amp; GTAGS_COMPRESS) {</span>
<span class='curline'><a href='../S/304.html#L423'>gtop</a>              423 libutil/gtagsop.c 			dbop_putoption(gtop-&gt;dbop, COMPRESSKEY, DEFAULT_ABBREVIATION);</span>
<span class='curline'><a href='../S/304.html#L426'>gtop</a>              426 libutil/gtagsop.c 		if (gtop-&gt;format &amp; GTAGS_COMPLINE)</span>
<span class='curline'><a href='../S/304.html#L427'>gtop</a>              427 libutil/gtagsop.c 			dbop_putoption(gtop-&gt;dbop, COMPLINEKEY, NULL);</span>
<span class='curline'><a href='../S/304.html#L428'>gtop</a>              428 libutil/gtagsop.c 		if (gtop-&gt;format &amp; GTAGS_COMPNAME)</span>
<span class='curline'><a href='../S/304.html#L429'>gtop</a>              429 libutil/gtagsop.c 			dbop_putoption(gtop-&gt;dbop, COMPNAMEKEY, NULL);</span>
<span class='curline'><a href='../S/304.html#L430'>gtop</a>              430 libutil/gtagsop.c 		dbop_putversion(gtop-&gt;dbop, gtop-&gt;format_version); </span>
<span class='curline'><a href='../S/304.html#L442'>gtop</a>              442 libutil/gtagsop.c 		gtop-&gt;format_version = dbop_getversion(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L443'>gtop</a>              443 libutil/gtagsop.c 		if (gtop-&gt;format_version &gt; upper_bound_version)</span>
<span class='curline'><a href='../S/304.html#L445'>gtop</a>              445 libutil/gtagsop.c 		else if (gtop-&gt;format_version &lt; lower_bound_version)</span>
<span class='curline'><a href='../S/304.html#L447'>gtop</a>              447 libutil/gtagsop.c 		gtop-&gt;format = 0;</span>
<span class='curline'><a href='../S/304.html#L448'>gtop</a>              448 libutil/gtagsop.c 		if (dbop_getoption(gtop-&gt;dbop, COMPACTKEY) != NULL)</span>
<span class='curline'><a href='../S/304.html#L449'>gtop</a>              449 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPACT;</span>
<span class='curline'><a href='../S/304.html#L450'>gtop</a>              450 libutil/gtagsop.c 		if ((p = dbop_getoption(gtop-&gt;dbop, COMPRESSKEY)) != NULL) {</span>
<span class='curline'><a href='../S/304.html#L452'>gtop</a>              452 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPRESS;</span>
<span class='curline'><a href='../S/304.html#L454'>gtop</a>              454 libutil/gtagsop.c 		if (dbop_getoption(gtop-&gt;dbop, COMPLINEKEY) != NULL)</span>
<span class='curline'><a href='../S/304.html#L455'>gtop</a>              455 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPLINE;</span>
<span class='curline'><a href='../S/304.html#L456'>gtop</a>              456 libutil/gtagsop.c 		if (dbop_getoption(gtop-&gt;dbop, COMPNAMEKEY) != NULL)</span>
<span class='curline'><a href='../S/304.html#L457'>gtop</a>              457 libutil/gtagsop.c 			gtop-&gt;format |= GTAGS_COMPNAME;</span>
<span class='curline'><a href='../S/304.html#L465'>gtop</a>              465 libutil/gtagsop.c 	if (gtop-&gt;mode != GTAGS_READ)</span>
<span class='curline'><a href='../S/304.html#L466'>gtop</a>              466 libutil/gtagsop.c 		gtop-&gt;sb = strbuf_open(0);	/* This buffer is used for working area. */</span>
<span class='curline'><a href='../S/304.html#L470'>gtop</a>              470 libutil/gtagsop.c 	if (gtop-&gt;format &amp; GTAGS_COMPACT) {</span>
<span class='curline'><a href='../S/304.html#L472'>gtop</a>              472 libutil/gtagsop.c 		strlimcpy(gtop-&gt;root, root, sizeof(gtop-&gt;root));</span>
<span class='curline'><a href='../S/304.html#L473'>gtop</a>              473 libutil/gtagsop.c 		if (gtop-&gt;mode != GTAGS_READ)</span>
<span class='curline'><a href='../S/304.html#L474'>gtop</a>              474 libutil/gtagsop.c 			gtop-&gt;path_hash = strhash_open(HASHBUCKETS);</span>
<span class='curline'><a href='../S/304.html#L476'>gtop</a>              476 libutil/gtagsop.c 	gtop-&gt;sb_compress = strbuf_open(0);</span>
<span class='curline'><a href='../S/304.html#L477'>gtop</a>              477 libutil/gtagsop.c 	return gtop;</span>
<span class='curline'><a href='../S/304.html#L489'>gtop</a>              489 libutil/gtagsop.c gtags_put_using(GTOP *gtop, const char *tag, int lno, const char *fid, const char *img)</span>
<span class='curline'><a href='../S/304.html#L493'>gtop</a>              493 libutil/gtagsop.c 	if (gtop-&gt;format &amp; GTAGS_COMPACT) {</span>
<span class='curline'><a href='../S/304.html#L507'>gtop</a>              507 libutil/gtagsop.c 		entry = strhash_assign(gtop-&gt;path_hash, tag, 1);</span>
<span class='curline'><a href='../S/304.html#L521'>gtop</a>              521 libutil/gtagsop.c 	if (gtop-&gt;flags &amp; GTAGS_EXTRACTMETHOD) {</span>
<span class='curline'><a href='../S/304.html#L531'>gtop</a>              531 libutil/gtagsop.c 	strbuf_reset(gtop-&gt;sb);</span>
<span class='curline'><a href='../S/304.html#L532'>gtop</a>              532 libutil/gtagsop.c 	strbuf_puts(gtop-&gt;sb, fid);</span>
<span class='curline'><a href='../S/304.html#L533'>gtop</a>              533 libutil/gtagsop.c 	strbuf_putc(gtop-&gt;sb, ' ');</span>
<span class='curline'><a href='../S/304.html#L534'>gtop</a>              534 libutil/gtagsop.c 	strbuf_puts(gtop-&gt;sb, (gtop-&gt;format &amp; GTAGS_COMPNAME) ? compress(tag, key, gtop-&gt;sb_compress) : tag);</span>
<span class='curline'><a href='../S/304.html#L535'>gtop</a>              535 libutil/gtagsop.c 	strbuf_putc(gtop-&gt;sb, ' ');</span>
<span class='curline'><a href='../S/304.html#L536'>gtop</a>              536 libutil/gtagsop.c 	strbuf_putn(gtop-&gt;sb, lno);</span>
<span class='curline'><a href='../S/304.html#L537'>gtop</a>              537 libutil/gtagsop.c 	strbuf_putc(gtop-&gt;sb, ' ');</span>
<span class='curline'><a href='../S/304.html#L538'>gtop</a>              538 libutil/gtagsop.c 	strbuf_puts(gtop-&gt;sb, (gtop-&gt;format &amp; GTAGS_COMPRESS) ? compress(img, key, gtop-&gt;sb_compress) : img);</span>
<span class='curline'><a href='../S/304.html#L539'>gtop</a>              539 libutil/gtagsop.c 	dbop_put_tag(gtop-&gt;dbop, key, strbuf_value(gtop-&gt;sb));</span>
<span class='curline'><a href='../S/304.html#L548'>gtop</a>              548 libutil/gtagsop.c gtags_flush(GTOP *gtop, const char *fid)</span>
<span class='curline'><a href='../S/304.html#L550'>gtop</a>              550 libutil/gtagsop.c 	if (gtop-&gt;format &amp; GTAGS_COMPACT) {</span>
<span class='curline'><a href='../S/304.html#L551'>gtop</a>              551 libutil/gtagsop.c 		flush_pool(gtop, fid);</span>
<span class='curline'><a href='../S/304.html#L552'>gtop</a>              552 libutil/gtagsop.c 		strhash_reset(gtop-&gt;path_hash);</span>
<span class='curline'><a href='../S/304.html#L562'>gtop</a>              562 libutil/gtagsop.c gtags_delete(GTOP *gtop, IDSET *deleteset)</span>
<span class='curline'><a href='../S/304.html#L568'>gtop</a>              568 libutil/gtagsop.c 	if (gtop-&gt;dbop-&gt;openflags &amp; DBOP_SQLITE3) {</span>
<span class='curline'><a href='../S/304.html#L579'>gtop</a>              579 libutil/gtagsop.c 		dbop_delete(gtop-&gt;dbop, strbuf_value(where));</span>
<span class='curline'><a href='../S/304.html#L583'>gtop</a>              583 libutil/gtagsop.c 	for (tagline = dbop_first(gtop-&gt;dbop, NULL, NULL, 0); tagline; tagline = dbop_next(gtop-&gt;dbop)) {</span>
<span class='curline'><a href='../S/304.html#L592'>gtop</a>              592 libutil/gtagsop.c 			dbop_delete(gtop-&gt;dbop, NULL);</span>
<span class='curline'><a href='../S/304.html#L653'>gtop</a>              653 libutil/gtagsop.c gtags_restart(GTOP *gtop)</span>
<span class='curline'><a href='../S/304.html#L657'>gtop</a>              657 libutil/gtagsop.c 	if (gtop-&gt;prefix == NULL)</span>
<span class='curline'><a href='../S/304.html#L659'>gtop</a>              659 libutil/gtagsop.c 	upper = gtop-&gt;prefix[0];</span>
<span class='curline'><a href='../S/304.html#L662'>gtop</a>              662 libutil/gtagsop.c 		gtop-&gt;prefix[0] = lower;</span>
<span class='curline'><a href='../S/304.html#L663'>gtop</a>              663 libutil/gtagsop.c 		gtop-&gt;key = gtop-&gt;prefix;</span>
<span class='curline'><a href='../S/304.html#L664'>gtop</a>              664 libutil/gtagsop.c 		gtop-&gt;prefix = NULL;</span>
<span class='curline'><a href='../S/304.html#L665'>gtop</a>              665 libutil/gtagsop.c 		if (gtop-&gt;openflags &amp; GTAGS_DEBUG)</span>
<span class='curline'><a href='../S/304.html#L666'>gtop</a>              666 libutil/gtagsop.c 			fprintf(stderr, "Using prefix: %s\n", gtop-&gt;key);</span>
<span class='curline'><a href='../S/304.html#L669'>gtop</a>              669 libutil/gtagsop.c 	if (gtop-&gt;openflags &amp; GTAGS_DEBUG)</span>
<span class='curline'><a href='../S/304.html#L693'>gtop</a>              693 libutil/gtagsop.c gtags_first(GTOP *gtop, const char *pattern, int flags)</span>
<span class='curline'><a href='../S/304.html#L701'>gtop</a>              701 libutil/gtagsop.c 	gtop-&gt;preg = &amp;reg;</span>
<span class='curline'><a href='../S/304.html#L702'>gtop</a>              702 libutil/gtagsop.c 	gtop-&gt;key = NULL;</span>
<span class='curline'><a href='../S/304.html#L703'>gtop</a>              703 libutil/gtagsop.c 	gtop-&gt;prefix = NULL;</span>
<span class='curline'><a href='../S/304.html#L704'>gtop</a>              704 libutil/gtagsop.c 	gtop-&gt;flags = flags;</span>
<span class='curline'><a href='../S/304.html#L705'>gtop</a>              705 libutil/gtagsop.c 	gtop-&gt;dbflags = 0;</span>
<span class='curline'><a href='../S/304.html#L706'>gtop</a>              706 libutil/gtagsop.c 	gtop-&gt;readcount = 1;</span>
<span class='curline'><a href='../S/304.html#L709'>gtop</a>              709 libutil/gtagsop.c 	if (gtop-&gt;path_hash) {</span>
<span class='curline'><a href='../S/304.html#L710'>gtop</a>              710 libutil/gtagsop.c 		strhash_close(gtop-&gt;path_hash);</span>
<span class='curline'><a href='../S/304.html#L711'>gtop</a>              711 libutil/gtagsop.c 		gtop-&gt;path_hash = NULL;</span>
<span class='curline'><a href='../S/304.html#L713'>gtop</a>              713 libutil/gtagsop.c 	if (gtop-&gt;path_array) {</span>
<span class='curline'><a href='../S/304.html#L714'>gtop</a>              714 libutil/gtagsop.c 		free(gtop-&gt;path_array);</span>
<span class='curline'><a href='../S/304.html#L715'>gtop</a>              715 libutil/gtagsop.c 		gtop-&gt;path_array = NULL;</span>
<span class='curline'><a href='../S/304.html#L719'>gtop</a>              719 libutil/gtagsop.c 		gtop-&gt;dbflags |= DBOP_KEY;</span>
<span class='curline'><a href='../S/304.html#L729'>gtop</a>              729 libutil/gtagsop.c 		gtop-&gt;preg = NULL;</span>
<span class='curline'><a href='../S/304.html#L739'>gtop</a>              739 libutil/gtagsop.c 		gtop-&gt;preg = NULL;</span>
<span class='curline'><a href='../S/304.html#L743'>gtop</a>              743 libutil/gtagsop.c 			gtop-&gt;prefix = get_prefix(pattern, flags);</span>
<span class='curline'><a href='../S/304.html#L744'>gtop</a>              744 libutil/gtagsop.c 			if (gtop-&gt;openflags &amp; GTAGS_DEBUG)</span>
<span class='curline'><a href='../S/304.html#L745'>gtop</a>              745 libutil/gtagsop.c 				if (gtop-&gt;prefix != NULL)</span>
<span class='curline'><a href='../S/304.html#L746'>gtop</a>              746 libutil/gtagsop.c 					fprintf(stderr, "Using prefix: %s\n", gtop-&gt;prefix);</span>
<span class='curline'><a href='../S/304.html#L747'>gtop</a>              747 libutil/gtagsop.c 			if (gtop-&gt;prefix == NULL)</span>
<span class='curline'><a href='../S/304.html#L753'>gtop</a>              753 libutil/gtagsop.c 		} else if (*pattern == '^' &amp;&amp; (gtop-&gt;prefix = get_prefix(pattern, flags)) != NULL) {</span>
<span class='curline'><a href='../S/304.html#L754'>gtop</a>              754 libutil/gtagsop.c 			if (gtop-&gt;openflags &amp; GTAGS_DEBUG)</span>
<span class='curline'><a href='../S/304.html#L755'>gtop</a>              755 libutil/gtagsop.c 				fprintf(stderr, "Using prefix: %s\n", gtop-&gt;prefix);</span>
<span class='curline'><a href='../S/304.html#L763'>gtop</a>              763 libutil/gtagsop.c 				gtop-&gt;dbflags |= DBOP_PREFIX;</span>
<span class='curline'><a href='../S/304.html#L764'>gtop</a>              764 libutil/gtagsop.c 			gtop-&gt;key = pattern;</span>
<span class='curline'><a href='../S/304.html#L765'>gtop</a>              765 libutil/gtagsop.c 			gtop-&gt;preg = NULL;</span>
<span class='curline'><a href='../S/304.html#L766'>gtop</a>              766 libutil/gtagsop.c 		} else if (*pattern == '^' &amp;&amp; (gtop-&gt;key = get_prefix(pattern, flags)) != NULL) {</span>
<span class='curline'><a href='../S/304.html#L767'>gtop</a>              767 libutil/gtagsop.c 			if (gtop-&gt;openflags &amp; GTAGS_DEBUG)</span>
<span class='curline'><a href='../S/304.html#L768'>gtop</a>              768 libutil/gtagsop.c 				fprintf(stderr, "Using prefix: %s\n", gtop-&gt;key);</span>
<span class='curline'><a href='../S/304.html#L769'>gtop</a>              769 libutil/gtagsop.c 			gtop-&gt;dbflags |= DBOP_PREFIX;</span>
<span class='curline'><a href='../S/304.html#L770'>gtop</a>              770 libutil/gtagsop.c 			gtop-&gt;preg = NULL;</span>
<span class='curline'><a href='../S/304.html#L775'>gtop</a>              775 libutil/gtagsop.c 	if (gtop-&gt;prefix) {</span>
<span class='curline'><a href='../S/304.html#L776'>gtop</a>              776 libutil/gtagsop.c 		if (gtop-&gt;key)</span>
<span class='curline'><a href='../S/304.html#L778'>gtop</a>              778 libutil/gtagsop.c 		gtop-&gt;key = gtop-&gt;prefix;</span>
<span class='curline'><a href='../S/304.html#L779'>gtop</a>              779 libutil/gtagsop.c 		gtop-&gt;dbflags |= DBOP_PREFIX;</span>
<span class='curline'><a href='../S/304.html#L782'>gtop</a>              782 libutil/gtagsop.c 		if (gtop-&gt;preg == NULL)</span>
<span class='curline'><a href='../S/304.html#L784'>gtop</a>              784 libutil/gtagsop.c 		if (regcomp(gtop-&gt;preg, strbuf_value(regex), regflags) != 0)</span>
<span class='curline'><a href='../S/304.html#L791'>gtop</a>              791 libutil/gtagsop.c 	if (gtop-&gt;flags &amp; GTOP_PATH) {</span>
<span class='curline'><a href='../S/304.html#L797'>gtop</a>              797 libutil/gtagsop.c 		gtop-&gt;path_hash = strhash_open(HASHBUCKETS);</span>
<span class='curline'><a href='../S/304.html#L808'>gtop</a>              808 libutil/gtagsop.c 		for (tagline = dbop_first(gtop-&gt;dbop, gtop-&gt;key, gtop-&gt;preg, gtop-&gt;dbflags);</span>
<span class='curline'><a href='../S/304.html#L810'>gtop</a>              810 libutil/gtagsop.c 		     tagline = dbop_next(gtop-&gt;dbop))</span>
<span class='curline'><a href='../S/304.html#L812'>gtop</a>              812 libutil/gtagsop.c 			VIRTUAL_GRTAGS_GSYMS_PROCESSING(gtop);</span>
<span class='curline'><a href='../S/304.html#L818'>gtop</a>              818 libutil/gtagsop.c 			entry = strhash_assign(gtop-&gt;path_hash, tagline, 1);</span>
<span class='curline'><a href='../S/304.html#L824'>gtop</a>              824 libutil/gtagsop.c 				entry-&gt;value = strhash_strdup(gtop-&gt;path_hash, cp, 0);</span>
<span class='curline'><a href='../S/304.html#L827'>gtop</a>              827 libutil/gtagsop.c 		if (gtop-&gt;prefix &amp;&amp; gtags_restart(gtop))</span>
<span class='curline'><a href='../S/304.html#L838'>gtop</a>              838 libutil/gtagsop.c 		gtop-&gt;path_array = (char **)check_malloc(gtop-&gt;path_hash-&gt;entries * sizeof(char *));</span>
<span class='curline'><a href='../S/304.html#L840'>gtop</a>              840 libutil/gtagsop.c 		for (entry = strhash_first(gtop-&gt;path_hash); entry != NULL; entry = strhash_next(gtop-&gt;path_hash))</span>
<span class='curline'><a href='../S/304.html#L841'>gtop</a>              841 libutil/gtagsop.c 			gtop-&gt;path_array[i++] = entry-&gt;value;</span>
<span class='curline'><a href='../S/304.html#L842'>gtop</a>              842 libutil/gtagsop.c 		if (i != gtop-&gt;path_hash-&gt;entries)</span>
<span class='curline'><a href='../S/304.html#L843'>gtop</a>              843 libutil/gtagsop.c 			die("Something is wrong. 'i = %lu, entries = %lu'" , i, gtop-&gt;path_hash-&gt;entries);</span>
<span class='curline'><a href='../S/304.html#L844'>gtop</a>              844 libutil/gtagsop.c 		if (!(gtop-&gt;flags &amp; GTOP_NOSORT))</span>
<span class='curline'><a href='../S/304.html#L845'>gtop</a>              845 libutil/gtagsop.c 			qsort(gtop-&gt;path_array, gtop-&gt;path_hash-&gt;entries, sizeof(char *),</span>
<span class='curline'><a href='../S/304.html#L846'>gtop</a>              846 libutil/gtagsop.c 				gtop-&gt;flags &amp; GTOP_NEARSORT ? compare_nearpath : compare_path);</span>
<span class='curline'><a href='../S/304.html#L847'>gtop</a>              847 libutil/gtagsop.c 		gtop-&gt;path_count = gtop-&gt;path_hash-&gt;entries;</span>
<span class='curline'><a href='../S/304.html#L848'>gtop</a>              848 libutil/gtagsop.c 		gtop-&gt;path_index = 0;</span>
<span class='curline'><a href='../S/304.html#L850'>gtop</a>              850 libutil/gtagsop.c 		if (gtop-&gt;path_index &gt;= gtop-&gt;path_count)</span>
<span class='curline'><a href='../S/304.html#L852'>gtop</a>              852 libutil/gtagsop.c 		gtop-&gt;gtp.path = gtop-&gt;path_array[gtop-&gt;path_index++];</span>
<span class='curline'><a href='../S/304.html#L853'>gtop</a>              853 libutil/gtagsop.c 		return &amp;gtop-&gt;gtp;</span>
<span class='curline'><a href='../S/304.html#L854'>gtop</a>              854 libutil/gtagsop.c 	} else if (gtop-&gt;flags &amp; GTOP_KEY) {</span>
<span class='curline'><a href='../S/304.html#L856'>gtop</a>              856 libutil/gtagsop.c 		for (gtop-&gt;gtp.tag = dbop_first(gtop-&gt;dbop, gtop-&gt;key, gtop-&gt;preg, gtop-&gt;dbflags);</span>
<span class='curline'><a href='../S/304.html#L857'>gtop</a>              857 libutil/gtagsop.c 		     gtop-&gt;gtp.tag != NULL;</span>
<span class='curline'><a href='../S/304.html#L858'>gtop</a>              858 libutil/gtagsop.c 		     gtop-&gt;gtp.tag = dbop_next(gtop-&gt;dbop))</span>
<span class='curline'><a href='../S/304.html#L860'>gtop</a>              860 libutil/gtagsop.c 			VIRTUAL_GRTAGS_GSYMS_PROCESSING(gtop);</span>
<span class='curline'><a href='../S/304.html#L863'>gtop</a>              863 libutil/gtagsop.c 		if (gtop-&gt;gtp.tag == NULL) {</span>
<span class='curline'><a href='../S/304.html#L864'>gtop</a>              864 libutil/gtagsop.c 			if (gtop-&gt;prefix &amp;&amp; gtags_restart(gtop))</span>
<span class='curline'><a href='../S/304.html#L867'>gtop</a>              867 libutil/gtagsop.c 		return gtop-&gt;gtp.tag ? &amp;gtop-&gt;gtp : NULL;</span>
<span class='curline'><a href='../S/304.html#L869'>gtop</a>              869 libutil/gtagsop.c 		if (gtop-&gt;vb == NULL)</span>
<span class='curline'><a href='../S/304.html#L870'>gtop</a>              870 libutil/gtagsop.c 			gtop-&gt;vb = varray_open(sizeof(GTP), 200);</span>
<span class='curline'><a href='../S/304.html#L872'>gtop</a>              872 libutil/gtagsop.c 			varray_reset(gtop-&gt;vb);</span>
<span class='curline'><a href='../S/304.html#L873'>gtop</a>              873 libutil/gtagsop.c 		if (gtop-&gt;segment_pool == NULL)</span>
<span class='curline'><a href='../S/304.html#L874'>gtop</a>              874 libutil/gtagsop.c 			gtop-&gt;segment_pool = pool_open();</span>
<span class='curline'><a href='../S/304.html#L876'>gtop</a>              876 libutil/gtagsop.c 			pool_reset(gtop-&gt;segment_pool);</span>
<span class='curline'><a href='../S/304.html#L877'>gtop</a>              877 libutil/gtagsop.c 		if (gtop-&gt;path_hash == NULL)</span>
<span class='curline'><a href='../S/304.html#L878'>gtop</a>              878 libutil/gtagsop.c 			gtop-&gt;path_hash = strhash_open(HASHBUCKETS);</span>
<span class='curline'><a href='../S/304.html#L880'>gtop</a>              880 libutil/gtagsop.c 			strhash_reset(gtop-&gt;path_hash);</span>
<span class='curline'><a href='../S/304.html#L882'>gtop</a>              882 libutil/gtagsop.c 		for (tagline = dbop_first(gtop-&gt;dbop, gtop-&gt;key, gtop-&gt;preg, gtop-&gt;dbflags);</span>
<span class='curline'><a href='../S/304.html#L884'>gtop</a>              884 libutil/gtagsop.c 			tagline = dbop_next(gtop-&gt;dbop))</span>
<span class='curline'><a href='../S/304.html#L886'>gtop</a>              886 libutil/gtagsop.c 			VIRTUAL_GRTAGS_GSYMS_PROCESSING(gtop);</span>
<span class='curline'><a href='../S/304.html#L890'>gtop</a>              890 libutil/gtagsop.c 			if (gtop-&gt;prefix &amp;&amp; gtags_restart(gtop))</span>
<span class='curline'><a href='../S/304.html#L897'>gtop</a>              897 libutil/gtagsop.c 		dbop_unread(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L901'>gtop</a>              901 libutil/gtagsop.c 		segment_read(gtop);</span>
<span class='curline'><a href='../S/304.html#L902'>gtop</a>              902 libutil/gtagsop.c 		return  &amp;gtop-&gt;gtp_array[gtop-&gt;gtp_index++];</span>
<span class='curline'><a href='../S/304.html#L913'>gtop</a>              913 libutil/gtagsop.c gtags_next(GTOP *gtop)</span>
<span class='curline'><a href='../S/304.html#L915'>gtop</a>              915 libutil/gtagsop.c 	gtop-&gt;readcount++;</span>
<span class='curline'><a href='../S/304.html#L916'>gtop</a>              916 libutil/gtagsop.c 	if (gtop-&gt;flags &amp; GTOP_PATH) {</span>
<span class='curline'><a href='../S/304.html#L917'>gtop</a>              917 libutil/gtagsop.c 		if (gtop-&gt;path_index &gt;= gtop-&gt;path_count)</span>
<span class='curline'><a href='../S/304.html#L919'>gtop</a>              919 libutil/gtagsop.c 		gtop-&gt;gtp.path = gtop-&gt;path_array[gtop-&gt;path_index++];</span>
<span class='curline'><a href='../S/304.html#L920'>gtop</a>              920 libutil/gtagsop.c 		return &amp;gtop-&gt;gtp;</span>
<span class='curline'><a href='../S/304.html#L921'>gtop</a>              921 libutil/gtagsop.c 	} else if (gtop-&gt;flags &amp; GTOP_KEY) {</span>
<span class='curline'><a href='../S/304.html#L922'>gtop</a>              922 libutil/gtagsop.c 		gtop-&gt;gtp.tag = dbop_next(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L924'>gtop</a>              924 libutil/gtagsop.c 		for (; gtop-&gt;gtp.tag != NULL; gtop-&gt;gtp.tag = dbop_next(gtop-&gt;dbop))</span>
<span class='curline'><a href='../S/304.html#L926'>gtop</a>              926 libutil/gtagsop.c 			VIRTUAL_GRTAGS_GSYMS_PROCESSING(gtop);</span>
<span class='curline'><a href='../S/304.html#L929'>gtop</a>              929 libutil/gtagsop.c 		if (gtop-&gt;gtp.tag == NULL) {</span>
<span class='curline'><a href='../S/304.html#L930'>gtop</a>              930 libutil/gtagsop.c 			if (gtop-&gt;prefix &amp;&amp; gtags_restart(gtop)) {</span>
<span class='curline'><a href='../S/304.html#L931'>gtop</a>              931 libutil/gtagsop.c 				gtop-&gt;gtp.tag = dbop_first(gtop-&gt;dbop, gtop-&gt;key, gtop-&gt;preg, gtop-&gt;dbflags);</span>
<span class='curline'><a href='../S/304.html#L935'>gtop</a>              935 libutil/gtagsop.c 		return gtop-&gt;gtp.tag ? &amp;gtop-&gt;gtp : NULL;</span>
<span class='curline'><a href='../S/304.html#L941'>gtop</a>              941 libutil/gtagsop.c 		if (gtop-&gt;gtp_index &gt;= gtop-&gt;gtp_count) {</span>
<span class='curline'><a href='../S/304.html#L942'>gtop</a>              942 libutil/gtagsop.c 			varray_reset(gtop-&gt;vb);</span>
<span class='curline'><a href='../S/304.html#L943'>gtop</a>              943 libutil/gtagsop.c 			pool_reset(gtop-&gt;segment_pool);</span>
<span class='curline'><a href='../S/304.html#L945'>gtop</a>              945 libutil/gtagsop.c 			segment_read(gtop);</span>
<span class='curline'><a href='../S/304.html#L947'>gtop</a>              947 libutil/gtagsop.c 		if (gtop-&gt;gtp_index &gt;= gtop-&gt;gtp_count) {</span>
<span class='curline'><a href='../S/304.html#L948'>gtop</a>              948 libutil/gtagsop.c 			if (gtop-&gt;prefix &amp;&amp; gtags_restart(gtop)) {</span>
<span class='curline'><a href='../S/304.html#L949'>gtop</a>              949 libutil/gtagsop.c 				gtop-&gt;gtp.tag = dbop_first(gtop-&gt;dbop, gtop-&gt;key, gtop-&gt;preg, gtop-&gt;dbflags);</span>
<span class='curline'><a href='../S/304.html#L950'>gtop</a>              950 libutil/gtagsop.c 				if (gtop-&gt;gtp.tag == NULL)</span>
<span class='curline'><a href='../S/304.html#L952'>gtop</a>              952 libutil/gtagsop.c 				dbop_unread(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L953'>gtop</a>              953 libutil/gtagsop.c 				segment_read(gtop);</span>
<span class='curline'><a href='../S/304.html#L957'>gtop</a>              957 libutil/gtagsop.c 		return &amp;gtop-&gt;gtp_array[gtop-&gt;gtp_index++];</span>
<span class='curline'><a href='../S/304.html#L961'>gtop</a>              961 libutil/gtagsop.c gtags_show_statistics(GTOP *gtop)</span>
<span class='curline'><a href='../S/304.html#L963'>gtop</a>              963 libutil/gtagsop.c 	fprintf(stderr, "Numbers of gtags (%s): %d\n", dbname(gtop-&gt;db), gtop-&gt;readcount);</span>
<span class='curline'><a href='../S/304.html#L964'>gtop</a>              964 libutil/gtagsop.c 	fprintf(stderr, "Numbers of dbop  (%s): %d\n", dbname(gtop-&gt;db), gtop-&gt;dbop-&gt;readcount);</span>
<span class='curline'><a href='../S/304.html#L972'>gtop</a>              972 libutil/gtagsop.c gtags_close(GTOP *gtop)</span>
<span class='curline'><a href='../S/304.html#L974'>gtop</a>              974 libutil/gtagsop.c 	if (gtop-&gt;format &amp; GTAGS_COMPRESS)</span>
<span class='curline'><a href='../S/304.html#L976'>gtop</a>              976 libutil/gtagsop.c 	if (gtop-&gt;segment_pool)</span>
<span class='curline'><a href='../S/304.html#L977'>gtop</a>              977 libutil/gtagsop.c 		pool_close(gtop-&gt;segment_pool);</span>
<span class='curline'><a href='../S/304.html#L978'>gtop</a>              978 libutil/gtagsop.c 	if (gtop-&gt;path_array)</span>
<span class='curline'><a href='../S/304.html#L979'>gtop</a>              979 libutil/gtagsop.c 		free(gtop-&gt;path_array);</span>
<span class='curline'><a href='../S/304.html#L980'>gtop</a>              980 libutil/gtagsop.c 	if (gtop-&gt;sb)</span>
<span class='curline'><a href='../S/304.html#L981'>gtop</a>              981 libutil/gtagsop.c 		strbuf_close(gtop-&gt;sb);</span>
<span class='curline'><a href='../S/304.html#L982'>gtop</a>              982 libutil/gtagsop.c 	if (gtop-&gt;sb_compress)</span>
<span class='curline'><a href='../S/304.html#L983'>gtop</a>              983 libutil/gtagsop.c 		strbuf_close(gtop-&gt;sb_compress);</span>
<span class='curline'><a href='../S/304.html#L984'>gtop</a>              984 libutil/gtagsop.c 	if (gtop-&gt;vb)</span>
<span class='curline'><a href='../S/304.html#L985'>gtop</a>              985 libutil/gtagsop.c 		varray_close(gtop-&gt;vb);</span>
<span class='curline'><a href='../S/304.html#L986'>gtop</a>              986 libutil/gtagsop.c 	if (gtop-&gt;path_hash)</span>
<span class='curline'><a href='../S/304.html#L987'>gtop</a>              987 libutil/gtagsop.c 		strhash_close(gtop-&gt;path_hash);</span>
<span class='curline'><a href='../S/304.html#L989'>gtop</a>              989 libutil/gtagsop.c 	dbop_close(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L990'>gtop</a>              990 libutil/gtagsop.c 	if (gtop-&gt;gtags)</span>
<span class='curline'><a href='../S/304.html#L991'>gtop</a>              991 libutil/gtagsop.c 		dbop_close(gtop-&gt;gtags);</span>
<span class='curline'><a href='../S/304.html#L992'>gtop</a>              992 libutil/gtagsop.c 	free(gtop);</span>
<span class='curline'><a href='../S/304.html#L1001'>gtop</a>             1001 libutil/gtagsop.c flush_pool(GTOP *gtop, const char *s_fid)</span>
<span class='curline'><a href='../S/304.html#L1013'>gtop</a>             1013 libutil/gtagsop.c 	for (entry = strhash_first(gtop-&gt;path_hash); entry; entry = strhash_next(gtop-&gt;path_hash)) {</span>
<span class='curline'><a href='../S/304.html#L1026'>gtop</a>             1026 libutil/gtagsop.c 		if (gtop-&gt;flags &amp; GTAGS_EXTRACTMETHOD) {</span>
<span class='curline'><a href='../S/304.html#L1037'>gtop</a>             1037 libutil/gtagsop.c 		strbuf_reset(gtop-&gt;sb);</span>
<span class='curline'><a href='../S/304.html#L1038'>gtop</a>             1038 libutil/gtagsop.c 		strbuf_puts(gtop-&gt;sb, s_fid);</span>
<span class='curline'><a href='../S/304.html#L1039'>gtop</a>             1039 libutil/gtagsop.c 		strbuf_putc(gtop-&gt;sb, ' ');</span>
<span class='curline'><a href='../S/304.html#L1040'>gtop</a>             1040 libutil/gtagsop.c 		if (gtop-&gt;format &amp; GTAGS_COMPNAME) {</span>
<span class='curline'><a href='../S/304.html#L1041'>gtop</a>             1041 libutil/gtagsop.c 			strbuf_puts(gtop-&gt;sb, compress(entry-&gt;name, key, gtop-&gt;sb_compress));</span>
<span class='curline'><a href='../S/304.html#L1043'>gtop</a>             1043 libutil/gtagsop.c 			strbuf_puts(gtop-&gt;sb, entry-&gt;name);</span>
<span class='curline'><a href='../S/304.html#L1045'>gtop</a>             1045 libutil/gtagsop.c 		strbuf_putc(gtop-&gt;sb, ' ');</span>
<span class='curline'><a href='../S/304.html#L1046'>gtop</a>             1046 libutil/gtagsop.c 		header_offset = strbuf_getlen(gtop-&gt;sb);</span>
<span class='curline'><a href='../S/304.html#L1052'>gtop</a>             1052 libutil/gtagsop.c 		if (gtop-&gt;format &amp; GTAGS_COMPLINE) {</span>
<span class='curline'><a href='../S/304.html#L1066'>gtop</a>             1066 libutil/gtagsop.c 						if (strbuf_getlen(gtop-&gt;sb) == header_offset)</span>
<span class='curline'><a href='../S/304.html#L1067'>gtop</a>             1067 libutil/gtagsop.c 							strbuf_putn(gtop-&gt;sb, n);</span>
<span class='curline'><a href='../S/304.html#L1076'>gtop</a>             1076 libutil/gtagsop.c 						strbuf_putc(gtop-&gt;sb, '-');</span>
<span class='curline'><a href='../S/304.html#L1077'>gtop</a>             1077 libutil/gtagsop.c 						strbuf_putn(gtop-&gt;sb, last - cont);</span>
<span class='curline'><a href='../S/304.html#L1080'>gtop</a>             1080 libutil/gtagsop.c 					if (strbuf_getlen(gtop-&gt;sb) &gt; header_offset) {</span>
<span class='curline'><a href='../S/304.html#L1081'>gtop</a>             1081 libutil/gtagsop.c 						strbuf_putc(gtop-&gt;sb, ',');</span>
<span class='curline'><a href='../S/304.html#L1082'>gtop</a>             1082 libutil/gtagsop.c 						strbuf_putn(gtop-&gt;sb, n - last);</span>
<span class='curline'><a href='../S/304.html#L1084'>gtop</a>             1084 libutil/gtagsop.c 						strbuf_putn(gtop-&gt;sb, n);</span>
<span class='curline'><a href='../S/304.html#L1086'>gtop</a>             1086 libutil/gtagsop.c 					if (strbuf_getlen(gtop-&gt;sb) &gt; DBOP_PAGESIZE / 4) {</span>
<span class='curline'><a href='../S/304.html#L1087'>gtop</a>             1087 libutil/gtagsop.c 						dbop_put_tag(gtop-&gt;dbop, key, strbuf_value(gtop-&gt;sb));</span>
<span class='curline'><a href='../S/304.html#L1088'>gtop</a>             1088 libutil/gtagsop.c 						strbuf_setlen(gtop-&gt;sb, header_offset);</span>
<span class='curline'><a href='../S/304.html#L1094'>gtop</a>             1094 libutil/gtagsop.c 				strbuf_putc(gtop-&gt;sb, '-');</span>
<span class='curline'><a href='../S/304.html#L1095'>gtop</a>             1095 libutil/gtagsop.c 				strbuf_putn(gtop-&gt;sb, last - cont);</span>
<span class='curline'><a href='../S/304.html#L1107'>gtop</a>             1107 libutil/gtagsop.c 				if (strbuf_getlen(gtop-&gt;sb) &gt; header_offset)</span>
<span class='curline'><a href='../S/304.html#L1108'>gtop</a>             1108 libutil/gtagsop.c 					strbuf_putc(gtop-&gt;sb, ',');</span>
<span class='curline'><a href='../S/304.html#L1109'>gtop</a>             1109 libutil/gtagsop.c 				strbuf_putn(gtop-&gt;sb, n);</span>
<span class='curline'><a href='../S/304.html#L1110'>gtop</a>             1110 libutil/gtagsop.c 				if (strbuf_getlen(gtop-&gt;sb) &gt; DBOP_PAGESIZE / 4) {</span>
<span class='curline'><a href='../S/304.html#L1111'>gtop</a>             1111 libutil/gtagsop.c 					dbop_put_tag(gtop-&gt;dbop, key, strbuf_value(gtop-&gt;sb));</span>
<span class='curline'><a href='../S/304.html#L1112'>gtop</a>             1112 libutil/gtagsop.c 					strbuf_setlen(gtop-&gt;sb, header_offset);</span>
<span class='curline'><a href='../S/304.html#L1117'>gtop</a>             1117 libutil/gtagsop.c 		if (strbuf_getlen(gtop-&gt;sb) &gt; header_offset) {</span>
<span class='curline'><a href='../S/304.html#L1118'>gtop</a>             1118 libutil/gtagsop.c 			dbop_put_tag(gtop-&gt;dbop, key, strbuf_value(gtop-&gt;sb));</span>
<span class='curline'><a href='../S/304.html#L1145'>gtop</a>             1145 libutil/gtagsop.c segment_read(GTOP *gtop)</span>
<span class='curline'><a href='../S/304.html#L1154'>gtop</a>             1154 libutil/gtagsop.c 	gtop-&gt;cur_tagname[0] = '\0';</span>
<span class='curline'><a href='../S/304.html#L1155'>gtop</a>             1155 libutil/gtagsop.c 	while ((tagline = dbop_next(gtop-&gt;dbop)) != NULL) {</span>
<span class='curline'><a href='../S/304.html#L1156'>gtop</a>             1156 libutil/gtagsop.c 		VIRTUAL_GRTAGS_GSYMS_PROCESSING(gtop);</span>
<span class='curline'><a href='../S/304.html#L1162'>gtop</a>             1162 libutil/gtagsop.c 		if (gtop-&gt;cur_tagname[0] == '\0') {</span>
<span class='curline'><a href='../S/304.html#L1163'>gtop</a>             1163 libutil/gtagsop.c 			strlimcpy(gtop-&gt;cur_tagname, gtop-&gt;dbop-&gt;lastkey, sizeof(gtop-&gt;cur_tagname));</span>
<span class='curline'><a href='../S/304.html#L1164'>gtop</a>             1164 libutil/gtagsop.c 		} else if (strcmp(gtop-&gt;cur_tagname, gtop-&gt;dbop-&gt;lastkey) != 0) {</span>
<span class='curline'><a href='../S/304.html#L1168'>gtop</a>             1168 libutil/gtagsop.c 			dbop_unread(gtop-&gt;dbop);</span>
<span class='curline'><a href='../S/304.html#L1171'>gtop</a>             1171 libutil/gtagsop.c 		gtp = varray_append(gtop-&gt;vb);</span>
<span class='curline'><a href='../S/304.html#L1172'>gtop</a>             1172 libutil/gtagsop.c 		gtp-&gt;tagline = pool_strdup(gtop-&gt;segment_pool, tagline, 0);</span>
<span class='curline'><a href='../S/304.html#L1173'>gtop</a>             1173 libutil/gtagsop.c 		gtp-&gt;tag = (const char *)gtop-&gt;cur_tagname;</span>
<span class='curline'><a href='../S/304.html#L1181'>gtop</a>             1181 libutil/gtagsop.c 		sh = strhash_assign(gtop-&gt;path_hash, path, 1);</span>
<span class='curline'><a href='../S/304.html#L1191'>gtop</a>             1191 libutil/gtagsop.c 	gtop-&gt;gtp_array = varray_assign(gtop-&gt;vb, 0, 0);</span>
<span class='curline'><a href='../S/304.html#L1192'>gtop</a>             1192 libutil/gtagsop.c 	gtop-&gt;gtp_count = gtop-&gt;vb-&gt;length;</span>
<span class='curline'><a href='../S/304.html#L1193'>gtop</a>             1193 libutil/gtagsop.c 	gtop-&gt;gtp_index = 0;</span>
<span class='curline'><a href='../S/304.html#L1194'>gtop</a>             1194 libutil/gtagsop.c 	if (!(gtop-&gt;flags &amp; GTOP_NOSORT))</span>
<span class='curline'><a href='../S/304.html#L1195'>gtop</a>             1195 libutil/gtagsop.c 		qsort(gtop-&gt;gtp_array, gtop-&gt;gtp_count, sizeof(GTP),</span>
<span class='curline'><a href='../S/304.html#L1196'>gtop</a>             1196 libutil/gtagsop.c 			gtop-&gt;flags &amp; GTOP_NEARSORT ? compare_neartags : compare_tags);</span>
</pre>
</body>
</html>
