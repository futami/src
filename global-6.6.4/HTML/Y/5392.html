<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pLock</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L26237'>pLock</a>            26237 libdb/sqlite3.c static int unixFileLock(unixFile *pFile, struct flock *pLock){</span>
<span class='curline'><a href='../S/185.html#L26260'>pLock</a>            26260 libdb/sqlite3.c     rc = osFcntl(pFile-&gt;h, F_SETLK, pLock);</span>
<span class='curline'><a href='../S/185.html#L51662'>pLock</a>            51662 libdb/sqlite3.c   BtLock *pLock;        /* List of locks held on this shared-btree struct */</span>
<span class='curline'><a href='../S/185.html#L52332'>pLock</a>            52332 libdb/sqlite3.c   BtLock *pLock;</span>
<span class='curline'><a href='../S/185.html#L52372'>pLock</a>            52372 libdb/sqlite3.c   for(pLock=pBtree-&gt;pBt-&gt;pLock; pLock; pLock=pLock-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L52373'>pLock</a>            52373 libdb/sqlite3.c     if( pLock-&gt;pBtree==pBtree </span>
<span class='curline'><a href='../S/185.html#L52374'>pLock</a>            52374 libdb/sqlite3.c      &amp;&amp; (pLock-&gt;iTable==iTab || (pLock-&gt;eLock==WRITE_LOCK &amp;&amp; pLock-&gt;iTable==1))</span>
<span class='curline'><a href='../S/185.html#L52375'>pLock</a>            52375 libdb/sqlite3.c      &amp;&amp; pLock-&gt;eLock&gt;=eLockType </span>
<span class='curline'><a href='../S/185.html#L52454'>pLock</a>            52454 libdb/sqlite3.c   for(pIter=pBt-&gt;pLock; pIter; pIter=pIter-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L52499'>pLock</a>            52499 libdb/sqlite3.c   BtLock *pLock = 0;</span>
<span class='curline'><a href='../S/185.html#L52518'>pLock</a>            52518 libdb/sqlite3.c   for(pIter=pBt-&gt;pLock; pIter; pIter=pIter-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L52520'>pLock</a>            52520 libdb/sqlite3.c       pLock = pIter;</span>
<span class='curline'><a href='../S/185.html#L52528'>pLock</a>            52528 libdb/sqlite3.c   if( !pLock ){</span>
<span class='curline'><a href='../S/185.html#L52529'>pLock</a>            52529 libdb/sqlite3.c     pLock = (BtLock *)sqlite3MallocZero(sizeof(BtLock));</span>
<span class='curline'><a href='../S/185.html#L52530'>pLock</a>            52530 libdb/sqlite3.c     if( !pLock ){</span>
<span class='curline'><a href='../S/185.html#L52533'>pLock</a>            52533 libdb/sqlite3.c     pLock-&gt;iTable = iTable;</span>
<span class='curline'><a href='../S/185.html#L52534'>pLock</a>            52534 libdb/sqlite3.c     pLock-&gt;pBtree = p;</span>
<span class='curline'><a href='../S/185.html#L52535'>pLock</a>            52535 libdb/sqlite3.c     pLock-&gt;pNext = pBt-&gt;pLock;</span>
<span class='curline'><a href='../S/185.html#L52536'>pLock</a>            52536 libdb/sqlite3.c     pBt-&gt;pLock = pLock;</span>
<span class='curline'><a href='../S/185.html#L52544'>pLock</a>            52544 libdb/sqlite3.c   if( eLock&gt;pLock-&gt;eLock ){</span>
<span class='curline'><a href='../S/185.html#L52545'>pLock</a>            52545 libdb/sqlite3.c     pLock-&gt;eLock = eLock;</span>
<span class='curline'><a href='../S/185.html#L52563'>pLock</a>            52563 libdb/sqlite3.c   BtLock **ppIter = &amp;pBt-&gt;pLock;</span>
<span class='curline'><a href='../S/185.html#L52570'>pLock</a>            52570 libdb/sqlite3.c     BtLock *pLock = *ppIter;</span>
<span class='curline'><a href='../S/185.html#L52571'>pLock</a>            52571 libdb/sqlite3.c     assert( (pBt-&gt;btsFlags &amp; BTS_EXCLUSIVE)==0 || pBt-&gt;pWriter==pLock-&gt;pBtree );</span>
<span class='curline'><a href='../S/185.html#L52572'>pLock</a>            52572 libdb/sqlite3.c     assert( pLock-&gt;pBtree-&gt;inTrans&gt;=pLock-&gt;eLock );</span>
<span class='curline'><a href='../S/185.html#L52573'>pLock</a>            52573 libdb/sqlite3.c     if( pLock-&gt;pBtree==p ){</span>
<span class='curline'><a href='../S/185.html#L52574'>pLock</a>            52574 libdb/sqlite3.c       *ppIter = pLock-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L52575'>pLock</a>            52575 libdb/sqlite3.c       assert( pLock-&gt;iTable!=1 || pLock==&amp;p-&gt;lock );</span>
<span class='curline'><a href='../S/185.html#L52576'>pLock</a>            52576 libdb/sqlite3.c       if( pLock-&gt;iTable!=1 ){</span>
<span class='curline'><a href='../S/185.html#L52577'>pLock</a>            52577 libdb/sqlite3.c         sqlite3_free(pLock);</span>
<span class='curline'><a href='../S/185.html#L52580'>pLock</a>            52580 libdb/sqlite3.c       ppIter = &amp;pLock-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L52608'>pLock</a>            52608 libdb/sqlite3.c     BtLock *pLock;</span>
<span class='curline'><a href='../S/185.html#L52611'>pLock</a>            52611 libdb/sqlite3.c     for(pLock=pBt-&gt;pLock; pLock; pLock=pLock-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L52612'>pLock</a>            52612 libdb/sqlite3.c       assert( pLock-&gt;eLock==READ_LOCK || pLock-&gt;pBtree==p );</span>
<span class='curline'><a href='../S/185.html#L52613'>pLock</a>            52613 libdb/sqlite3.c       pLock-&gt;eLock = READ_LOCK;</span>
<span class='curline'><a href='../S/185.html#L54961'>pLock</a>            54961 libdb/sqlite3.c     for(pIter=pBt-&gt;pLock; pIter; pIter=pIter-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L55017'>pLock</a>            55017 libdb/sqlite3.c         p-&gt;lock.pNext = pBt-&gt;pLock;</span>
<span class='curline'><a href='../S/185.html#L55018'>pLock</a>            55018 libdb/sqlite3.c         pBt-&gt;pLock = &amp;p-&gt;lock;</span>
</pre>
</body>
</html>
