<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>dbSize</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L41510'>dbSize</a>           41510 libdb/sqlite3.c   Pgno dbSize;                /* Number of pages in the database */</span>
<span class='curline'><a href='../S/185.html#L41765'>dbSize</a>           41765 libdb/sqlite3.c       assert( pPager-&gt;dbSize==pPager-&gt;dbOrigSize );</span>
<span class='curline'><a href='../S/185.html#L41870'>dbSize</a>           41870 libdb/sqlite3.c       , (int)p-&gt;dbSize, (int)p-&gt;dbOrigSize, (int)p-&gt;dbFileSize</span>
<span class='curline'><a href='../S/185.html#L42840'>dbSize</a>           42840 libdb/sqlite3.c   if( pPager-&gt;dbSize==0 &amp;&amp; sqlite3PcacheRefCount(pPager-&gt;pPCache)&gt;0 ){</span>
<span class='curline'><a href='../S/185.html#L42853'>dbSize</a>           42853 libdb/sqlite3.c   sqlite3PcacheTruncate(pPager-&gt;pPCache, pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/185.html#L42862'>dbSize</a>           42862 libdb/sqlite3.c   }else if( rc==SQLITE_OK &amp;&amp; bCommit &amp;&amp; pPager-&gt;dbFileSize&gt;pPager-&gt;dbSize ){</span>
<span class='curline'><a href='../S/185.html#L42870'>dbSize</a>           42870 libdb/sqlite3.c     rc = pager_truncate(pPager, pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/185.html#L43057'>dbSize</a>           43057 libdb/sqlite3.c   if( pgno&gt;(Pgno)pPager-&gt;dbSize || sqlite3BitvecTest(pDone, pgno) ){</span>
<span class='curline'><a href='../S/185.html#L43620'>dbSize</a>           43620 libdb/sqlite3.c       pPager-&gt;dbSize = mxPg;</span>
<span class='curline'><a href='../S/185.html#L43868'>dbSize</a>           43868 libdb/sqlite3.c   pPager-&gt;dbSize = pPager-&gt;dbOrigSize;</span>
<span class='curline'><a href='../S/185.html#L44144'>dbSize</a>           44144 libdb/sqlite3.c   pPager-&gt;dbSize = pSavepoint ? pSavepoint-&gt;nOrig : pPager-&gt;dbOrigSize;</span>
<span class='curline'><a href='../S/185.html#L44473'>dbSize</a>           44473 libdb/sqlite3.c   if( (pPager-&gt;memDb==0 || pPager-&gt;dbSize==0)</span>
<span class='curline'><a href='../S/185.html#L44495'>dbSize</a>           44495 libdb/sqlite3.c       pPager-&gt;dbSize = (Pgno)((nByte+pageSize-1)/pageSize);</span>
<span class='curline'><a href='../S/185.html#L44537'>dbSize</a>           44537 libdb/sqlite3.c   assert( pPager-&gt;mxPgno&gt;=pPager-&gt;dbSize );  /* OP_MaxPgcnt enforces this */</span>
<span class='curline'><a href='../S/185.html#L44610'>dbSize</a>           44610 libdb/sqlite3.c   *pnPage = (int)pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L44672'>dbSize</a>           44672 libdb/sqlite3.c   assert( !subjRequiresPage(pPg) || pPg-&gt;pgno&lt;=pPg-&gt;pPager-&gt;dbSize );</span>
<span class='curline'><a href='../S/185.html#L44693'>dbSize</a>           44693 libdb/sqlite3.c   assert( pPager-&gt;dbSize&gt;=nPage );</span>
<span class='curline'><a href='../S/185.html#L44695'>dbSize</a>           44695 libdb/sqlite3.c   pPager-&gt;dbSize = nPage;</span>
<span class='curline'><a href='../S/185.html#L45092'>dbSize</a>           45092 libdb/sqlite3.c    &amp;&amp; pPager-&gt;dbHintSize&lt;pPager-&gt;dbSize</span>
<span class='curline'><a href='../S/185.html#L45095'>dbSize</a>           45095 libdb/sqlite3.c     sqlite3_int64 szFile = pPager-&gt;pageSize * (sqlite3_int64)pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L45097'>dbSize</a>           45097 libdb/sqlite3.c     pPager-&gt;dbHintSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L45111'>dbSize</a>           45111 libdb/sqlite3.c     if( pgno&lt;=pPager-&gt;dbSize &amp;&amp; 0==(pList-&gt;flags&amp;PGHDR_DONT_WRITE) ){</span>
<span class='curline'><a href='../S/185.html#L45323'>dbSize</a>           45323 libdb/sqlite3.c         rc==SQLITE_OK &amp;&amp; pPg-&gt;pgno&gt;pPager-&gt;dbSize &amp;&amp; subjRequiresPage(pPg)</span>
<span class='curline'><a href='../S/185.html#L45681'>dbSize</a>           45681 libdb/sqlite3.c   if( pPager-&gt;dbSize==0 ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/185.html#L46049'>dbSize</a>           46049 libdb/sqlite3.c     rc = pagerPagecount(pPager, &amp;pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/185.html#L46237'>dbSize</a>           46237 libdb/sqlite3.c     if( MEMDB || pPager-&gt;dbSize&lt;pgno || noContent || !isOpen(pPager-&gt;fd) ){</span>
<span class='curline'><a href='../S/185.html#L46367'>dbSize</a>           46367 libdb/sqlite3.c     pPager-&gt;pInJournal = sqlite3BitvecCreate(pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/185.html#L46493'>dbSize</a>           46493 libdb/sqlite3.c       pPager-&gt;dbHintSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L46494'>dbSize</a>           46494 libdb/sqlite3.c       pPager-&gt;dbFileSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L46495'>dbSize</a>           46495 libdb/sqlite3.c       pPager-&gt;dbOrigSize = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L46635'>dbSize</a>           46635 libdb/sqlite3.c   if( pPager-&gt;dbSize&lt;pPg-&gt;pgno ){</span>
<span class='curline'><a href='../S/185.html#L46636'>dbSize</a>           46636 libdb/sqlite3.c     pPager-&gt;dbSize = pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/185.html#L46676'>dbSize</a>           46676 libdb/sqlite3.c   nPageCount = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L46841'>dbSize</a>           46841 libdb/sqlite3.c   if( !pPager-&gt;changeCountDone &amp;&amp; ALWAYS(pPager-&gt;dbSize&gt;0) ){</span>
<span class='curline'><a href='../S/185.html#L46981'>dbSize</a>           46981 libdb/sqlite3.c       pPager-&gt;zFilename, zMaster, pPager-&gt;dbSize));</span>
<span class='curline'><a href='../S/185.html#L47005'>dbSize</a>           47005 libdb/sqlite3.c         rc = pagerWalFrames(pPager, pList, pPager-&gt;dbSize, 1);</span>
<span class='curline'><a href='../S/185.html#L47043'>dbSize</a>           47043 libdb/sqlite3.c        &amp;&amp; pPager-&gt;dbSize&gt;=pPager-&gt;dbOrigSize</span>
<span class='curline'><a href='../S/185.html#L47098'>dbSize</a>           47098 libdb/sqlite3.c       if( pPager-&gt;dbSize&gt;pPager-&gt;dbFileSize ){</span>
<span class='curline'><a href='../S/185.html#L47099'>dbSize</a>           47099 libdb/sqlite3.c         Pgno nNew = pPager-&gt;dbSize - (pPager-&gt;dbSize==PAGER_MJ_PGNO(pPager));</span>
<span class='curline'><a href='../S/185.html#L47289'>dbSize</a>           47289 libdb/sqlite3.c   a[3] = pPager-&gt;eState==PAGER_OPEN ? -1 : (int) pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L47368'>dbSize</a>           47368 libdb/sqlite3.c       aNew[ii].nOrig = pPager-&gt;dbSize;</span>
<span class='curline'><a href='../S/185.html#L47375'>dbSize</a>           47375 libdb/sqlite3.c       aNew[ii].pInSavepoint = sqlite3BitvecCreate(pPager-&gt;dbSize);</span>
<span class='curline'><a href='../S/185.html#L47658'>dbSize</a>           47658 libdb/sqlite3.c       sqlite3PcacheMove(pPgOld, pPager-&gt;dbSize+1);</span>
</pre>
</body>
</html>
