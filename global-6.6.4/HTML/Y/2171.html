<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>conchFile</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L31208'>conchFile</a>        31208 libdb/sqlite3.c   unixFile *conchFile;         /* Open conch file */</span>
<span class='curline'><a href='../S/185.html#L31442'>conchFile</a>        31442 libdb/sqlite3.c   unixFile *conchFile = pCtx-&gt;conchFile;</span>
<span class='curline'><a href='../S/185.html#L31461'>conchFile</a>        31461 libdb/sqlite3.c   readLen = osPread(conchFile-&gt;h, buf, PROXY_MAXCONCHLEN, 0);</span>
<span class='curline'><a href='../S/185.html#L31482'>conchFile</a>        31482 libdb/sqlite3.c   robust_close(pFile, conchFile-&gt;h, __LINE__);</span>
<span class='curline'><a href='../S/185.html#L31483'>conchFile</a>        31483 libdb/sqlite3.c   conchFile-&gt;h = fd;</span>
<span class='curline'><a href='../S/185.html#L31484'>conchFile</a>        31484 libdb/sqlite3.c   conchFile-&gt;openFlags = O_RDWR | O_CREAT;</span>
<span class='curline'><a href='../S/185.html#L31502'>conchFile</a>        31502 libdb/sqlite3.c   unixFile *conchFile = pCtx-&gt;conchFile;</span>
<span class='curline'><a href='../S/185.html#L31509'>conchFile</a>        31509 libdb/sqlite3.c     rc = conchFile-&gt;pMethod-&gt;xLock((sqlite3_file*)conchFile, lockType);</span>
<span class='curline'><a href='../S/185.html#L31519'>conchFile</a>        31519 libdb/sqlite3.c       if( osFstat(conchFile-&gt;h, &amp;buf) ){</span>
<span class='curline'><a href='../S/185.html#L31538'>conchFile</a>        31538 libdb/sqlite3.c         int len = osPread(conchFile-&gt;h, tBuf, PROXY_MAXCONCHLEN, 0);</span>
<span class='curline'><a href='../S/185.html#L31560'>conchFile</a>        31560 libdb/sqlite3.c           rc = conchFile-&gt;pMethod-&gt;xLock((sqlite3_file*)conchFile, SHARED_LOCK);          </span>
<span class='curline'><a href='../S/185.html#L31563'>conchFile</a>        31563 libdb/sqlite3.c           rc = conchFile-&gt;pMethod-&gt;xLock((sqlite3_file*)conchFile, lockType);</span>
<span class='curline'><a href='../S/185.html#L31584'>conchFile</a>        31584 libdb/sqlite3.c     unixFile *conchFile = pCtx-&gt;conchFile;</span>
<span class='curline'><a href='../S/185.html#L31597'>conchFile</a>        31597 libdb/sqlite3.c     OSTRACE(("TAKECONCH  %d for %s pid=%d\n", conchFile-&gt;h,</span>
<span class='curline'><a href='../S/185.html#L31610'>conchFile</a>        31610 libdb/sqlite3.c     readLen = seekAndRead((unixFile*)conchFile, 0, readBuf, PROXY_MAXCONCHLEN);</span>
<span class='curline'><a href='../S/185.html#L31613'>conchFile</a>        31613 libdb/sqlite3.c       pFile-&gt;lastErrno = conchFile-&gt;lastErrno;</span>
<span class='curline'><a href='../S/185.html#L31660'>conchFile</a>        31660 libdb/sqlite3.c       if( (conchFile-&gt;openFlags&amp;O_RDWR) == 0 ){</span>
<span class='curline'><a href='../S/185.html#L31676'>conchFile</a>        31676 libdb/sqlite3.c       futimes(conchFile-&gt;h, NULL);</span>
<span class='curline'><a href='../S/185.html#L31678'>conchFile</a>        31678 libdb/sqlite3.c         if( conchFile-&gt;pInode &amp;&amp; conchFile-&gt;pInode-&gt;nShared&gt;1 ){</span>
<span class='curline'><a href='../S/185.html#L31686'>conchFile</a>        31686 libdb/sqlite3.c         rc = conchFile-&gt;pMethod-&gt;xLock((sqlite3_file*)conchFile, EXCLUSIVE_LOCK);</span>
<span class='curline'><a href='../S/185.html#L31700'>conchFile</a>        31700 libdb/sqlite3.c         robust_ftruncate(conchFile-&gt;h, writeSize);</span>
<span class='curline'><a href='../S/185.html#L31701'>conchFile</a>        31701 libdb/sqlite3.c         rc = unixWrite((sqlite3_file *)conchFile, writeBuffer, writeSize, 0);</span>
<span class='curline'><a href='../S/185.html#L31702'>conchFile</a>        31702 libdb/sqlite3.c         fsync(conchFile-&gt;h);</span>
<span class='curline'><a href='../S/185.html#L31714'>conchFile</a>        31714 libdb/sqlite3.c             osFchmod(conchFile-&gt;h, cmode);</span>
<span class='curline'><a href='../S/185.html#L31717'>conchFile</a>        31717 libdb/sqlite3.c               rc = osFchmod(conchFile-&gt;h, cmode);</span>
<span class='curline'><a href='../S/185.html#L31734'>conchFile</a>        31734 libdb/sqlite3.c       conchFile-&gt;pMethod-&gt;xUnlock((sqlite3_file*)conchFile, SHARED_LOCK);</span>
<span class='curline'><a href='../S/185.html#L31785'>conchFile</a>        31785 libdb/sqlite3.c         conchFile-&gt;pMethod-&gt;xUnlock((sqlite3_file*)conchFile, NO_LOCK);</span>
<span class='curline'><a href='../S/185.html#L31787'>conchFile</a>        31787 libdb/sqlite3.c       OSTRACE(("TAKECONCH  %d %s\n", conchFile-&gt;h,</span>
<span class='curline'><a href='../S/185.html#L31801'>conchFile</a>        31801 libdb/sqlite3.c   unixFile *conchFile;        /* Name of the conch file */</span>
<span class='curline'><a href='../S/185.html#L31804'>conchFile</a>        31804 libdb/sqlite3.c   conchFile = pCtx-&gt;conchFile;</span>
<span class='curline'><a href='../S/185.html#L31805'>conchFile</a>        31805 libdb/sqlite3.c   OSTRACE(("RELEASECONCH  %d for %s pid=%d\n", conchFile-&gt;h,</span>
<span class='curline'><a href='../S/185.html#L31809'>conchFile</a>        31809 libdb/sqlite3.c     rc = conchFile-&gt;pMethod-&gt;xUnlock((sqlite3_file*)conchFile, NO_LOCK);</span>
<span class='curline'><a href='../S/185.html#L31812'>conchFile</a>        31812 libdb/sqlite3.c   OSTRACE(("RELEASECONCH  %d %s\n", conchFile-&gt;h,</span>
<span class='curline'><a href='../S/185.html#L31958'>conchFile</a>        31958 libdb/sqlite3.c     rc = proxyCreateUnixFile(pCtx-&gt;conchFilePath, &amp;pCtx-&gt;conchFile, 0);</span>
<span class='curline'><a href='../S/185.html#L32000'>conchFile</a>        32000 libdb/sqlite3.c     if( pCtx-&gt;conchFile ){ </span>
<span class='curline'><a href='../S/185.html#L32001'>conchFile</a>        32001 libdb/sqlite3.c       pCtx-&gt;conchFile-&gt;pMethod-&gt;xClose((sqlite3_file *)pCtx-&gt;conchFile);</span>
<span class='curline'><a href='../S/185.html#L32002'>conchFile</a>        32002 libdb/sqlite3.c       sqlite3_free(pCtx-&gt;conchFile);</span>
<span class='curline'><a href='../S/185.html#L32175'>conchFile</a>        32175 libdb/sqlite3.c     unixFile *conchFile = pCtx-&gt;conchFile;</span>
<span class='curline'><a href='../S/185.html#L32186'>conchFile</a>        32186 libdb/sqlite3.c     if( conchFile ){</span>
<span class='curline'><a href='../S/185.html#L32191'>conchFile</a>        32191 libdb/sqlite3.c       rc = conchFile-&gt;pMethod-&gt;xClose((sqlite3_file*)conchFile);</span>
<span class='curline'><a href='../S/185.html#L32193'>conchFile</a>        32193 libdb/sqlite3.c       sqlite3_free(conchFile);</span>
</pre>
</body>
</html>
