<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>nFin</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L55275'>nFin</a>             55275 libdb/sqlite3.c static int incrVacuumStep(BtShared *pBt, Pgno nFin, Pgno iLastPg, int bCommit){</span>
<span class='curline'><a href='../S/185.html#L55280'>nFin</a>             55280 libdb/sqlite3.c   assert( iLastPg&gt;nFin );</span>
<span class='curline'><a href='../S/185.html#L55335'>nFin</a>             55335 libdb/sqlite3.c         iNear = nFin;</span>
<span class='curline'><a href='../S/185.html#L55345'>nFin</a>             55345 libdb/sqlite3.c       }while( bCommit &amp;&amp; iFreePg&gt;nFin );</span>
<span class='curline'><a href='../S/185.html#L55374'>nFin</a>             55374 libdb/sqlite3.c   Pgno nFin;                      /* Return value */</span>
<span class='curline'><a href='../S/185.html#L55378'>nFin</a>             55378 libdb/sqlite3.c   nFin = nOrig - nFree - nPtrmap;</span>
<span class='curline'><a href='../S/185.html#L55379'>nFin</a>             55379 libdb/sqlite3.c   if( nOrig&gt;PENDING_BYTE_PAGE(pBt) &amp;&amp; nFin&lt;PENDING_BYTE_PAGE(pBt) ){</span>
<span class='curline'><a href='../S/185.html#L55380'>nFin</a>             55380 libdb/sqlite3.c     nFin--;</span>
<span class='curline'><a href='../S/185.html#L55382'>nFin</a>             55382 libdb/sqlite3.c   while( PTRMAP_ISPAGE(pBt, nFin) || nFin==PENDING_BYTE_PAGE(pBt) ){</span>
<span class='curline'><a href='../S/185.html#L55383'>nFin</a>             55383 libdb/sqlite3.c     nFin--;</span>
<span class='curline'><a href='../S/185.html#L55386'>nFin</a>             55386 libdb/sqlite3.c   return nFin;</span>
<span class='curline'><a href='../S/185.html#L55408'>nFin</a>             55408 libdb/sqlite3.c     Pgno nFin = finalDbSize(pBt, nOrig, nFree);</span>
<span class='curline'><a href='../S/185.html#L55410'>nFin</a>             55410 libdb/sqlite3.c     if( nOrig&lt;nFin ){</span>
<span class='curline'><a href='../S/185.html#L55416'>nFin</a>             55416 libdb/sqlite3.c         rc = incrVacuumStep(pBt, nFin, nOrig, 0);</span>
<span class='curline'><a href='../S/185.html#L55448'>nFin</a>             55448 libdb/sqlite3.c     Pgno nFin;         /* Number of pages in database after autovacuuming */</span>
<span class='curline'><a href='../S/185.html#L55463'>nFin</a>             55463 libdb/sqlite3.c     nFin = finalDbSize(pBt, nOrig, nFree);</span>
<span class='curline'><a href='../S/185.html#L55464'>nFin</a>             55464 libdb/sqlite3.c     if( nFin&gt;nOrig ) return SQLITE_CORRUPT_BKPT;</span>
<span class='curline'><a href='../S/185.html#L55465'>nFin</a>             55465 libdb/sqlite3.c     if( nFin&lt;nOrig ){</span>
<span class='curline'><a href='../S/185.html#L55468'>nFin</a>             55468 libdb/sqlite3.c     for(iFree=nOrig; iFree&gt;nFin &amp;&amp; rc==SQLITE_OK; iFree--){</span>
<span class='curline'><a href='../S/185.html#L55469'>nFin</a>             55469 libdb/sqlite3.c       rc = incrVacuumStep(pBt, nFin, iFree, 1);</span>
<span class='curline'><a href='../S/185.html#L55475'>nFin</a>             55475 libdb/sqlite3.c       put4byte(&amp;pBt-&gt;pPage1-&gt;aData[28], nFin);</span>
<span class='curline'><a href='../S/185.html#L55477'>nFin</a>             55477 libdb/sqlite3.c       pBt-&gt;nPage = nFin;</span>
</pre>
</body>
</html>
