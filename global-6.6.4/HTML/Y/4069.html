<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>lookaside</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L10634'>lookaside</a>        10634 libdb/sqlite3.c   Lookaside lookaside;          /* Lookaside malloc configuration */</span>
<span class='curline'><a href='../S/185.html#L14604'>lookaside</a>        14604 libdb/sqlite3.c       *pCurrent = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/185.html#L14605'>lookaside</a>        14605 libdb/sqlite3.c       *pHighwater = db-&gt;lookaside.mxOut;</span>
<span class='curline'><a href='../S/185.html#L14607'>lookaside</a>        14607 libdb/sqlite3.c         db-&gt;lookaside.mxOut = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/185.html#L14621'>lookaside</a>        14621 libdb/sqlite3.c       *pHighwater = db-&gt;lookaside.anStat[op - SQLITE_DBSTATUS_LOOKASIDE_HIT];</span>
<span class='curline'><a href='../S/185.html#L14623'>lookaside</a>        14623 libdb/sqlite3.c         db-&gt;lookaside.anStat[op - SQLITE_DBSTATUS_LOOKASIDE_HIT] = 0;</span>
<span class='curline'><a href='../S/185.html#L20356'>lookaside</a>        20356 libdb/sqlite3.c   return p&gt;=db-&gt;lookaside.pStart &amp;&amp; p&lt;db-&gt;lookaside.pEnd;</span>
<span class='curline'><a href='../S/185.html#L20378'>lookaside</a>        20378 libdb/sqlite3.c       return db-&gt;lookaside.sz;</span>
<span class='curline'><a href='../S/185.html#L20434'>lookaside</a>        20434 libdb/sqlite3.c       memset(p, 0xaa, db-&gt;lookaside.sz);</span>
<span class='curline'><a href='../S/185.html#L20436'>lookaside</a>        20436 libdb/sqlite3.c       pBuf-&gt;pNext = db-&gt;lookaside.pFree;</span>
<span class='curline'><a href='../S/185.html#L20437'>lookaside</a>        20437 libdb/sqlite3.c       db-&gt;lookaside.pFree = pBuf;</span>
<span class='curline'><a href='../S/185.html#L20438'>lookaside</a>        20438 libdb/sqlite3.c       db-&gt;lookaside.nOut--;</span>
<span class='curline'><a href='../S/185.html#L20570'>lookaside</a>        20570 libdb/sqlite3.c     if( db-&gt;lookaside.bEnabled ){</span>
<span class='curline'><a href='../S/185.html#L20571'>lookaside</a>        20571 libdb/sqlite3.c       if( n&gt;db-&gt;lookaside.sz ){</span>
<span class='curline'><a href='../S/185.html#L20572'>lookaside</a>        20572 libdb/sqlite3.c         db-&gt;lookaside.anStat[1]++;</span>
<span class='curline'><a href='../S/185.html#L20573'>lookaside</a>        20573 libdb/sqlite3.c       }else if( (pBuf = db-&gt;lookaside.pFree)==0 ){</span>
<span class='curline'><a href='../S/185.html#L20574'>lookaside</a>        20574 libdb/sqlite3.c         db-&gt;lookaside.anStat[2]++;</span>
<span class='curline'><a href='../S/185.html#L20576'>lookaside</a>        20576 libdb/sqlite3.c         db-&gt;lookaside.pFree = pBuf-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L20577'>lookaside</a>        20577 libdb/sqlite3.c         db-&gt;lookaside.nOut++;</span>
<span class='curline'><a href='../S/185.html#L20578'>lookaside</a>        20578 libdb/sqlite3.c         db-&gt;lookaside.anStat[0]++;</span>
<span class='curline'><a href='../S/185.html#L20579'>lookaside</a>        20579 libdb/sqlite3.c         if( db-&gt;lookaside.nOut&gt;db-&gt;lookaside.mxOut ){</span>
<span class='curline'><a href='../S/185.html#L20580'>lookaside</a>        20580 libdb/sqlite3.c           db-&gt;lookaside.mxOut = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/185.html#L20596'>lookaside</a>        20596 libdb/sqlite3.c          (db &amp;&amp; db-&gt;lookaside.bEnabled) ? MEMTYPE_LOOKASIDE : MEMTYPE_HEAP);</span>
<span class='curline'><a href='../S/185.html#L20613'>lookaside</a>        20613 libdb/sqlite3.c       if( n&lt;=db-&gt;lookaside.sz ){</span>
<span class='curline'><a href='../S/185.html#L20618'>lookaside</a>        20618 libdb/sqlite3.c         memcpy(pNew, p, db-&gt;lookaside.sz);</span>
<span class='curline'><a href='../S/185.html#L20630'>lookaside</a>        20630 libdb/sqlite3.c             (db-&gt;lookaside.bEnabled ? MEMTYPE_LOOKASIDE : MEMTYPE_HEAP));</span>
<span class='curline'><a href='../S/185.html#L87445'>lookaside</a>        87445 libdb/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/185.html#L87559'>lookaside</a>        87559 libdb/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/185.html#L87641'>lookaside</a>        87641 libdb/sqlite3.c     int lookasideEnabled = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L87642'>lookaside</a>        87642 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L87644'>lookaside</a>        87644 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = lookasideEnabled;</span>
<span class='curline'><a href='../S/185.html#L89113'>lookaside</a>        89113 libdb/sqlite3.c                          db-&gt;lookaside.nOut : 0 );</span>
<span class='curline'><a href='../S/185.html#L89148'>lookaside</a>        89148 libdb/sqlite3.c   assert( nLookaside==0 || nLookaside==db-&gt;lookaside.nOut );</span>
<span class='curline'><a href='../S/185.html#L90646'>lookaside</a>        90646 libdb/sqlite3.c     u8 enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L90650'>lookaside</a>        90650 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L90659'>lookaside</a>        90659 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/185.html#L97141'>lookaside</a>        97141 libdb/sqlite3.c     enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L97142'>lookaside</a>        97142 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L97165'>lookaside</a>        97165 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/185.html#L105753'>lookaside</a>        105753 libdb/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/185.html#L122304'>lookaside</a>        122304 libdb/sqlite3.c   pParse-&gt;db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L123402'>lookaside</a>        123402 libdb/sqlite3.c   pParse-&gt;db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L124426'>lookaside</a>        124426 libdb/sqlite3.c   enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L124427'>lookaside</a>        124427 libdb/sqlite3.c   if( db-&gt;lookaside.pStart ) db-&gt;lookaside.bEnabled = 1;</span>
<span class='curline'><a href='../S/185.html#L124481'>lookaside</a>        124481 libdb/sqlite3.c   db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/185.html#L125456'>lookaside</a>        125456 libdb/sqlite3.c   if( db-&gt;lookaside.nOut ){</span>
<span class='curline'><a href='../S/185.html#L125463'>lookaside</a>        125463 libdb/sqlite3.c   if( db-&gt;lookaside.bMalloced ){</span>
<span class='curline'><a href='../S/185.html#L125464'>lookaside</a>        125464 libdb/sqlite3.c     sqlite3_free(db-&gt;lookaside.pStart);</span>
<span class='curline'><a href='../S/185.html#L125483'>lookaside</a>        125483 libdb/sqlite3.c   db-&gt;lookaside.pStart = pStart;</span>
<span class='curline'><a href='../S/185.html#L125484'>lookaside</a>        125484 libdb/sqlite3.c   db-&gt;lookaside.pFree = 0;</span>
<span class='curline'><a href='../S/185.html#L125485'>lookaside</a>        125485 libdb/sqlite3.c   db-&gt;lookaside.sz = (u16)sz;</span>
<span class='curline'><a href='../S/185.html#L125492'>lookaside</a>        125492 libdb/sqlite3.c       p-&gt;pNext = db-&gt;lookaside.pFree;</span>
<span class='curline'><a href='../S/185.html#L125493'>lookaside</a>        125493 libdb/sqlite3.c       db-&gt;lookaside.pFree = p;</span>
<span class='curline'><a href='../S/185.html#L125496'>lookaside</a>        125496 libdb/sqlite3.c     db-&gt;lookaside.pEnd = p;</span>
<span class='curline'><a href='../S/185.html#L125497'>lookaside</a>        125497 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 1;</span>
<span class='curline'><a href='../S/185.html#L125498'>lookaside</a>        125498 libdb/sqlite3.c     db-&gt;lookaside.bMalloced = pBuf==0 ?1:0;</span>
<span class='curline'><a href='../S/185.html#L125500'>lookaside</a>        125500 libdb/sqlite3.c     db-&gt;lookaside.pStart = db;</span>
<span class='curline'><a href='../S/185.html#L125501'>lookaside</a>        125501 libdb/sqlite3.c     db-&gt;lookaside.pEnd = db;</span>
<span class='curline'><a href='../S/185.html#L125502'>lookaside</a>        125502 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L125503'>lookaside</a>        125503 libdb/sqlite3.c     db-&gt;lookaside.bMalloced = 0;</span>
<span class='curline'><a href='../S/185.html#L125921'>lookaside</a>        125921 libdb/sqlite3.c   assert( db-&gt;lookaside.nOut==0 );  /* Fails on a lookaside memory leak */</span>
<span class='curline'><a href='../S/185.html#L125922'>lookaside</a>        125922 libdb/sqlite3.c   if( db-&gt;lookaside.bMalloced ){</span>
<span class='curline'><a href='../S/185.html#L125923'>lookaside</a>        125923 libdb/sqlite3.c     sqlite3_free(db-&gt;lookaside.pStart);</span>
</pre>
</body>
</html>
