<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>lock</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L26197'>lock</a>             26197 libdb/sqlite3.c     struct flock lock;</span>
<span class='curline'><a href='../S/185.html#L26198'>lock</a>             26198 libdb/sqlite3.c     lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26199'>lock</a>             26199 libdb/sqlite3.c     lock.l_start = RESERVED_BYTE;</span>
<span class='curline'><a href='../S/185.html#L26200'>lock</a>             26200 libdb/sqlite3.c     lock.l_len = 1;</span>
<span class='curline'><a href='../S/185.html#L26201'>lock</a>             26201 libdb/sqlite3.c     lock.l_type = F_WRLCK;</span>
<span class='curline'><a href='../S/185.html#L26202'>lock</a>             26202 libdb/sqlite3.c     if( osFcntl(pFile-&gt;h, F_GETLK, &amp;lock) ){</span>
<span class='curline'><a href='../S/185.html#L26205'>lock</a>             26205 libdb/sqlite3.c     } else if( lock.l_type!=F_UNLCK ){</span>
<span class='curline'><a href='../S/185.html#L26246'>lock</a>             26246 libdb/sqlite3.c       struct flock lock;</span>
<span class='curline'><a href='../S/185.html#L26248'>lock</a>             26248 libdb/sqlite3.c       lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26249'>lock</a>             26249 libdb/sqlite3.c       lock.l_start = SHARED_FIRST;</span>
<span class='curline'><a href='../S/185.html#L26250'>lock</a>             26250 libdb/sqlite3.c       lock.l_len = SHARED_SIZE;</span>
<span class='curline'><a href='../S/185.html#L26251'>lock</a>             26251 libdb/sqlite3.c       lock.l_type = F_WRLCK;</span>
<span class='curline'><a href='../S/185.html#L26252'>lock</a>             26252 libdb/sqlite3.c       rc = osFcntl(pFile-&gt;h, F_SETLK, &amp;lock);</span>
<span class='curline'><a href='../S/185.html#L26331'>lock</a>             26331 libdb/sqlite3.c   struct flock lock;</span>
<span class='curline'><a href='../S/185.html#L26393'>lock</a>             26393 libdb/sqlite3.c   lock.l_len = 1L;</span>
<span class='curline'><a href='../S/185.html#L26394'>lock</a>             26394 libdb/sqlite3.c   lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26398'>lock</a>             26398 libdb/sqlite3.c     lock.l_type = (eFileLock==SHARED_LOCK?F_RDLCK:F_WRLCK);</span>
<span class='curline'><a href='../S/185.html#L26399'>lock</a>             26399 libdb/sqlite3.c     lock.l_start = PENDING_BYTE;</span>
<span class='curline'><a href='../S/185.html#L26400'>lock</a>             26400 libdb/sqlite3.c     if( unixFileLock(pFile, &amp;lock) ){</span>
<span class='curline'><a href='../S/185.html#L26420'>lock</a>             26420 libdb/sqlite3.c     lock.l_start = SHARED_FIRST;</span>
<span class='curline'><a href='../S/185.html#L26421'>lock</a>             26421 libdb/sqlite3.c     lock.l_len = SHARED_SIZE;</span>
<span class='curline'><a href='../S/185.html#L26422'>lock</a>             26422 libdb/sqlite3.c     if( unixFileLock(pFile, &amp;lock) ){</span>
<span class='curline'><a href='../S/185.html#L26428'>lock</a>             26428 libdb/sqlite3.c     lock.l_start = PENDING_BYTE;</span>
<span class='curline'><a href='../S/185.html#L26429'>lock</a>             26429 libdb/sqlite3.c     lock.l_len = 1L;</span>
<span class='curline'><a href='../S/185.html#L26430'>lock</a>             26430 libdb/sqlite3.c     lock.l_type = F_UNLCK;</span>
<span class='curline'><a href='../S/185.html#L26431'>lock</a>             26431 libdb/sqlite3.c     if( unixFileLock(pFile, &amp;lock) &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/185.html#L26457'>lock</a>             26457 libdb/sqlite3.c     lock.l_type = F_WRLCK;</span>
<span class='curline'><a href='../S/185.html#L26461'>lock</a>             26461 libdb/sqlite3.c       lock.l_start = RESERVED_BYTE;</span>
<span class='curline'><a href='../S/185.html#L26462'>lock</a>             26462 libdb/sqlite3.c       lock.l_len = 1L;</span>
<span class='curline'><a href='../S/185.html#L26464'>lock</a>             26464 libdb/sqlite3.c       lock.l_start = SHARED_FIRST;</span>
<span class='curline'><a href='../S/185.html#L26465'>lock</a>             26465 libdb/sqlite3.c       lock.l_len = SHARED_SIZE;</span>
<span class='curline'><a href='../S/185.html#L26468'>lock</a>             26468 libdb/sqlite3.c     if( unixFileLock(pFile, &amp;lock) ){</span>
<span class='curline'><a href='../S/185.html#L26539'>lock</a>             26539 libdb/sqlite3.c   struct flock lock;</span>
<span class='curline'><a href='../S/185.html#L26589'>lock</a>             26589 libdb/sqlite3.c         lock.l_type = F_UNLCK;</span>
<span class='curline'><a href='../S/185.html#L26590'>lock</a>             26590 libdb/sqlite3.c         lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26591'>lock</a>             26591 libdb/sqlite3.c         lock.l_start = SHARED_FIRST;</span>
<span class='curline'><a href='../S/185.html#L26592'>lock</a>             26592 libdb/sqlite3.c         lock.l_len = divSize;</span>
<span class='curline'><a href='../S/185.html#L26593'>lock</a>             26593 libdb/sqlite3.c         if( unixFileLock(pFile, &amp;lock)==(-1) ){</span>
<span class='curline'><a href='../S/185.html#L26601'>lock</a>             26601 libdb/sqlite3.c         lock.l_type = F_RDLCK;</span>
<span class='curline'><a href='../S/185.html#L26602'>lock</a>             26602 libdb/sqlite3.c         lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26603'>lock</a>             26603 libdb/sqlite3.c         lock.l_start = SHARED_FIRST;</span>
<span class='curline'><a href='../S/185.html#L26604'>lock</a>             26604 libdb/sqlite3.c         lock.l_len = divSize;</span>
<span class='curline'><a href='../S/185.html#L26605'>lock</a>             26605 libdb/sqlite3.c         if( unixFileLock(pFile, &amp;lock)==(-1) ){</span>
<span class='curline'><a href='../S/185.html#L26613'>lock</a>             26613 libdb/sqlite3.c         lock.l_type = F_UNLCK;</span>
<span class='curline'><a href='../S/185.html#L26614'>lock</a>             26614 libdb/sqlite3.c         lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26615'>lock</a>             26615 libdb/sqlite3.c         lock.l_start = SHARED_FIRST+divSize;</span>
<span class='curline'><a href='../S/185.html#L26616'>lock</a>             26616 libdb/sqlite3.c         lock.l_len = SHARED_SIZE-divSize;</span>
<span class='curline'><a href='../S/185.html#L26617'>lock</a>             26617 libdb/sqlite3.c         if( unixFileLock(pFile, &amp;lock)==(-1) ){</span>
<span class='curline'><a href='../S/185.html#L26628'>lock</a>             26628 libdb/sqlite3.c         lock.l_type = F_RDLCK;</span>
<span class='curline'><a href='../S/185.html#L26629'>lock</a>             26629 libdb/sqlite3.c         lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26630'>lock</a>             26630 libdb/sqlite3.c         lock.l_start = SHARED_FIRST;</span>
<span class='curline'><a href='../S/185.html#L26631'>lock</a>             26631 libdb/sqlite3.c         lock.l_len = SHARED_SIZE;</span>
<span class='curline'><a href='../S/185.html#L26632'>lock</a>             26632 libdb/sqlite3.c         if( unixFileLock(pFile, &amp;lock) ){</span>
<span class='curline'><a href='../S/185.html#L26645'>lock</a>             26645 libdb/sqlite3.c     lock.l_type = F_UNLCK;</span>
<span class='curline'><a href='../S/185.html#L26646'>lock</a>             26646 libdb/sqlite3.c     lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26647'>lock</a>             26647 libdb/sqlite3.c     lock.l_start = PENDING_BYTE;</span>
<span class='curline'><a href='../S/185.html#L26648'>lock</a>             26648 libdb/sqlite3.c     lock.l_len = 2L;  assert( PENDING_BYTE+1==RESERVED_BYTE );</span>
<span class='curline'><a href='../S/185.html#L26649'>lock</a>             26649 libdb/sqlite3.c     if( unixFileLock(pFile, &amp;lock)==0 ){</span>
<span class='curline'><a href='../S/185.html#L26664'>lock</a>             26664 libdb/sqlite3.c       lock.l_type = F_UNLCK;</span>
<span class='curline'><a href='../S/185.html#L26665'>lock</a>             26665 libdb/sqlite3.c       lock.l_whence = SEEK_SET;</span>
<span class='curline'><a href='../S/185.html#L26666'>lock</a>             26666 libdb/sqlite3.c       lock.l_start = lock.l_len = 0L;</span>
<span class='curline'><a href='../S/185.html#L26667'>lock</a>             26667 libdb/sqlite3.c       if( unixFileLock(pFile, &amp;lock)==0 ){</span>
<span class='curline'><a href='../S/185.html#L51583'>lock</a>             51583 libdb/sqlite3.c   BtLock lock;       /* Object used to lock page 1 */</span>
<span class='curline'><a href='../S/185.html#L52575'>lock</a>             52575 libdb/sqlite3.c       assert( pLock-&gt;iTable!=1 || pLock==&amp;p-&gt;lock );</span>
<span class='curline'><a href='../S/185.html#L54035'>lock</a>             54035 libdb/sqlite3.c   p-&gt;lock.pBtree = p;</span>
<span class='curline'><a href='../S/185.html#L54036'>lock</a>             54036 libdb/sqlite3.c   p-&gt;lock.iTable = 1;</span>
<span class='curline'><a href='../S/185.html#L55015'>lock</a>             55015 libdb/sqlite3.c         assert( p-&gt;lock.pBtree==p &amp;&amp; p-&gt;lock.iTable==1 );</span>
<span class='curline'><a href='../S/185.html#L55016'>lock</a>             55016 libdb/sqlite3.c         p-&gt;lock.eLock = READ_LOCK;</span>
<span class='curline'><a href='../S/185.html#L55017'>lock</a>             55017 libdb/sqlite3.c         p-&gt;lock.pNext = pBt-&gt;pLock;</span>
<span class='curline'><a href='../S/185.html#L55018'>lock</a>             55018 libdb/sqlite3.c         pBt-&gt;pLock = &amp;p-&gt;lock;</span>
</pre>
</body>
</html>
