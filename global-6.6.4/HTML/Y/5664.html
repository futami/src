<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pTask</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L76192'>pTask</a>            76192 libdb/sqlite3.c   SortSubtask *pTask;        /* Used by this thread only */</span>
<span class='curline'><a href='../S/185.html#L76324'>pTask</a>            76324 libdb/sqlite3.c   SortSubtask *pTask;             /* Task that owns this merger */</span>
<span class='curline'><a href='../S/185.html#L76543'>pTask</a>            76543 libdb/sqlite3.c static int vdbeSorterMapFile(SortSubtask *pTask, SorterFile *pFile, u8 **pp){</span>
<span class='curline'><a href='../S/185.html#L76545'>pTask</a>            76545 libdb/sqlite3.c   if( pFile-&gt;iEof&lt;=(i64)(pTask-&gt;pSorter-&gt;db-&gt;nMaxSorterMmap) ){</span>
<span class='curline'><a href='../S/185.html#L76561'>pTask</a>            76561 libdb/sqlite3.c   SortSubtask *pTask,             /* Task context */</span>
<span class='curline'><a href='../S/185.html#L76579'>pTask</a>            76579 libdb/sqlite3.c   rc = vdbeSorterMapFile(pTask, pFile, &amp;pReadr-&gt;aMap);</span>
<span class='curline'><a href='../S/185.html#L76581'>pTask</a>            76581 libdb/sqlite3.c     int pgsz = pTask-&gt;pSorter-&gt;pgsz;</span>
<span class='curline'><a href='../S/185.html#L76619'>pTask</a>            76619 libdb/sqlite3.c             pIncr-&gt;pTask, pReadr, &amp;pIncr-&gt;aFile[0], pIncr-&gt;iStartOff</span>
<span class='curline'><a href='../S/185.html#L76655'>pTask</a>            76655 libdb/sqlite3.c   SortSubtask *pTask,             /* Task context */</span>
<span class='curline'><a href='../S/185.html#L76668'>pTask</a>            76668 libdb/sqlite3.c   rc = vdbePmaReaderSeek(pTask, pReadr, pFile, iStart);</span>
<span class='curline'><a href='../S/185.html#L76697'>pTask</a>            76697 libdb/sqlite3.c   SortSubtask *pTask,             /* Subtask context (for pKeyInfo) */</span>
<span class='curline'><a href='../S/185.html#L76701'>pTask</a>            76701 libdb/sqlite3.c   UnpackedRecord *r2 = pTask-&gt;pUnpacked;</span>
<span class='curline'><a href='../S/185.html#L76703'>pTask</a>            76703 libdb/sqlite3.c     sqlite3VdbeRecordUnpack(pTask-&gt;pSorter-&gt;pKeyInfo, nKey2, pKey2, r2);</span>
<span class='curline'><a href='../S/185.html#L76781'>pTask</a>            76781 libdb/sqlite3.c       SortSubtask *pTask = &amp;pSorter-&gt;aTask[i];</span>
<span class='curline'><a href='../S/185.html#L76782'>pTask</a>            76782 libdb/sqlite3.c       pTask-&gt;pSorter = pSorter;</span>
<span class='curline'><a href='../S/185.html#L76826'>pTask</a>            76826 libdb/sqlite3.c static void vdbeSortSubtaskCleanup(sqlite3 *db, SortSubtask *pTask){</span>
<span class='curline'><a href='../S/185.html#L76827'>pTask</a>            76827 libdb/sqlite3.c   sqlite3DbFree(db, pTask-&gt;pUnpacked);</span>
<span class='curline'><a href='../S/185.html#L76828'>pTask</a>            76828 libdb/sqlite3.c   pTask-&gt;pUnpacked = 0;</span>
<span class='curline'><a href='../S/185.html#L76832'>pTask</a>            76832 libdb/sqlite3.c   if( pTask-&gt;list.aMemory ){</span>
<span class='curline'><a href='../S/185.html#L76833'>pTask</a>            76833 libdb/sqlite3.c     sqlite3_free(pTask-&gt;list.aMemory);</span>
<span class='curline'><a href='../S/185.html#L76834'>pTask</a>            76834 libdb/sqlite3.c     pTask-&gt;list.aMemory = 0;</span>
<span class='curline'><a href='../S/185.html#L76838'>pTask</a>            76838 libdb/sqlite3.c     assert( pTask-&gt;list.aMemory==0 );</span>
<span class='curline'><a href='../S/185.html#L76839'>pTask</a>            76839 libdb/sqlite3.c     vdbeSorterRecordFree(0, pTask-&gt;list.pList);</span>
<span class='curline'><a href='../S/185.html#L76841'>pTask</a>            76841 libdb/sqlite3.c   pTask-&gt;list.pList = 0;</span>
<span class='curline'><a href='../S/185.html#L76842'>pTask</a>            76842 libdb/sqlite3.c   if( pTask-&gt;file.pFd ){</span>
<span class='curline'><a href='../S/185.html#L76843'>pTask</a>            76843 libdb/sqlite3.c     sqlite3OsCloseFree(pTask-&gt;file.pFd);</span>
<span class='curline'><a href='../S/185.html#L76844'>pTask</a>            76844 libdb/sqlite3.c     pTask-&gt;file.pFd = 0;</span>
<span class='curline'><a href='../S/185.html#L76845'>pTask</a>            76845 libdb/sqlite3.c     pTask-&gt;file.iEof = 0;</span>
<span class='curline'><a href='../S/185.html#L76847'>pTask</a>            76847 libdb/sqlite3.c   if( pTask-&gt;file2.pFd ){</span>
<span class='curline'><a href='../S/185.html#L76848'>pTask</a>            76848 libdb/sqlite3.c     sqlite3OsCloseFree(pTask-&gt;file2.pFd);</span>
<span class='curline'><a href='../S/185.html#L76849'>pTask</a>            76849 libdb/sqlite3.c     pTask-&gt;file2.pFd = 0;</span>
<span class='curline'><a href='../S/185.html#L76850'>pTask</a>            76850 libdb/sqlite3.c     pTask-&gt;file2.iEof = 0;</span>
<span class='curline'><a href='../S/185.html#L76855'>pTask</a>            76855 libdb/sqlite3.c static void vdbeSorterWorkDebug(SortSubtask *pTask, const char *zEvent){</span>
<span class='curline'><a href='../S/185.html#L76857'>pTask</a>            76857 libdb/sqlite3.c   int iTask = (pTask - pTask-&gt;pSorter-&gt;aTask);</span>
<span class='curline'><a href='../S/185.html#L76858'>pTask</a>            76858 libdb/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/185.html#L76867'>pTask</a>            76867 libdb/sqlite3.c   SortSubtask *pTask,</span>
<span class='curline'><a href='../S/185.html#L76871'>pTask</a>            76871 libdb/sqlite3.c   int iTask = (pTask - pTask-&gt;pSorter-&gt;aTask);</span>
<span class='curline'><a href='../S/185.html#L76872'>pTask</a>            76872 libdb/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/185.html#L76876'>pTask</a>            76876 libdb/sqlite3.c   SortSubtask *pTask,</span>
<span class='curline'><a href='../S/185.html#L76882'>pTask</a>            76882 libdb/sqlite3.c     sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/185.html#L76897'>pTask</a>            76897 libdb/sqlite3.c static int vdbeSorterJoinThread(SortSubtask *pTask){</span>
<span class='curline'><a href='../S/185.html#L76899'>pTask</a>            76899 libdb/sqlite3.c   if( pTask-&gt;pThread ){</span>
<span class='curline'><a href='../S/185.html#L76901'>pTask</a>            76901 libdb/sqlite3.c     int bDone = pTask-&gt;bDone;</span>
<span class='curline'><a href='../S/185.html#L76904'>pTask</a>            76904 libdb/sqlite3.c     vdbeSorterBlockDebug(pTask, !bDone, "enter");</span>
<span class='curline'><a href='../S/185.html#L76905'>pTask</a>            76905 libdb/sqlite3.c     (void)sqlite3ThreadJoin(pTask-&gt;pThread, &amp;pRet);</span>
<span class='curline'><a href='../S/185.html#L76906'>pTask</a>            76906 libdb/sqlite3.c     vdbeSorterBlockDebug(pTask, !bDone, "exit");</span>
<span class='curline'><a href='../S/185.html#L76908'>pTask</a>            76908 libdb/sqlite3.c     assert( pTask-&gt;bDone==1 );</span>
<span class='curline'><a href='../S/185.html#L76909'>pTask</a>            76909 libdb/sqlite3.c     pTask-&gt;bDone = 0;</span>
<span class='curline'><a href='../S/185.html#L76910'>pTask</a>            76910 libdb/sqlite3.c     pTask-&gt;pThread = 0;</span>
<span class='curline'><a href='../S/185.html#L76919'>pTask</a>            76919 libdb/sqlite3.c   SortSubtask *pTask,             /* Thread will use this task object */</span>
<span class='curline'><a href='../S/185.html#L76923'>pTask</a>            76923 libdb/sqlite3.c   assert( pTask-&gt;pThread==0 &amp;&amp; pTask-&gt;bDone==0 );</span>
<span class='curline'><a href='../S/185.html#L76924'>pTask</a>            76924 libdb/sqlite3.c   return sqlite3ThreadCreate(&amp;pTask-&gt;pThread, xTask, pIn);</span>
<span class='curline'><a href='../S/185.html#L76943'>pTask</a>            76943 libdb/sqlite3.c     SortSubtask *pTask = &amp;pSorter-&gt;aTask[i];</span>
<span class='curline'><a href='../S/185.html#L76944'>pTask</a>            76944 libdb/sqlite3.c     int rc2 = vdbeSorterJoinThread(pTask);</span>
<span class='curline'><a href='../S/185.html#L76951'>pTask</a>            76951 libdb/sqlite3.c # define vdbeSorterJoinThread(pTask) SQLITE_OK</span>
<span class='curline'><a href='../S/185.html#L76974'>pTask</a>            76974 libdb/sqlite3.c     pNew-&gt;pTask = 0;</span>
<span class='curline'><a href='../S/185.html#L77002'>pTask</a>            77002 libdb/sqlite3.c       vdbeSorterJoinThread(pIncr-&gt;pTask);</span>
<span class='curline'><a href='../S/185.html#L77029'>pTask</a>            77029 libdb/sqlite3.c     SortSubtask *pTask = &amp;pSorter-&gt;aTask[i];</span>
<span class='curline'><a href='../S/185.html#L77030'>pTask</a>            77030 libdb/sqlite3.c     vdbeSortSubtaskCleanup(db, pTask);</span>
<span class='curline'><a href='../S/185.html#L77112'>pTask</a>            77112 libdb/sqlite3.c static int vdbeSortAllocUnpacked(SortSubtask *pTask){</span>
<span class='curline'><a href='../S/185.html#L77113'>pTask</a>            77113 libdb/sqlite3.c   if( pTask-&gt;pUnpacked==0 ){</span>
<span class='curline'><a href='../S/185.html#L77115'>pTask</a>            77115 libdb/sqlite3.c     pTask-&gt;pUnpacked = sqlite3VdbeAllocUnpackedRecord(</span>
<span class='curline'><a href='../S/185.html#L77116'>pTask</a>            77116 libdb/sqlite3.c         pTask-&gt;pSorter-&gt;pKeyInfo, 0, 0, &amp;pFree</span>
<span class='curline'><a href='../S/185.html#L77118'>pTask</a>            77118 libdb/sqlite3.c     assert( pTask-&gt;pUnpacked==(UnpackedRecord*)pFree );</span>
<span class='curline'><a href='../S/185.html#L77120'>pTask</a>            77120 libdb/sqlite3.c     pTask-&gt;pUnpacked-&gt;nField = pTask-&gt;pSorter-&gt;pKeyInfo-&gt;nField;</span>
<span class='curline'><a href='../S/185.html#L77121'>pTask</a>            77121 libdb/sqlite3.c     pTask-&gt;pUnpacked-&gt;errCode = 0;</span>
<span class='curline'><a href='../S/185.html#L77132'>pTask</a>            77132 libdb/sqlite3.c   SortSubtask *pTask,             /* Calling thread context */</span>
<span class='curline'><a href='../S/185.html#L77143'>pTask</a>            77143 libdb/sqlite3.c     res = vdbeSorterCompare(pTask, SRVAL(p1), p1-&gt;nVal, pVal2, p2-&gt;nVal);</span>
<span class='curline'><a href='../S/185.html#L77166'>pTask</a>            77166 libdb/sqlite3.c static int vdbeSorterSort(SortSubtask *pTask, SorterList *pList){</span>
<span class='curline'><a href='../S/185.html#L77172'>pTask</a>            77172 libdb/sqlite3.c   rc = vdbeSortAllocUnpacked(pTask);</span>
<span class='curline'><a href='../S/185.html#L77196'>pTask</a>            77196 libdb/sqlite3.c       vdbeSorterMerge(pTask, p, aSlot[i], &amp;p);</span>
<span class='curline'><a href='../S/185.html#L77205'>pTask</a>            77205 libdb/sqlite3.c     vdbeSorterMerge(pTask, p, aSlot[i], &amp;p);</span>
<span class='curline'><a href='../S/185.html#L77210'>pTask</a>            77210 libdb/sqlite3.c   assert( pTask-&gt;pUnpacked-&gt;errCode==SQLITE_OK </span>
<span class='curline'><a href='../S/185.html#L77211'>pTask</a>            77211 libdb/sqlite3.c        || pTask-&gt;pUnpacked-&gt;errCode==SQLITE_NOMEM </span>
<span class='curline'><a href='../S/185.html#L77213'>pTask</a>            77213 libdb/sqlite3.c   return pTask-&gt;pUnpacked-&gt;errCode;</span>
<span class='curline'><a href='../S/185.html#L77314'>pTask</a>            77314 libdb/sqlite3.c static int vdbeSorterListToPMA(SortSubtask *pTask, SorterList *pList){</span>
<span class='curline'><a href='../S/185.html#L77315'>pTask</a>            77315 libdb/sqlite3.c   sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L77322'>pTask</a>            77322 libdb/sqlite3.c   i64 iSz = pList-&gt;szPMA + sqlite3VarintLen(pList-&gt;szPMA) + pTask-&gt;file.iEof;</span>
<span class='curline'><a href='../S/185.html#L77325'>pTask</a>            77325 libdb/sqlite3.c   vdbeSorterWorkDebug(pTask, "enter");</span>
<span class='curline'><a href='../S/185.html#L77330'>pTask</a>            77330 libdb/sqlite3.c   if( pTask-&gt;file.pFd==0 ){</span>
<span class='curline'><a href='../S/185.html#L77331'>pTask</a>            77331 libdb/sqlite3.c     rc = vdbeSorterOpenTempFile(db, 0, &amp;pTask-&gt;file.pFd);</span>
<span class='curline'><a href='../S/185.html#L77332'>pTask</a>            77332 libdb/sqlite3.c     assert( rc!=SQLITE_OK || pTask-&gt;file.pFd );</span>
<span class='curline'><a href='../S/185.html#L77333'>pTask</a>            77333 libdb/sqlite3.c     assert( pTask-&gt;file.iEof==0 );</span>
<span class='curline'><a href='../S/185.html#L77334'>pTask</a>            77334 libdb/sqlite3.c     assert( pTask-&gt;nPMA==0 );</span>
<span class='curline'><a href='../S/185.html#L77339'>pTask</a>            77339 libdb/sqlite3.c     vdbeSorterExtendFile(db, pTask-&gt;file.pFd, pTask-&gt;file.iEof+pList-&gt;szPMA+9);</span>
<span class='curline'><a href='../S/185.html#L77344'>pTask</a>            77344 libdb/sqlite3.c     rc = vdbeSorterSort(pTask, pList);</span>
<span class='curline'><a href='../S/185.html#L77351'>pTask</a>            77351 libdb/sqlite3.c     vdbePmaWriterInit(pTask-&gt;file.pFd, &amp;writer, pTask-&gt;pSorter-&gt;pgsz,</span>
<span class='curline'><a href='../S/185.html#L77352'>pTask</a>            77352 libdb/sqlite3.c                       pTask-&gt;file.iEof);</span>
<span class='curline'><a href='../S/185.html#L77353'>pTask</a>            77353 libdb/sqlite3.c     pTask-&gt;nPMA++;</span>
<span class='curline'><a href='../S/185.html#L77362'>pTask</a>            77362 libdb/sqlite3.c     rc = vdbePmaWriterFinish(&amp;writer, &amp;pTask-&gt;file.iEof);</span>
<span class='curline'><a href='../S/185.html#L77365'>pTask</a>            77365 libdb/sqlite3.c   vdbeSorterWorkDebug(pTask, "exit");</span>
<span class='curline'><a href='../S/185.html#L77367'>pTask</a>            77367 libdb/sqlite3.c   assert( rc!=SQLITE_OK || pTask-&gt;file.iEof==iSz );</span>
<span class='curline'><a href='../S/185.html#L77384'>pTask</a>            77384 libdb/sqlite3.c   SortSubtask *pTask = pMerger-&gt;pTask;</span>
<span class='curline'><a href='../S/185.html#L77410'>pTask</a>            77410 libdb/sqlite3.c         iRes = vdbeSorterCompare(pTask, </span>
<span class='curline'><a href='../S/185.html#L77443'>pTask</a>            77443 libdb/sqlite3.c   return (rc==SQLITE_OK ? pTask-&gt;pUnpacked-&gt;errCode : rc);</span>
<span class='curline'><a href='../S/185.html#L77451'>pTask</a>            77451 libdb/sqlite3.c   SortSubtask *pTask = (SortSubtask*)pCtx;</span>
<span class='curline'><a href='../S/185.html#L77453'>pTask</a>            77453 libdb/sqlite3.c   assert( pTask-&gt;bDone==0 );</span>
<span class='curline'><a href='../S/185.html#L77454'>pTask</a>            77454 libdb/sqlite3.c   rc = vdbeSorterListToPMA(pTask, &amp;pTask-&gt;list);</span>
<span class='curline'><a href='../S/185.html#L77455'>pTask</a>            77455 libdb/sqlite3.c   pTask-&gt;bDone = 1;</span>
<span class='curline'><a href='../S/185.html#L77471'>pTask</a>            77471 libdb/sqlite3.c   SortSubtask *pTask = 0;    /* Thread context used to create new PMA */</span>
<span class='curline'><a href='../S/185.html#L77488'>pTask</a>            77488 libdb/sqlite3.c     pTask = &amp;pSorter-&gt;aTask[iTest];</span>
<span class='curline'><a href='../S/185.html#L77489'>pTask</a>            77489 libdb/sqlite3.c     if( pTask-&gt;bDone ){</span>
<span class='curline'><a href='../S/185.html#L77490'>pTask</a>            77490 libdb/sqlite3.c       rc = vdbeSorterJoinThread(pTask);</span>
<span class='curline'><a href='../S/185.html#L77492'>pTask</a>            77492 libdb/sqlite3.c     if( rc!=SQLITE_OK || pTask-&gt;pThread==0 ) break;</span>
<span class='curline'><a href='../S/185.html#L77501'>pTask</a>            77501 libdb/sqlite3.c       u8 *aMem = pTask-&gt;list.aMemory;</span>
<span class='curline'><a href='../S/185.html#L77502'>pTask</a>            77502 libdb/sqlite3.c       void *pCtx = (void*)pTask;</span>
<span class='curline'><a href='../S/185.html#L77504'>pTask</a>            77504 libdb/sqlite3.c       assert( pTask-&gt;pThread==0 &amp;&amp; pTask-&gt;bDone==0 );</span>
<span class='curline'><a href='../S/185.html#L77505'>pTask</a>            77505 libdb/sqlite3.c       assert( pTask-&gt;list.pList==0 );</span>
<span class='curline'><a href='../S/185.html#L77506'>pTask</a>            77506 libdb/sqlite3.c       assert( pTask-&gt;list.aMemory==0 || pSorter-&gt;list.aMemory!=0 );</span>
<span class='curline'><a href='../S/185.html#L77508'>pTask</a>            77508 libdb/sqlite3.c       pSorter-&gt;iPrev = (u8)(pTask - pSorter-&gt;aTask);</span>
<span class='curline'><a href='../S/185.html#L77509'>pTask</a>            77509 libdb/sqlite3.c       pTask-&gt;list = pSorter-&gt;list;</span>
<span class='curline'><a href='../S/185.html#L77520'>pTask</a>            77520 libdb/sqlite3.c       rc = vdbeSorterCreateThread(pTask, vdbeSorterFlushThread, pCtx);</span>
<span class='curline'><a href='../S/185.html#L77632'>pTask</a>            77632 libdb/sqlite3.c   SortSubtask *pTask = pIncr-&gt;pTask;</span>
<span class='curline'><a href='../S/185.html#L77637'>pTask</a>            77637 libdb/sqlite3.c   vdbeSorterPopulateDebug(pTask, "enter");</span>
<span class='curline'><a href='../S/185.html#L77639'>pTask</a>            77639 libdb/sqlite3.c   vdbePmaWriterInit(pOut-&gt;pFd, &amp;writer, pTask-&gt;pSorter-&gt;pgsz, iStart);</span>
<span class='curline'><a href='../S/185.html#L77654'>pTask</a>            77654 libdb/sqlite3.c     assert( pIncr-&gt;pMerger-&gt;pTask==pTask );</span>
<span class='curline'><a href='../S/185.html#L77660'>pTask</a>            77660 libdb/sqlite3.c   vdbeSorterPopulateDebug(pTask, "exit");</span>
<span class='curline'><a href='../S/185.html#L77672'>pTask</a>            77672 libdb/sqlite3.c   pIncr-&gt;pTask-&gt;bDone = 1;</span>
<span class='curline'><a href='../S/185.html#L77682'>pTask</a>            77682 libdb/sqlite3.c   return vdbeSorterCreateThread(pIncr-&gt;pTask, vdbeIncrPopulateThread, p);</span>
<span class='curline'><a href='../S/185.html#L77708'>pTask</a>            77708 libdb/sqlite3.c     rc = vdbeSorterJoinThread(pIncr-&gt;pTask);</span>
<span class='curline'><a href='../S/185.html#L77743'>pTask</a>            77743 libdb/sqlite3.c   SortSubtask *pTask,     /* The thread that will be using the new IncrMerger */</span>
<span class='curline'><a href='../S/185.html#L77752'>pTask</a>            77752 libdb/sqlite3.c     pIncr-&gt;pTask = pTask;</span>
<span class='curline'><a href='../S/185.html#L77753'>pTask</a>            77753 libdb/sqlite3.c     pIncr-&gt;mxSz = MAX(pTask-&gt;pSorter-&gt;mxKeysize+9,pTask-&gt;pSorter-&gt;mxPmaSize/2);</span>
<span class='curline'><a href='../S/185.html#L77754'>pTask</a>            77754 libdb/sqlite3.c     pTask-&gt;file2.iEof += pIncr-&gt;mxSz;</span>
<span class='curline'><a href='../S/185.html#L77768'>pTask</a>            77768 libdb/sqlite3.c   pIncr-&gt;pTask-&gt;file2.iEof -= pIncr-&gt;mxSz;</span>
<span class='curline'><a href='../S/185.html#L77808'>pTask</a>            77808 libdb/sqlite3.c     assert( pMerger-&gt;pTask-&gt;pUnpacked!=0 );  /* from vdbeSortSubtaskMain() */</span>
<span class='curline'><a href='../S/185.html#L77810'>pTask</a>            77810 libdb/sqlite3.c         pMerger-&gt;pTask, p1-&gt;aKey, p1-&gt;nKey, p2-&gt;aKey, p2-&gt;nKey</span>
<span class='curline'><a href='../S/185.html#L77859'>pTask</a>            77859 libdb/sqlite3.c   SortSubtask *pTask,             /* Thread that will run pMerger */</span>
<span class='curline'><a href='../S/185.html#L77871'>pTask</a>            77871 libdb/sqlite3.c   assert( pMerger-&gt;pTask==0 );</span>
<span class='curline'><a href='../S/185.html#L77872'>pTask</a>            77872 libdb/sqlite3.c   pMerger-&gt;pTask = pTask;</span>
<span class='curline'><a href='../S/185.html#L77893'>pTask</a>            77893 libdb/sqlite3.c   return pTask-&gt;pUnpacked-&gt;errCode;</span>
<span class='curline'><a href='../S/185.html#L77939'>pTask</a>            77939 libdb/sqlite3.c     SortSubtask *pTask = pIncr-&gt;pTask;</span>
<span class='curline'><a href='../S/185.html#L77940'>pTask</a>            77940 libdb/sqlite3.c     sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L77942'>pTask</a>            77942 libdb/sqlite3.c     rc = vdbeMergeEngineInit(pTask, pIncr-&gt;pMerger, eMode);</span>
<span class='curline'><a href='../S/185.html#L77958'>pTask</a>            77958 libdb/sqlite3.c         if( pTask-&gt;file2.pFd==0 ){</span>
<span class='curline'><a href='../S/185.html#L77959'>pTask</a>            77959 libdb/sqlite3.c           assert( pTask-&gt;file2.iEof&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L77960'>pTask</a>            77960 libdb/sqlite3.c           rc = vdbeSorterOpenTempFile(db, pTask-&gt;file2.iEof, &amp;pTask-&gt;file2.pFd);</span>
<span class='curline'><a href='../S/185.html#L77961'>pTask</a>            77961 libdb/sqlite3.c           pTask-&gt;file2.iEof = 0;</span>
<span class='curline'><a href='../S/185.html#L77964'>pTask</a>            77964 libdb/sqlite3.c           pIncr-&gt;aFile[1].pFd = pTask-&gt;file2.pFd;</span>
<span class='curline'><a href='../S/185.html#L77965'>pTask</a>            77965 libdb/sqlite3.c           pIncr-&gt;iStartOff = pTask-&gt;file2.iEof;</span>
<span class='curline'><a href='../S/185.html#L77966'>pTask</a>            77966 libdb/sqlite3.c           pTask-&gt;file2.iEof += mxSz;</span>
<span class='curline'><a href='../S/185.html#L78000'>pTask</a>            78000 libdb/sqlite3.c   pReader-&gt;pIncr-&gt;pTask-&gt;bDone = 1;</span>
<span class='curline'><a href='../S/185.html#L78014'>pTask</a>            78014 libdb/sqlite3.c   return vdbeSorterCreateThread(pReadr-&gt;pIncr-&gt;pTask, vdbePmaReaderBgInit, pCtx);</span>
<span class='curline'><a href='../S/185.html#L78031'>pTask</a>            78031 libdb/sqlite3.c   SortSubtask *pTask,             /* Sorter task to read from */</span>
<span class='curline'><a href='../S/185.html#L78047'>pTask</a>            78047 libdb/sqlite3.c     rc = vdbePmaReaderInit(pTask, &amp;pTask-&gt;file, iOff, pReadr, &amp;nDummy);</span>
<span class='curline'><a href='../S/185.html#L78088'>pTask</a>            78088 libdb/sqlite3.c   SortSubtask *pTask,             /* Task context */</span>
<span class='curline'><a href='../S/185.html#L78100'>pTask</a>            78100 libdb/sqlite3.c   rc = vdbeIncrMergerNew(pTask, pLeaf, &amp;pIncr);</span>
<span class='curline'><a href='../S/185.html#L78115'>pTask</a>            78115 libdb/sqlite3.c         rc = vdbeIncrMergerNew(pTask, pNew, &amp;pReadr-&gt;pIncr);</span>
<span class='curline'><a href='../S/185.html#L78163'>pTask</a>            78163 libdb/sqlite3.c     SortSubtask *pTask = &amp;pSorter-&gt;aTask[iTask];</span>
<span class='curline'><a href='../S/185.html#L78164'>pTask</a>            78164 libdb/sqlite3.c     assert( pTask-&gt;nPMA&gt;0 || SQLITE_MAX_WORKER_THREADS&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L78165'>pTask</a>            78165 libdb/sqlite3.c     if( SQLITE_MAX_WORKER_THREADS==0 || pTask-&gt;nPMA ){</span>
<span class='curline'><a href='../S/185.html#L78167'>pTask</a>            78167 libdb/sqlite3.c       int nDepth = vdbeSorterTreeDepth(pTask-&gt;nPMA);</span>
<span class='curline'><a href='../S/185.html#L78170'>pTask</a>            78170 libdb/sqlite3.c       if( pTask-&gt;nPMA&lt;=SORTER_MAX_MERGE_COUNT ){</span>
<span class='curline'><a href='../S/185.html#L78171'>pTask</a>            78171 libdb/sqlite3.c         rc = vdbeMergeEngineLevel0(pTask, pTask-&gt;nPMA, &amp;iReadOff, &amp;pRoot);</span>
<span class='curline'><a href='../S/185.html#L78177'>pTask</a>            78177 libdb/sqlite3.c         for(i=0; i&lt;pTask-&gt;nPMA &amp;&amp; rc==SQLITE_OK; i += SORTER_MAX_MERGE_COUNT){</span>
<span class='curline'><a href='../S/185.html#L78181'>pTask</a>            78181 libdb/sqlite3.c           nReader = MIN(pTask-&gt;nPMA - i, SORTER_MAX_MERGE_COUNT);</span>
<span class='curline'><a href='../S/185.html#L78182'>pTask</a>            78182 libdb/sqlite3.c           rc = vdbeMergeEngineLevel0(pTask, nReader, &amp;iReadOff, &amp;pMerger);</span>
<span class='curline'><a href='../S/185.html#L78184'>pTask</a>            78184 libdb/sqlite3.c             rc = vdbeSorterAddToTree(pTask, nDepth, iSeq++, pRoot, pMerger);</span>
<span class='curline'><a href='../S/185.html#L78192'>pTask</a>            78192 libdb/sqlite3.c           rc = vdbeIncrMergerNew(pTask, pRoot, &amp;pMain-&gt;aReadr[iTask].pIncr);</span>
<span class='curline'><a href='../S/185.html#L78252'>pTask</a>            78252 libdb/sqlite3.c               assert( pIncr-&gt;pTask!=pLast );</span>
<span class='curline'><a href='../S/185.html#L78257'>pTask</a>            78257 libdb/sqlite3.c             assert( p-&gt;pIncr==0 || p-&gt;pIncr-&gt;pTask==&amp;pSorter-&gt;aTask[iTask] );</span>
<span class='curline'><a href='../S/185.html#L78355'>pTask</a>            78355 libdb/sqlite3.c       assert( pSorter-&gt;pMerger-&gt;pTask==(&amp;pSorter-&gt;aTask[0]) );</span>
</pre>
</body>
</html>
