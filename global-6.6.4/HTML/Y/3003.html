<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>gfind</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/301.html#L382'>gfind</a>             382 libutil/gpathop.c 	GFIND *gfind = (GFIND *)check_calloc(sizeof(GFIND), 1);</span>
<span class='curline'><a href='../S/301.html#L384'>gfind</a>             384 libutil/gpathop.c 	gfind-&gt;dbop = dbop_open(makepath(dbpath, dbname(GPATH), NULL), 0, 0, 0);</span>
<span class='curline'><a href='../S/301.html#L385'>gfind</a>             385 libutil/gpathop.c 	if (gfind-&gt;dbop == NULL)</span>
<span class='curline'><a href='../S/301.html#L387'>gfind</a>             387 libutil/gpathop.c 	gfind-&gt;path = NULL;</span>
<span class='curline'><a href='../S/301.html#L388'>gfind</a>             388 libutil/gpathop.c 	gfind-&gt;prefix = check_strdup(local ? local : "./");</span>
<span class='curline'><a href='../S/301.html#L389'>gfind</a>             389 libutil/gpathop.c 	gfind-&gt;first = 1;</span>
<span class='curline'><a href='../S/301.html#L390'>gfind</a>             390 libutil/gpathop.c 	gfind-&gt;eod = 0;</span>
<span class='curline'><a href='../S/301.html#L391'>gfind</a>             391 libutil/gpathop.c 	gfind-&gt;target = target;</span>
<span class='curline'><a href='../S/301.html#L392'>gfind</a>             392 libutil/gpathop.c 	gfind-&gt;type = GPATH_SOURCE;</span>
<span class='curline'><a href='../S/301.html#L393'>gfind</a>             393 libutil/gpathop.c 	gfind-&gt;flags = flags;</span>
<span class='curline'><a href='../S/301.html#L394'>gfind</a>             394 libutil/gpathop.c 	gfind-&gt;path_array = NULL;</span>
<span class='curline'><a href='../S/301.html#L395'>gfind</a>             395 libutil/gpathop.c 	gfind-&gt;version = dbop_getversion(gfind-&gt;dbop);</span>
<span class='curline'><a href='../S/301.html#L396'>gfind</a>             396 libutil/gpathop.c 	if (gfind-&gt;version &gt; support_version)</span>
<span class='curline'><a href='../S/301.html#L398'>gfind</a>             398 libutil/gpathop.c 	else if (gfind-&gt;version &lt; support_version)</span>
<span class='curline'><a href='../S/301.html#L405'>gfind</a>             405 libutil/gpathop.c 	if (gfind-&gt;flags &amp; GPATH_NEARSORT) {</span>
<span class='curline'><a href='../S/301.html#L409'>gfind</a>             409 libutil/gpathop.c 		while ((path = gfind_read(gfind)) != NULL) {</span>
<span class='curline'><a href='../S/301.html#L416'>gfind</a>             416 libutil/gpathop.c 		gfind-&gt;path_array = varray;</span>
<span class='curline'><a href='../S/301.html#L417'>gfind</a>             417 libutil/gpathop.c 		gfind-&gt;pool = pool;</span>
<span class='curline'><a href='../S/301.html#L418'>gfind</a>             418 libutil/gpathop.c 		gfind-&gt;index = 0;</span>
<span class='curline'><a href='../S/301.html#L420'>gfind</a>             420 libutil/gpathop.c 	return gfind;</span>
<span class='curline'><a href='../S/301.html#L429'>gfind</a>             429 libutil/gpathop.c gfind_read(GFIND *gfind)</span>
<span class='curline'><a href='../S/301.html#L433'>gfind</a>             433 libutil/gpathop.c 	if (gfind-&gt;path_array) {</span>
<span class='curline'><a href='../S/301.html#L435'>gfind</a>             435 libutil/gpathop.c 		if (gfind-&gt;index &gt;= gfind-&gt;path_array-&gt;length)</span>
<span class='curline'><a href='../S/301.html#L437'>gfind</a>             437 libutil/gpathop.c 		a = varray_assign(gfind-&gt;path_array, gfind-&gt;index++, 0);</span>
<span class='curline'><a href='../S/301.html#L440'>gfind</a>             440 libutil/gpathop.c 	gfind-&gt;type = GPATH_SOURCE;</span>
<span class='curline'><a href='../S/301.html#L441'>gfind</a>             441 libutil/gpathop.c 	if (gfind-&gt;eod)</span>
<span class='curline'><a href='../S/301.html#L444'>gfind</a>             444 libutil/gpathop.c 		if (gfind-&gt;first) {</span>
<span class='curline'><a href='../S/301.html#L445'>gfind</a>             445 libutil/gpathop.c 			gfind-&gt;first = 0;</span>
<span class='curline'><a href='../S/301.html#L446'>gfind</a>             446 libutil/gpathop.c 			gfind-&gt;path = dbop_first(gfind-&gt;dbop, gfind-&gt;prefix, NULL, DBOP_KEY | DBOP_PREFIX);</span>
<span class='curline'><a href='../S/301.html#L448'>gfind</a>             448 libutil/gpathop.c 			gfind-&gt;path = dbop_next(gfind-&gt;dbop);</span>
<span class='curline'><a href='../S/301.html#L450'>gfind</a>             450 libutil/gpathop.c 		if (gfind-&gt;path == NULL) {</span>
<span class='curline'><a href='../S/301.html#L451'>gfind</a>             451 libutil/gpathop.c 			gfind-&gt;eod = 1;</span>
<span class='curline'><a href='../S/301.html#L458'>gfind</a>             458 libutil/gpathop.c 		flag = dbop_getflag(gfind-&gt;dbop);</span>
<span class='curline'><a href='../S/301.html#L461'>gfind</a>             461 libutil/gpathop.c 		gfind-&gt;type = (*flag == 'o') ? GPATH_OTHER : GPATH_SOURCE;</span>
<span class='curline'><a href='../S/301.html#L462'>gfind</a>             462 libutil/gpathop.c 		if (gfind-&gt;type &amp; gfind-&gt;target)</span>
<span class='curline'><a href='../S/301.html#L465'>gfind</a>             465 libutil/gpathop.c 	return gfind-&gt;path;</span>
<span class='curline'><a href='../S/301.html#L471'>gfind</a>             471 libutil/gpathop.c gfind_close(GFIND *gfind)</span>
<span class='curline'><a href='../S/301.html#L473'>gfind</a>             473 libutil/gpathop.c 	dbop_close(gfind-&gt;dbop);</span>
<span class='curline'><a href='../S/301.html#L474'>gfind</a>             474 libutil/gpathop.c 	if (gfind-&gt;flags &amp; GPATH_NEARSORT) {</span>
<span class='curline'><a href='../S/301.html#L475'>gfind</a>             475 libutil/gpathop.c 		pool_close(gfind-&gt;pool);</span>
<span class='curline'><a href='../S/301.html#L476'>gfind</a>             476 libutil/gpathop.c 		varray_close(gfind-&gt;path_array);</span>
<span class='curline'><a href='../S/301.html#L478'>gfind</a>             478 libutil/gpathop.c 	free((void *)gfind-&gt;prefix);</span>
<span class='curline'><a href='../S/301.html#L479'>gfind</a>             479 libutil/gpathop.c 	free(gfind);</span>
</pre>
</body>
</html>
