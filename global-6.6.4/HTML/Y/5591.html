<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pSchema</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L10422'>pSchema</a>          10422 libdb/sqlite3.c   Schema *pSchema;     /* Pointer to database schema (possibly shared) */</span>
<span class='curline'><a href='../S/185.html#L10460'>pSchema</a>          10460 libdb/sqlite3.c #define DbHasProperty(D,I,P)     (((D)-&gt;aDb[I].pSchema-&gt;schemaFlags&amp;(P))==(P))</span>
<span class='curline'><a href='../S/185.html#L10461'>pSchema</a>          10461 libdb/sqlite3.c #define DbHasAnyProperty(D,I,P)  (((D)-&gt;aDb[I].pSchema-&gt;schemaFlags&amp;(P))!=0)</span>
<span class='curline'><a href='../S/185.html#L10462'>pSchema</a>          10462 libdb/sqlite3.c #define DbSetProperty(D,I,P)     (D)-&gt;aDb[I].pSchema-&gt;schemaFlags|=(P)</span>
<span class='curline'><a href='../S/185.html#L10463'>pSchema</a>          10463 libdb/sqlite3.c #define DbClearProperty(D,I,P)   (D)-&gt;aDb[I].pSchema-&gt;schemaFlags&amp;=~(P)</span>
<span class='curline'><a href='../S/185.html#L10687'>pSchema</a>          10687 libdb/sqlite3.c #define ENC(db) ((db)-&gt;aDb[0].pSchema-&gt;enc)</span>
<span class='curline'><a href='../S/185.html#L11111'>pSchema</a>          11111 libdb/sqlite3.c   Schema *pSchema;     /* Schema that contains this table */</span>
<span class='curline'><a href='../S/185.html#L11307'>pSchema</a>          11307 libdb/sqlite3.c   Schema *pSchema;         /* Schema containing this index */</span>
<span class='curline'><a href='../S/185.html#L11708'>pSchema</a>          11708 libdb/sqlite3.c     Schema *pSchema;  /* Schema to which this item is fixed */</span>
<span class='curline'><a href='../S/185.html#L12221'>pSchema</a>          12221 libdb/sqlite3.c   Schema *pSchema;        /* Schema containing the trigger */</span>
<span class='curline'><a href='../S/185.html#L12296'>pSchema</a>          12296 libdb/sqlite3.c   Schema *pSchema;    /* Fix items to this schema */</span>
<span class='curline'><a href='../S/185.html#L14662'>pSchema</a>          14662 libdb/sqlite3.c         Schema *pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/185.html#L14663'>pSchema</a>          14663 libdb/sqlite3.c         if( ALWAYS(pSchema!=0) ){</span>
<span class='curline'><a href='../S/185.html#L14667'>pSchema</a>          14667 libdb/sqlite3.c               pSchema-&gt;tblHash.count </span>
<span class='curline'><a href='../S/185.html#L14668'>pSchema</a>          14668 libdb/sqlite3.c             + pSchema-&gt;trigHash.count</span>
<span class='curline'><a href='../S/185.html#L14669'>pSchema</a>          14669 libdb/sqlite3.c             + pSchema-&gt;idxHash.count</span>
<span class='curline'><a href='../S/185.html#L14670'>pSchema</a>          14670 libdb/sqlite3.c             + pSchema-&gt;fkeyHash.count</span>
<span class='curline'><a href='../S/185.html#L14672'>pSchema</a>          14672 libdb/sqlite3.c           nByte += sqlite3MallocSize(pSchema-&gt;tblHash.ht);</span>
<span class='curline'><a href='../S/185.html#L14673'>pSchema</a>          14673 libdb/sqlite3.c           nByte += sqlite3MallocSize(pSchema-&gt;trigHash.ht);</span>
<span class='curline'><a href='../S/185.html#L14674'>pSchema</a>          14674 libdb/sqlite3.c           nByte += sqlite3MallocSize(pSchema-&gt;idxHash.ht);</span>
<span class='curline'><a href='../S/185.html#L14675'>pSchema</a>          14675 libdb/sqlite3.c           nByte += sqlite3MallocSize(pSchema-&gt;fkeyHash.ht);</span>
<span class='curline'><a href='../S/185.html#L14677'>pSchema</a>          14677 libdb/sqlite3.c           for(p=sqliteHashFirst(&amp;pSchema-&gt;trigHash); p; p=sqliteHashNext(p)){</span>
<span class='curline'><a href='../S/185.html#L14680'>pSchema</a>          14680 libdb/sqlite3.c           for(p=sqliteHashFirst(&amp;pSchema-&gt;tblHash); p; p=sqliteHashNext(p)){</span>
<span class='curline'><a href='../S/185.html#L51655'>pSchema</a>          51655 libdb/sqlite3.c   void *pSchema;        /* Pointer to space allocated by sqlite3BtreeSchema() */</span>
<span class='curline'><a href='../S/185.html#L52145'>pSchema</a>          52145 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaMutexHeld(sqlite3 *db, int iDb, Schema *pSchema){</span>
<span class='curline'><a href='../S/185.html#L52148'>pSchema</a>          52148 libdb/sqlite3.c   if( pSchema ) iDb = sqlite3SchemaToIndex(db, pSchema);</span>
<span class='curline'><a href='../S/185.html#L52330'>pSchema</a>          52330 libdb/sqlite3.c   Schema *pSchema = (Schema *)pBtree-&gt;pBt-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L52349'>pSchema</a>          52349 libdb/sqlite3.c   if( isIndex &amp;&amp; (!pSchema || (pSchema-&gt;schemaFlags&amp;DB_SchemaLoaded)==0) ){</span>
<span class='curline'><a href='../S/185.html#L52359'>pSchema</a>          52359 libdb/sqlite3.c     for(p=sqliteHashFirst(&amp;pSchema-&gt;idxHash); p; p=sqliteHashNext(p)){</span>
<span class='curline'><a href='../S/185.html#L54374'>pSchema</a>          54374 libdb/sqlite3.c     if( pBt-&gt;xFreeSchema &amp;&amp; pBt-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L54375'>pSchema</a>          54375 libdb/sqlite3.c       pBt-&gt;xFreeSchema(pBt-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L54377'>pSchema</a>          54377 libdb/sqlite3.c     sqlite3DbFree(0, pBt-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L60705'>pSchema</a>          60705 libdb/sqlite3.c   if( !pBt-&gt;pSchema &amp;&amp; nBytes ){</span>
<span class='curline'><a href='../S/185.html#L60706'>pSchema</a>          60706 libdb/sqlite3.c     pBt-&gt;pSchema = sqlite3DbMallocZero(0, nBytes);</span>
<span class='curline'><a href='../S/185.html#L60710'>pSchema</a>          60710 libdb/sqlite3.c   return pBt-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L72044'>pSchema</a>          72044 libdb/sqlite3.c     iGen = db-&gt;aDb[pOp-&gt;p1].pSchema-&gt;iGeneration;</span>
<span class='curline'><a href='../S/185.html#L72065'>pSchema</a>          72065 libdb/sqlite3.c     if( db-&gt;aDb[pOp-&gt;p1].pSchema-&gt;schema_cookie!=iMeta ){</span>
<span class='curline'><a href='../S/185.html#L72129'>pSchema</a>          72129 libdb/sqlite3.c     pDb-&gt;pSchema-&gt;schema_cookie = (int)pIn3-&gt;u.i;</span>
<span class='curline'><a href='../S/185.html#L72133'>pSchema</a>          72133 libdb/sqlite3.c     pDb-&gt;pSchema-&gt;file_format = (u8)pIn3-&gt;u.i;</span>
<span class='curline'><a href='../S/185.html#L72256'>pSchema</a>          72256 libdb/sqlite3.c     if( pDb-&gt;pSchema-&gt;file_format &lt; p-&gt;minWriteFileFormat ){</span>
<span class='curline'><a href='../S/185.html#L72257'>pSchema</a>          72257 libdb/sqlite3.c       p-&gt;minWriteFileFormat = pDb-&gt;pSchema-&gt;file_format;</span>
<span class='curline'><a href='../S/185.html#L75732'>pSchema</a>          75732 libdb/sqlite3.c       int iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L75736'>pSchema</a>          75736 libdb/sqlite3.c                            pTab-&gt;pSchema-&gt;schema_cookie,</span>
<span class='curline'><a href='../S/185.html#L75737'>pSchema</a>          75737 libdb/sqlite3.c                            pTab-&gt;pSchema-&gt;iGeneration);</span>
<span class='curline'><a href='../S/185.html#L76787'>pSchema</a>          76787 libdb/sqlite3.c       mxCache = db-&gt;aDb[0].pSchema-&gt;cache_size;</span>
<span class='curline'><a href='../S/185.html#L79364'>pSchema</a>          79364 libdb/sqlite3.c   Schema *pSchema = 0;              /* Schema of the expression */</span>
<span class='curline'><a href='../S/185.html#L79394'>pSchema</a>          79394 libdb/sqlite3.c           pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/185.html#L79425'>pSchema</a>          79425 libdb/sqlite3.c         if( zDb &amp;&amp; pTab-&gt;pSchema!=pSchema ){</span>
<span class='curline'><a href='../S/185.html#L79459'>pSchema</a>          79459 libdb/sqlite3.c         pSchema = pExpr-&gt;pTab-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L79482'>pSchema</a>          79482 libdb/sqlite3.c         pSchema = pTab-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L79641'>pSchema</a>          79641 libdb/sqlite3.c       sqlite3AuthRead(pParse, pExpr, pSchema, pNC-&gt;pSrcList);</span>
<span class='curline'><a href='../S/185.html#L81599'>pSchema</a>          81599 libdb/sqlite3.c     pNewItem-&gt;pSchema = pOldItem-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L82239'>pSchema</a>          82239 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85249'>pSchema</a>          85249 libdb/sqlite3.c   const Schema *pTempSchema = pParse-&gt;db-&gt;aDb[1].pSchema; /* Temp db schema */</span>
<span class='curline'><a href='../S/185.html#L85256'>pSchema</a>          85256 libdb/sqlite3.c   if( pTab-&gt;pSchema!=pTempSchema ){</span>
<span class='curline'><a href='../S/185.html#L85259'>pSchema</a>          85259 libdb/sqlite3.c       if( pTrig-&gt;pSchema==pTempSchema ){</span>
<span class='curline'><a href='../S/185.html#L85291'>pSchema</a>          85291 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85297'>pSchema</a>          85297 libdb/sqlite3.c     int iTrigDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85367'>pSchema</a>          85367 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85589'>pSchema</a>          85589 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pNew-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85729'>pSchema</a>          85729 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85761'>pSchema</a>          85761 libdb/sqlite3.c   pNew-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L86775'>pSchema</a>          86775 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L86858'>pSchema</a>          86858 libdb/sqlite3.c     assert( iDb==sqlite3SchemaToIndex(db, pIdx-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L87071'>pSchema</a>          87071 libdb/sqlite3.c   Schema *pSchema = db-&gt;aDb[iDb].pSchema;    /* Schema of database iDb */</span>
<span class='curline'><a href='../S/185.html#L87084'>pSchema</a>          87084 libdb/sqlite3.c   for(k=sqliteHashFirst(&amp;pSchema-&gt;tblHash); k; k=sqliteHashNext(k)){</span>
<span class='curline'><a href='../S/185.html#L87102'>pSchema</a>          87102 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L87611'>pSchema</a>          87611 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash);i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L87646'>pSchema</a>          87646 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash);i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L87807'>pSchema</a>          87807 libdb/sqlite3.c     aNew-&gt;pSchema = sqlite3SchemaGet(db, aNew-&gt;pBt);</span>
<span class='curline'><a href='../S/185.html#L87808'>pSchema</a>          87808 libdb/sqlite3.c     if( !aNew-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L87810'>pSchema</a>          87810 libdb/sqlite3.c     }else if( aNew-&gt;pSchema-&gt;file_format &amp;&amp; aNew-&gt;pSchema-&gt;enc!=ENC(db) ){</span>
<span class='curline'><a href='../S/185.html#L87887'>pSchema</a>          87887 libdb/sqlite3.c       db-&gt;aDb[iDb].pSchema = 0;</span>
<span class='curline'><a href='../S/185.html#L87960'>pSchema</a>          87960 libdb/sqlite3.c   pDb-&gt;pSchema = 0;</span>
<span class='curline'><a href='../S/185.html#L88101'>pSchema</a>          88101 libdb/sqlite3.c   pFix-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L88141'>pSchema</a>          88141 libdb/sqlite3.c       pItem-&gt;pSchema = pFix-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L88388'>pSchema</a>          88388 libdb/sqlite3.c   Schema *pSchema,      /* The schema of the expression */</span>
<span class='curline'><a href='../S/185.html#L88399'>pSchema</a>          88399 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pSchema);</span>
<span class='curline'><a href='../S/185.html#L88696'>pSchema</a>          88696 libdb/sqlite3.c           db-&gt;aDb[iDb].pSchema-&gt;iGeneration  /* P4 */</span>
<span class='curline'><a href='../S/185.html#L88830'>pSchema</a>          88830 libdb/sqlite3.c     p = sqlite3HashFind(&amp;db-&gt;aDb[j].pSchema-&gt;tblHash, zName);</span>
<span class='curline'><a href='../S/185.html#L88894'>pSchema</a>          88894 libdb/sqlite3.c   assert( p-&gt;pSchema==0 || p-&gt;zDatabase==0 );</span>
<span class='curline'><a href='../S/185.html#L88895'>pSchema</a>          88895 libdb/sqlite3.c   if( p-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L88896'>pSchema</a>          88896 libdb/sqlite3.c     int iDb = sqlite3SchemaToIndex(pParse-&gt;db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L88923'>pSchema</a>          88923 libdb/sqlite3.c     Schema *pSchema = db-&gt;aDb[j].pSchema;</span>
<span class='curline'><a href='../S/185.html#L88924'>pSchema</a>          88924 libdb/sqlite3.c     assert( pSchema );</span>
<span class='curline'><a href='../S/185.html#L88927'>pSchema</a>          88927 libdb/sqlite3.c     p = sqlite3HashFind(&amp;pSchema-&gt;idxHash, zName);</span>
<span class='curline'><a href='../S/185.html#L88961'>pSchema</a>          88961 libdb/sqlite3.c   pHash = &amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash;</span>
<span class='curline'><a href='../S/185.html#L89023'>pSchema</a>          89023 libdb/sqlite3.c   assert( pDb-&gt;pSchema!=0 );</span>
<span class='curline'><a href='../S/185.html#L89024'>pSchema</a>          89024 libdb/sqlite3.c   sqlite3SchemaClear(pDb-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L89032'>pSchema</a>          89032 libdb/sqlite3.c     assert( pDb-&gt;pSchema!=0 );</span>
<span class='curline'><a href='../S/185.html#L89033'>pSchema</a>          89033 libdb/sqlite3.c     sqlite3SchemaClear(pDb-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L89047'>pSchema</a>          89047 libdb/sqlite3.c     if( pDb-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L89048'>pSchema</a>          89048 libdb/sqlite3.c       sqlite3SchemaClear(pDb-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L89118'>pSchema</a>          89118 libdb/sqlite3.c     assert( pIndex-&gt;pSchema==pTable-&gt;pSchema );</span>
<span class='curline'><a href='../S/185.html#L89122'>pSchema</a>          89122 libdb/sqlite3.c          &amp;pIndex-&gt;pSchema-&gt;idxHash, zName, 0</span>
<span class='curline'><a href='../S/185.html#L89124'>pSchema</a>          89124 libdb/sqlite3.c       assert( db==0 || sqlite3SchemaMutexHeld(db, 0, pIndex-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L89165'>pSchema</a>          89165 libdb/sqlite3.c   p = sqlite3HashInsert(&amp;pDb-&gt;pSchema-&gt;tblHash, zTabName, 0);</span>
<span class='curline'><a href='../S/185.html#L89457'>pSchema</a>          89457 libdb/sqlite3.c   pTable-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L89470'>pSchema</a>          89470 libdb/sqlite3.c     pTable-&gt;pSchema-&gt;pSeqTab = pTable;</span>
<span class='curline'><a href='../S/185.html#L89967'>pSchema</a>          89967 libdb/sqlite3.c   sqlite3VdbeAddOp2(v, OP_Integer, db-&gt;aDb[iDb].pSchema-&gt;schema_cookie+1, r1);</span>
<span class='curline'><a href='../S/185.html#L90343'>pSchema</a>          90343 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90466'>pSchema</a>          90466 libdb/sqlite3.c       if( pDb-&gt;pSchema-&gt;pSeqTab==0 ){</span>
<span class='curline'><a href='../S/185.html#L90485'>pSchema</a>          90485 libdb/sqlite3.c     Schema *pSchema = p-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L90487'>pSchema</a>          90487 libdb/sqlite3.c     pOld = sqlite3HashInsert(&amp;pSchema-&gt;tblHash, p-&gt;zName, p);</span>
<span class='curline'><a href='../S/185.html#L90545'>pSchema</a>          90545 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90668'>pSchema</a>          90668 libdb/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, 0, pTable-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L90669'>pSchema</a>          90669 libdb/sqlite3.c       pTable-&gt;pSchema-&gt;schemaFlags |= DB_UnresetViews;</span>
<span class='curline'><a href='../S/185.html#L90691'>pSchema</a>          90691 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[idx].pSchema-&gt;tblHash); i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L90730'>pSchema</a>          90730 libdb/sqlite3.c   pHash = &amp;pDb-&gt;pSchema-&gt;tblHash;</span>
<span class='curline'><a href='../S/185.html#L90737'>pSchema</a>          90737 libdb/sqlite3.c   pHash = &amp;pDb-&gt;pSchema-&gt;idxHash;</span>
<span class='curline'><a href='../S/185.html#L90784'>pSchema</a>          90784 libdb/sqlite3.c   int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90818'>pSchema</a>          90818 libdb/sqlite3.c       assert( pIdx-&gt;pSchema==pTab-&gt;pSchema );</span>
<span class='curline'><a href='../S/185.html#L90826'>pSchema</a>          90826 libdb/sqlite3.c       int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90884'>pSchema</a>          90884 libdb/sqlite3.c     assert( pTrigger-&gt;pSchema==pTab-&gt;pSchema || </span>
<span class='curline'><a href='../S/185.html#L90885'>pSchema</a>          90885 libdb/sqlite3.c         pTrigger-&gt;pSchema==db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/185.html#L90952'>pSchema</a>          90952 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L91135'>pSchema</a>          91135 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, 0, p-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L91136'>pSchema</a>          91136 libdb/sqlite3.c   pNextTo = (FKey *)sqlite3HashInsert(&amp;p-&gt;pSchema-&gt;fkeyHash, </span>
<span class='curline'><a href='../S/185.html#L91202'>pSchema</a>          91202 libdb/sqlite3.c   int iDb = sqlite3SchemaToIndex(db, pIndex-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L91379'>pSchema</a>          91379 libdb/sqlite3.c       if( pName2-&gt;n==0 &amp;&amp; pTab &amp;&amp; pTab-&gt;pSchema==db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L91394'>pSchema</a>          91394 libdb/sqlite3.c     if( iDb==1 &amp;&amp; db-&gt;aDb[iDb].pSchema!=pTab-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L91406'>pSchema</a>          91406 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L91537'>pSchema</a>          91537 libdb/sqlite3.c   pIndex-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L91548'>pSchema</a>          91548 libdb/sqlite3.c   if( pDb-&gt;pSchema-&gt;file_format&gt;=4 ){</span>
<span class='curline'><a href='../S/185.html#L91687'>pSchema</a>          91687 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pIndex-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L91688'>pSchema</a>          91688 libdb/sqlite3.c     p = sqlite3HashInsert(&amp;pIndex-&gt;pSchema-&gt;idxHash, </span>
<span class='curline'><a href='../S/185.html#L91875'>pSchema</a>          91875 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pIndex-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L92381'>pSchema</a>          92381 libdb/sqlite3.c     assert( db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/185.html#L92406'>pSchema</a>          92406 libdb/sqlite3.c     pToplevel-&gt;cookieValue[iDb] = db-&gt;aDb[iDb].pSchema-&gt;schema_cookie;</span>
<span class='curline'><a href='../S/185.html#L92584'>pSchema</a>          92584 libdb/sqlite3.c       int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L92608'>pSchema</a>          92608 libdb/sqlite3.c     for(k=sqliteHashFirst(&amp;pDb-&gt;pSchema-&gt;tblHash);  k; k=sqliteHashNext(k)){</span>
<span class='curline'><a href='../S/185.html#L93233'>pSchema</a>          93233 libdb/sqlite3.c   Schema *pSchema = (Schema *)p;</span>
<span class='curline'><a href='../S/185.html#L93235'>pSchema</a>          93235 libdb/sqlite3.c   temp1 = pSchema-&gt;tblHash;</span>
<span class='curline'><a href='../S/185.html#L93236'>pSchema</a>          93236 libdb/sqlite3.c   temp2 = pSchema-&gt;trigHash;</span>
<span class='curline'><a href='../S/185.html#L93237'>pSchema</a>          93237 libdb/sqlite3.c   sqlite3HashInit(&amp;pSchema-&gt;trigHash);</span>
<span class='curline'><a href='../S/185.html#L93238'>pSchema</a>          93238 libdb/sqlite3.c   sqlite3HashClear(&amp;pSchema-&gt;idxHash);</span>
<span class='curline'><a href='../S/185.html#L93243'>pSchema</a>          93243 libdb/sqlite3.c   sqlite3HashInit(&amp;pSchema-&gt;tblHash);</span>
<span class='curline'><a href='../S/185.html#L93249'>pSchema</a>          93249 libdb/sqlite3.c   sqlite3HashClear(&amp;pSchema-&gt;fkeyHash);</span>
<span class='curline'><a href='../S/185.html#L93250'>pSchema</a>          93250 libdb/sqlite3.c   pSchema-&gt;pSeqTab = 0;</span>
<span class='curline'><a href='../S/185.html#L93251'>pSchema</a>          93251 libdb/sqlite3.c   if( pSchema-&gt;schemaFlags &amp; DB_SchemaLoaded ){</span>
<span class='curline'><a href='../S/185.html#L93252'>pSchema</a>          93252 libdb/sqlite3.c     pSchema-&gt;iGeneration++;</span>
<span class='curline'><a href='../S/185.html#L93253'>pSchema</a>          93253 libdb/sqlite3.c     pSchema-&gt;schemaFlags &amp;= ~DB_SchemaLoaded;</span>
<span class='curline'><a href='../S/185.html#L93379'>pSchema</a>          93379 libdb/sqlite3.c   int iDb = sqlite3SchemaToIndex(db, pView-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L93577'>pSchema</a>          93577 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L93652'>pSchema</a>          93652 libdb/sqlite3.c       assert( pIdx-&gt;pSchema==pTab-&gt;pSchema );</span>
<span class='curline'><a href='../S/185.html#L96571'>pSchema</a>          96571 libdb/sqlite3.c   return (FKey *)sqlite3HashFind(&amp;pTab-&gt;pSchema-&gt;fkeyHash, pTab-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L96762'>pSchema</a>          96762 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L97190'>pSchema</a>          97190 libdb/sqlite3.c     pTrigger-&gt;pSchema = pTab-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L97191'>pSchema</a>          97191 libdb/sqlite3.c     pTrigger-&gt;pTabSchema = pTab-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L97239'>pSchema</a>          97239 libdb/sqlite3.c   assert( db==0 || sqlite3SchemaMutexHeld(db, 0, pTab-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L97249'>pSchema</a>          97249 libdb/sqlite3.c         sqlite3HashInsert(&amp;pTab-&gt;pSchema-&gt;fkeyHash, z, p);</span>
<span class='curline'><a href='../S/185.html#L97532'>pSchema</a>          97532 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pDb-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L97533'>pSchema</a>          97533 libdb/sqlite3.c     sqlite3OpenTable(pParse, 0, p-&gt;iDb, pDb-&gt;pSchema-&gt;pSeqTab, OP_OpenRead);</span>
<span class='curline'><a href='../S/185.html#L97584'>pSchema</a>          97584 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pDb-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L97585'>pSchema</a>          97585 libdb/sqlite3.c     sqlite3OpenTable(pParse, 0, p-&gt;iDb, pDb-&gt;pSchema-&gt;pSeqTab, OP_OpenWrite);</span>
<span class='curline'><a href='../S/185.html#L97782'>pSchema</a>          97782 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L98914'>pSchema</a>          98914 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L98928'>pSchema</a>          98928 libdb/sqlite3.c     assert( pIdx-&gt;pSchema==pTab-&gt;pSchema );</span>
<span class='curline'><a href='../S/185.html#L99203'>pSchema</a>          99203 libdb/sqlite3.c   iDbSrc = sqlite3SchemaToIndex(pParse-&gt;db, pSrc-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L101595'>pSchema</a>          101595 libdb/sqlite3.c       pDb-&gt;pSchema-&gt;cache_size = size;</span>
<span class='curline'><a href='../S/185.html#L101596'>pSchema</a>          101596 libdb/sqlite3.c       sqlite3BtreeSetCacheSize(pDb-&gt;pBt, pDb-&gt;pSchema-&gt;cache_size);</span>
<span class='curline'><a href='../S/185.html#L101890'>pSchema</a>          101890 libdb/sqlite3.c       returnSingleInt(pParse, "cache_size", pDb-&gt;pSchema-&gt;cache_size);</span>
<span class='curline'><a href='../S/185.html#L101893'>pSchema</a>          101893 libdb/sqlite3.c       pDb-&gt;pSchema-&gt;cache_size = size;</span>
<span class='curline'><a href='../S/185.html#L101894'>pSchema</a>          101894 libdb/sqlite3.c       sqlite3BtreeSetCacheSize(pDb-&gt;pBt, pDb-&gt;pSchema-&gt;cache_size);</span>
<span class='curline'><a href='../S/185.html#L102231'>pSchema</a>          102231 libdb/sqlite3.c     for(i=sqliteHashFirst(&amp;pDb-&gt;pSchema-&gt;tblHash); i; i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L102412'>pSchema</a>          102412 libdb/sqlite3.c     k = sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;tblHash);</span>
<span class='curline'><a href='../S/185.html#L102599'>pSchema</a>          102599 libdb/sqlite3.c       pTbls = &amp;db-&gt;aDb[i].pSchema-&gt;tblHash;</span>
<span class='curline'><a href='../S/185.html#L103303'>pSchema</a>          103303 libdb/sqlite3.c   assert( db-&gt;aDb[iDb].pSchema );</span>
<span class='curline'><a href='../S/185.html#L103380'>pSchema</a>          103380 libdb/sqlite3.c   pDb-&gt;pSchema-&gt;schema_cookie = meta[BTREE_SCHEMA_VERSION-1];</span>
<span class='curline'><a href='../S/185.html#L103410'>pSchema</a>          103410 libdb/sqlite3.c   pDb-&gt;pSchema-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/185.html#L103412'>pSchema</a>          103412 libdb/sqlite3.c   if( pDb-&gt;pSchema-&gt;cache_size==0 ){</span>
<span class='curline'><a href='../S/185.html#L103416'>pSchema</a>          103416 libdb/sqlite3.c     pDb-&gt;pSchema-&gt;cache_size = size;</span>
<span class='curline'><a href='../S/185.html#L103418'>pSchema</a>          103418 libdb/sqlite3.c     pDb-&gt;pSchema-&gt;cache_size = SQLITE_DEFAULT_CACHE_SIZE;</span>
<span class='curline'><a href='../S/185.html#L103420'>pSchema</a>          103420 libdb/sqlite3.c     sqlite3BtreeSetCacheSize(pDb-&gt;pBt, pDb-&gt;pSchema-&gt;cache_size);</span>
<span class='curline'><a href='../S/185.html#L103429'>pSchema</a>          103429 libdb/sqlite3.c   pDb-&gt;pSchema-&gt;file_format = (u8)meta[BTREE_FILE_FORMAT-1];</span>
<span class='curline'><a href='../S/185.html#L103430'>pSchema</a>          103430 libdb/sqlite3.c   if( pDb-&gt;pSchema-&gt;file_format==0 ){</span>
<span class='curline'><a href='../S/185.html#L103431'>pSchema</a>          103431 libdb/sqlite3.c     pDb-&gt;pSchema-&gt;file_format = 1;</span>
<span class='curline'><a href='../S/185.html#L103433'>pSchema</a>          103433 libdb/sqlite3.c   if( pDb-&gt;pSchema-&gt;file_format&gt;SQLITE_MAX_FILE_FORMAT ){</span>
<span class='curline'><a href='../S/185.html#L103611'>pSchema</a>          103611 libdb/sqlite3.c     if( cookie!=db-&gt;aDb[iDb].pSchema-&gt;schema_cookie ){</span>
<span class='curline'><a href='../S/185.html#L103630'>pSchema</a>          103630 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaToIndex(sqlite3 *db, Schema *pSchema){</span>
<span class='curline'><a href='../S/185.html#L103644'>pSchema</a>          103644 libdb/sqlite3.c   if( pSchema ){</span>
<span class='curline'><a href='../S/185.html#L103646'>pSchema</a>          103646 libdb/sqlite3.c       if( db-&gt;aDb[i].pSchema==pSchema ){</span>
<span class='curline'><a href='../S/185.html#L105411'>pSchema</a>          105411 libdb/sqlite3.c       }else if( pTab-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L105427'>pSchema</a>          105427 libdb/sqlite3.c           int iDb = sqlite3SchemaToIndex(pNC-&gt;pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L108227'>pSchema</a>          108227 libdb/sqlite3.c             iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L109278'>pSchema</a>          109278 libdb/sqlite3.c         const int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L109781'>pSchema</a>          109781 libdb/sqlite3.c   Schema * const pTmpSchema = pParse-&gt;db-&gt;aDb[1].pSchema;</span>
<span class='curline'><a href='../S/185.html#L109788'>pSchema</a>          109788 libdb/sqlite3.c   if( pTmpSchema!=pTab-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L109793'>pSchema</a>          109793 libdb/sqlite3.c       if( pTrig-&gt;pTabSchema==pTab-&gt;pSchema</span>
<span class='curline'><a href='../S/185.html#L109877'>pSchema</a>          109877 libdb/sqlite3.c         &amp;&amp; pTab-&gt;pSchema==db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L109916'>pSchema</a>          109916 libdb/sqlite3.c   if( sqlite3HashFind(&amp;(db-&gt;aDb[iDb].pSchema-&gt;trigHash),zName) ){</span>
<span class='curline'><a href='../S/185.html#L109946'>pSchema</a>          109946 libdb/sqlite3.c   iTabDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L109978'>pSchema</a>          109978 libdb/sqlite3.c   pTrigger-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L109979'>pSchema</a>          109979 libdb/sqlite3.c   pTrigger-&gt;pTabSchema = pTab-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L110018'>pSchema</a>          110018 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L110057'>pSchema</a>          110057 libdb/sqlite3.c     Hash *pHash = &amp;db-&gt;aDb[iDb].pSchema-&gt;trigHash;</span>
<span class='curline'><a href='../S/185.html#L110062'>pSchema</a>          110062 libdb/sqlite3.c     }else if( pLink-&gt;pSchema==pLink-&gt;pTabSchema ){</span>
<span class='curline'><a href='../S/185.html#L110238'>pSchema</a>          110238 libdb/sqlite3.c     pTrigger = sqlite3HashFind(&amp;(db-&gt;aDb[j].pSchema-&gt;trigHash), zName);</span>
<span class='curline'><a href='../S/185.html#L110274'>pSchema</a>          110274 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrigger-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L110278'>pSchema</a>          110278 libdb/sqlite3.c   assert( pTable-&gt;pSchema==pTrigger-&gt;pSchema || iDb==1 );</span>
<span class='curline'><a href='../S/185.html#L110332'>pSchema</a>          110332 libdb/sqlite3.c   pHash = &amp;(db-&gt;aDb[iDb].pSchema-&gt;trigHash);</span>
<span class='curline'><a href='../S/185.html#L110335'>pSchema</a>          110335 libdb/sqlite3.c     if( pTrigger-&gt;pSchema==pTrigger-&gt;pTabSchema ){</span>
<span class='curline'><a href='../S/185.html#L110417'>pSchema</a>          110417 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(pParse-&gt;db, pStep-&gt;pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L110783'>pSchema</a>          110783 libdb/sqlite3.c     assert( p-&gt;pSchema!=0 );</span>
<span class='curline'><a href='../S/185.html#L110785'>pSchema</a>          110785 libdb/sqlite3.c     assert( p-&gt;pSchema==p-&gt;pTabSchema </span>
<span class='curline'><a href='../S/185.html#L110786'>pSchema</a>          110786 libdb/sqlite3.c          || p-&gt;pSchema==pParse-&gt;db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/185.html#L111009'>pSchema</a>          111009 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L111988'>pSchema</a>          111988 libdb/sqlite3.c     pDb-&gt;pSchema = 0;</span>
<span class='curline'><a href='../S/185.html#L112164'>pSchema</a>          112164 libdb/sqlite3.c   assert( db==0 || sqlite3SchemaMutexHeld(db, 0, p-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L112321'>pSchema</a>          112321 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTable-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L112397'>pSchema</a>          112397 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L112426'>pSchema</a>          112426 libdb/sqlite3.c     Schema *pSchema = pTab-&gt;pSchema;</span>
<span class='curline'><a href='../S/185.html#L112428'>pSchema</a>          112428 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pSchema) );</span>
<span class='curline'><a href='../S/185.html#L112429'>pSchema</a>          112429 libdb/sqlite3.c     pOld = sqlite3HashInsert(&amp;pSchema-&gt;tblHash, zName, pTab);</span>
<span class='curline'><a href='../S/185.html#L112497'>pSchema</a>          112497 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L119880'>pSchema</a>          119880 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L119946'>pSchema</a>          119946 libdb/sqlite3.c       assert( pIx-&gt;pSchema==pTab-&gt;pSchema );</span>
<span class='curline'><a href='../S/185.html#L125710'>pSchema</a>          125710 libdb/sqlite3.c     Schema *pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/185.html#L125711'>pSchema</a>          125711 libdb/sqlite3.c     if( db-&gt;aDb[i].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L125713'>pSchema</a>          125713 libdb/sqlite3.c       for(p=sqliteHashFirst(&amp;pSchema-&gt;tblHash); p; p=sqliteHashNext(p)){</span>
<span class='curline'><a href='../S/185.html#L125847'>pSchema</a>          125847 libdb/sqlite3.c         pDb-&gt;pSchema = 0;</span>
<span class='curline'><a href='../S/185.html#L125852'>pSchema</a>          125852 libdb/sqlite3.c   if( db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L125853'>pSchema</a>          125853 libdb/sqlite3.c     sqlite3SchemaClear(db-&gt;aDb[1].pSchema);</span>
<span class='curline'><a href='../S/185.html#L125917'>pSchema</a>          125917 libdb/sqlite3.c   sqlite3DbFree(db, db-&gt;aDb[1].pSchema);</span>
<span class='curline'><a href='../S/185.html#L126894'>pSchema</a>          126894 libdb/sqlite3.c     for(k=sqliteHashFirst(&amp;pDb-&gt;pSchema-&gt;tblHash);  k; k=sqliteHashNext(k)){</span>
<span class='curline'><a href='../S/185.html#L127488'>pSchema</a>          127488 libdb/sqlite3.c   db-&gt;aDb[0].pSchema = sqlite3SchemaGet(db, db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/185.html#L127489'>pSchema</a>          127489 libdb/sqlite3.c   db-&gt;aDb[1].pSchema = sqlite3SchemaGet(db, 0);</span>
</pre>
</body>
</html>
