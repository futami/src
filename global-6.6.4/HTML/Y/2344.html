<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>db</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/42.html#L278'>db</a>                278 global/global.c 	int db = GSYMS;</span>
<span class='curline'><a href='../S/42.html#L305'>db</a>                305 global/global.c 		db = GTAGS;</span>
<span class='curline'><a href='../S/42.html#L322'>db</a>                322 global/global.c 						db = GRTAGS;</span>
<span class='curline'><a href='../S/42.html#L334'>db</a>                334 global/global.c 							db = GRTAGS;</span>
<span class='curline'><a href='../S/42.html#L344'>db</a>                344 global/global.c 								db = GRTAGS;</span>
<span class='curline'><a href='../S/42.html#L362'>db</a>                362 global/global.c 	if (db == GSYMS &amp;&amp; getenv("GTAGSLIBPATH")) {</span>
<span class='curline'><a href='../S/42.html#L369'>db</a>                369 global/global.c 		for (libdir = strbuf_value(sb); db != GTAGS &amp;&amp; libdir; libdir = nextp) {</span>
<span class='curline'><a href='../S/42.html#L378'>db</a>                378 global/global.c 				db = GTAGS;</span>
<span class='curline'><a href='../S/42.html#L383'>db</a>                383 global/global.c 	return db;</span>
<span class='curline'><a href='../S/42.html#L389'>db</a>                389 global/global.c 	int db;</span>
<span class='curline'><a href='../S/42.html#L858'>db</a>                858 global/global.c 		db = decide_tag_by_context(av, context_file, atoi(context_lineno));</span>
<span class='curline'><a href='../S/42.html#L861'>db</a>                861 global/global.c 			db = GTAGS;</span>
<span class='curline'><a href='../S/42.html#L863'>db</a>                863 global/global.c 			db = GRTAGS + GSYMS;</span>
<span class='curline'><a href='../S/42.html#L865'>db</a>                865 global/global.c 			db = (rflag) ? GRTAGS : ((sflag) ? GSYMS : GTAGS);</span>
<span class='curline'><a href='../S/42.html#L876'>db</a>                876 global/global.c 			completion(dbpath, root, av, db);</span>
<span class='curline'><a href='../S/42.html#L996'>db</a>                996 global/global.c 		parsefile(argv, cwd, root, dbpath, db);</span>
<span class='curline'><a href='../S/42.html#L1002'>db</a>               1002 global/global.c 		tagsearch(av, cwd, root, dbpath, db);</span>
<span class='curline'><a href='../S/42.html#L1016'>db</a>               1016 global/global.c completion_tags(const char *dbpath, const char *root, const char *prefix, int db)</span>
<span class='curline'><a href='../S/42.html#L1019'>db</a>               1019 global/global.c 	GTOP *gtop = gtags_open(dbpath, root, db, GTAGS_READ, 0);</span>
<span class='curline'><a href='../S/42.html#L1044'>db</a>               1044 global/global.c completion(const char *dbpath, const char *root, const char *prefix, int db)</span>
<span class='curline'><a href='../S/42.html#L1051'>db</a>               1051 global/global.c 	count = completion_tags(dbpath, root, prefix, db);</span>
<span class='curline'><a href='../S/42.html#L1055'>db</a>               1055 global/global.c 	if (db == GTAGS &amp;&amp; getenv("GTAGSLIBPATH") &amp;&amp; (count == 0 || Tflag) &amp;&amp; !Sflag) {</span>
<span class='curline'><a href='../S/42.html#L1071'>db</a>               1071 global/global.c 			if (!test("f", makepath(libdbpath, dbname(db), NULL)))</span>
<span class='curline'><a href='../S/42.html#L1076'>db</a>               1076 global/global.c 			count = completion_tags(libdbpath, libdir, prefix, db);</span>
<span class='curline'><a href='../S/42.html#L1742'>db</a>               1742 global/global.c parsefile(char *const *argv, const char *cwd, const char *root, const char *dbpath, int db)</span>
<span class='curline'><a href='../S/42.html#L1763'>db</a>               1763 global/global.c 	if (db == GRTAGS + GSYMS)</span>
<span class='curline'><a href='../S/42.html#L1766'>db</a>               1766 global/global.c 		data.target = 1 &lt;&lt; db;</span>
<span class='curline'><a href='../S/42.html#L1777'>db</a>               1777 global/global.c 	data.cv = convert_open(type, format, root, cwd, dbpath, stdout, db);</span>
<span class='curline'><a href='../S/42.html#L1866'>db</a>               1866 global/global.c search(const char *pattern, const char *root, const char *cwd, const char *dbpath, int db)</span>
<span class='curline'><a href='../S/42.html#L1878'>db</a>               1878 global/global.c 	gtop = gtags_open(dbpath, root, db, GTAGS_READ, debug ? GTAGS_DEBUG : 0);</span>
<span class='curline'><a href='../S/42.html#L1879'>db</a>               1879 global/global.c 	cv = convert_open(type, format, root, cwd, dbpath, stdout, db);</span>
<span class='curline'><a href='../S/42.html#L1917'>db</a>               1917 global/global.c tagsearch(const char *pattern, const char *cwd, const char *root, const char *dbpath, int db)</span>
<span class='curline'><a href='../S/42.html#L1940'>db</a>               1940 global/global.c 	count = search(pattern, root, cwd, dbpath, db);</span>
<span class='curline'><a href='../S/42.html#L1947'>db</a>               1947 global/global.c 	if (db == GTAGS &amp;&amp; getenv("GTAGSLIBPATH") &amp;&amp; (count == 0 || Tflag) &amp;&amp; !Sflag) {</span>
<span class='curline'><a href='../S/42.html#L1963'>db</a>               1963 global/global.c 			if (!test("f", makepath(libdbpath, dbname(db), NULL)))</span>
<span class='curline'><a href='../S/42.html#L1968'>db</a>               1968 global/global.c 			count = search(pattern, libdir, cwd, libdbpath, db);</span>
<span class='curline'><a href='../S/42.html#L1981'>db</a>               1981 global/global.c 			fprintf(stderr, " (using '%s')", makepath(dbpath, dbname(db), NULL));</span>
<span class='curline'><a href='../S/62.html#L779'>db</a>                779 gtags/gtags.c  		int db;</span>
<span class='curline'><a href='../S/62.html#L811'>db</a>                811 gtags/gtags.c  		for (db = GTAGS; db &lt; GTAGLIM; db++)</span>
<span class='curline'><a href='../S/62.html#L812'>db</a>                812 gtags/gtags.c  			utime(makepath(dbpath, dbname(db), NULL), NULL);</span>
<span class='curline'><a href='../S/100.html#L78'>db</a>                 78 htags/anchor.c 	int db;</span>
<span class='curline'><a href='../S/100.html#L80'>db</a>                 80 htags/anchor.c 	for (db = GTAGS; db &lt; GTAGLIM; db++) {</span>
<span class='curline'><a href='../S/100.html#L81'>db</a>                 81 htags/anchor.c 		anchor_input[db] = NULL;</span>
<span class='curline'><a href='../S/100.html#L95'>db</a>                 95 htags/anchor.c 		if (gtags_exist[db] == 1) {</span>
<span class='curline'><a href='../S/100.html#L96'>db</a>                 96 htags/anchor.c 			snprintf(comline, sizeof(comline), "%s -f%s --encode-path=\" \t\" --result=ctags-xid --nofilter=path", quote_shell(global_path), options[db]);</span>
<span class='curline'><a href='../S/100.html#L97'>db</a>                 97 htags/anchor.c 			anchor_input[db] = xargs_open_with_file(comline, 0, anchor_stream);</span>
<span class='curline'><a href='../S/100.html#L109'>db</a>                109 htags/anchor.c 	int db, current_fid;</span>
<span class='curline'><a href='../S/100.html#L126'>db</a>                126 htags/anchor.c 	for (db = GTAGS; db &lt; GTAGLIM; db++) {</span>
<span class='curline'><a href='../S/100.html#L130'>db</a>                130 htags/anchor.c 		if ((xp = anchor_input[db]) == NULL)</span>
<span class='curline'><a href='../S/100.html#L153'>db</a>                153 htags/anchor.c 			if (db == GTAGS) {</span>
<span class='curline'><a href='../S/100.html#L179'>db</a>                179 htags/anchor.c 			}  else if (db == GRTAGS)</span>
<span class='curline'><a href='../S/100.html#L192'>db</a>                192 htags/anchor.c 			xargs_close(anchor_input[db]);</span>
<span class='curline'><a href='../S/100.html#L193'>db</a>                193 htags/anchor.c 			anchor_input[db] = NULL;</span>
<span class='curline'><a href='../S/106.html#L76'>db</a>                 76 htags/cache.c  cache_put(int db, const char *tag, const char *line, int len)</span>
<span class='curline'><a href='../S/106.html#L78'>db</a>                 78 htags/cache.c  	if (db &gt;= GTAGLIM)</span>
<span class='curline'><a href='../S/106.html#L80'>db</a>                 80 htags/cache.c  	assoc_put_withlen(assoc[db], tag, line, len);</span>
<span class='curline'><a href='../S/106.html#L90'>db</a>                 90 htags/cache.c  cache_get(int db, const char *tag)</span>
<span class='curline'><a href='../S/106.html#L92'>db</a>                 92 htags/cache.c  	if (db &gt;= GTAGLIM)</span>
<span class='curline'><a href='../S/106.html#L94'>db</a>                 94 htags/cache.c  	return assoc_get(assoc[db], tag);</span>
<span class='curline'><a href='../S/117.html#L59'>db</a>                 59 htags/dupindex.c 	int db;</span>
<span class='curline'><a href='../S/117.html#L65'>db</a>                 65 htags/dupindex.c 	for (db = GTAGS; db &lt; GTAGLIM; db++) {</span>
<span class='curline'><a href='../S/117.html#L66'>db</a>                 66 htags/dupindex.c 		const char *kind = kinds[db];</span>
<span class='curline'><a href='../S/117.html#L67'>db</a>                 67 htags/dupindex.c 		const char *option = options[db];</span>
<span class='curline'><a href='../S/117.html#L74'>db</a>                 74 htags/dupindex.c 		if (gtags_exist[db] == 0)</span>
<span class='curline'><a href='../S/117.html#L91'>db</a>                 91 htags/dupindex.c 			if (db != GSYMS)</span>
<span class='curline'><a href='../S/117.html#L127'>db</a>                127 htags/dupindex.c 					cache_put(db, prev, strbuf_value(tmp), strbuf_getlen(tmp) + 1);</span>
<span class='curline'><a href='../S/117.html#L139'>db</a>                139 htags/dupindex.c 					cache_put(db, prev, strbuf_value(tmp), strbuf_getlen(tmp) + 1);</span>
<span class='curline'><a href='../S/117.html#L158'>db</a>                158 htags/dupindex.c 						snprintf(path, sizeof(path), "%s/%s/%d.%s", distpath, dirs[db], count, HTML);</span>
<span class='curline'><a href='../S/117.html#L176'>db</a>                176 htags/dupindex.c 		if (db == GTAGS)</span>
<span class='curline'><a href='../S/117.html#L196'>db</a>                196 htags/dupindex.c 			cache_put(db, prev, strbuf_value(tmp), strbuf_getlen(tmp) + 1);</span>
<span class='curline'><a href='../S/117.html#L207'>db</a>                207 htags/dupindex.c 			cache_put(db, prev, strbuf_value(tmp), strbuf_getlen(tmp) + 1);</span>
<span class='curline'><a href='../S/148.html#L426'>db</a>                426 htags/src2html.c 	int db;</span>
<span class='curline'><a href='../S/148.html#L429'>db</a>                429 htags/src2html.c 		db = GTAGS;</span>
<span class='curline'><a href='../S/148.html#L431'>db</a>                431 htags/src2html.c 		db = GSYMS;</span>
<span class='curline'><a href='../S/148.html#L433'>db</a>                433 htags/src2html.c 		db = GRTAGS;</span>
<span class='curline'><a href='../S/148.html#L434'>db</a>                434 htags/src2html.c 	line = cache_get(db, name);</span>
<span class='curline'><a href='../S/148.html#L462'>db</a>                462 htags/src2html.c 				if (db == GTAGS)</span>
<span class='curline'><a href='../S/148.html#L464'>db</a>                464 htags/src2html.c 				else if (db == GRTAGS)</span>
<span class='curline'><a href='../S/148.html#L493'>db</a>                493 htags/src2html.c 			if (db == GSYMS) {</span>
<span class='curline'><a href='../S/170.html#L85'>db</a>                 85 libdb/bt_put.c 	char *dest, db[NOVFLSIZE], kb[NOVFLSIZE];</span>
<span class='curline'><a href='../S/170.html#L144'>db</a>                144 libdb/bt_put.c 			tdata.data = db;</span>
<span class='curline'><a href='../S/170.html#L146'>db</a>                146 libdb/bt_put.c 			memmove(db, &amp;pg, sizeof(pgno_t));</span>
<span class='curline'><a href='../S/170.html#L147'>db</a>                147 libdb/bt_put.c 			memmove(db + sizeof(pgno_t),</span>
<span class='curline'><a href='../S/185.html#L2308'>db</a>               2308 libdb/sqlite3.c   sqlite3 *db,          /* An open database */</span>
<span class='curline'><a href='../S/185.html#L3103'>db</a>               3103 libdb/sqlite3.c SQLITE_API int sqlite3_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L3104'>db</a>               3104 libdb/sqlite3.c SQLITE_API int sqlite3_extended_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L3327'>db</a>               3327 libdb/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L3334'>db</a>               3334 libdb/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L3341'>db</a>               3341 libdb/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L3348'>db</a>               3348 libdb/sqlite3.c   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L4238'>db</a>               4238 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L4248'>db</a>               4248 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L4258'>db</a>               4258 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L4793'>db</a>               4793 libdb/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/185.html#L4797'>db</a>               4797 libdb/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/185.html#L4811'>db</a>               4811 libdb/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/185.html#L4815'>db</a>               4815 libdb/sqlite3.c   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/185.html#L5002'>db</a>               5002 libdb/sqlite3.c SQLITE_API const char *sqlite3_db_filename(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/185.html#L5011'>db</a>               5011 libdb/sqlite3.c SQLITE_API int sqlite3_db_readonly(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/185.html#L5318'>db</a>               5318 libdb/sqlite3.c   sqlite3 *db,                /* Connection handle */</span>
<span class='curline'><a href='../S/185.html#L5364'>db</a>               5364 libdb/sqlite3.c   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/185.html#L5383'>db</a>               5383 libdb/sqlite3.c SQLITE_API int sqlite3_enable_load_extension(sqlite3 *db, int onoff);</span>
<span class='curline'><a href='../S/185.html#L5645'>db</a>               5645 libdb/sqlite3.c   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/185.html#L5651'>db</a>               5651 libdb/sqlite3.c   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/185.html#L7334'>db</a>               7334 libdb/sqlite3.c SQLITE_API int sqlite3_wal_autocheckpoint(sqlite3 *db, int N);</span>
<span class='curline'><a href='../S/185.html#L7356'>db</a>               7356 libdb/sqlite3.c SQLITE_API int sqlite3_wal_checkpoint(sqlite3 *db, const char *zDb);</span>
<span class='curline'><a href='../S/185.html#L7432'>db</a>               7432 libdb/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L7593'>db</a>               7593 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L7619'>db</a>               7619 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L8977'>db</a>               8977 libdb/sqlite3.c   sqlite3 *db,             /* Associated database connection */</span>
<span class='curline'><a href='../S/185.html#L10687'>db</a>               10687 libdb/sqlite3.c #define ENC(db) ((db)-&gt;aDb[0].pSchema-&gt;enc)</span>
<span class='curline'><a href='../S/185.html#L10747'>db</a>               10747 libdb/sqlite3.c #define OptimizationDisabled(db, mask)  (((db)-&gt;dbOptFlags&amp;(mask))!=0)</span>
<span class='curline'><a href='../S/185.html#L10748'>db</a>               10748 libdb/sqlite3.c #define OptimizationEnabled(db, mask)   (((db)-&gt;dbOptFlags&amp;(mask))==0)</span>
<span class='curline'><a href='../S/185.html#L10750'>db</a>               10750 libdb/sqlite3.c #define OptimizationDisabled(db, mask)  0</span>
<span class='curline'><a href='../S/185.html#L10751'>db</a>               10751 libdb/sqlite3.c #define OptimizationEnabled(db, mask)   1</span>
<span class='curline'><a href='../S/185.html#L11042'>db</a>               11042 libdb/sqlite3.c   sqlite3 *db;              /* Database connection associated with this table */</span>
<span class='curline'><a href='../S/185.html#L11241'>db</a>               11241 libdb/sqlite3.c   sqlite3 *db;        /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L12060'>db</a>               12060 libdb/sqlite3.c   sqlite3 *db;         /* The main database structure */</span>
<span class='curline'><a href='../S/185.html#L12308'>db</a>               12308 libdb/sqlite3.c   sqlite3 *db;         /* Optional database for lookaside.  Can be NULL */</span>
<span class='curline'><a href='../S/185.html#L12325'>db</a>               12325 libdb/sqlite3.c   sqlite3 *db;        /* The database being initialized */</span>
<span class='curline'><a href='../S/185.html#L13046'>db</a>               13046 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaToIndex(sqlite3 *db, Schema *);</span>
<span class='curline'><a href='../S/185.html#L13059'>db</a>               13059 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3ApiExit(sqlite3 *db, int);</span>
<span class='curline'><a href='../S/185.html#L13114'>db</a>               13114 libdb/sqlite3.c #  define sqlite3VtabInSync(db) 0</span>
<span class='curline'><a href='../S/185.html#L13121'>db</a>               13121 libdb/sqlite3.c SQLITE_PRIVATE    void sqlite3VtabClear(sqlite3 *db, Table*);</span>
<span class='curline'><a href='../S/185.html#L13122'>db</a>               13122 libdb/sqlite3.c SQLITE_PRIVATE    void sqlite3VtabDisconnect(sqlite3 *db, Table *p);</span>
<span class='curline'><a href='../S/185.html#L13123'>db</a>               13123 libdb/sqlite3.c SQLITE_PRIVATE    int sqlite3VtabSync(sqlite3 *db, Vdbe*);</span>
<span class='curline'><a href='../S/185.html#L13124'>db</a>               13124 libdb/sqlite3.c SQLITE_PRIVATE    int sqlite3VtabRollback(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L13125'>db</a>               13125 libdb/sqlite3.c SQLITE_PRIVATE    int sqlite3VtabCommit(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L13132'>db</a>               13132 libdb/sqlite3.c #  define sqlite3VtabInSync(db) ((db)-&gt;nVTrans&gt;0 &amp;&amp; (db)-&gt;aVTrans==0)</span>
<span class='curline'><a href='../S/185.html#L13261'>db</a>               13261 libdb/sqlite3.c SQLITE_PRIVATE   void sqlite3ConnectionUnlocked(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L13262'>db</a>               13262 libdb/sqlite3.c SQLITE_PRIVATE   void sqlite3ConnectionClosed(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L14202'>db</a>               14202 libdb/sqlite3.c   sqlite3 *db;        /* The associated database connection */</span>
<span class='curline'><a href='../S/185.html#L14337'>db</a>               14337 libdb/sqlite3.c   sqlite3 *db;            /* The database connection that owns this statement */</span>
<span class='curline'><a href='../S/185.html#L14594'>db</a>               14594 libdb/sqlite3.c   sqlite3 *db,          /* The database connection whose status is desired */</span>
<span class='curline'><a href='../S/185.html#L14601'>db</a>               14601 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L14604'>db</a>               14604 libdb/sqlite3.c       *pCurrent = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/185.html#L14605'>db</a>               14605 libdb/sqlite3.c       *pHighwater = db-&gt;lookaside.mxOut;</span>
<span class='curline'><a href='../S/185.html#L14607'>db</a>               14607 libdb/sqlite3.c         db-&gt;lookaside.mxOut = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/185.html#L14621'>db</a>               14621 libdb/sqlite3.c       *pHighwater = db-&gt;lookaside.anStat[op - SQLITE_DBSTATUS_LOOKASIDE_HIT];</span>
<span class='curline'><a href='../S/185.html#L14623'>db</a>               14623 libdb/sqlite3.c         db-&gt;lookaside.anStat[op - SQLITE_DBSTATUS_LOOKASIDE_HIT] = 0;</span>
<span class='curline'><a href='../S/185.html#L14636'>db</a>               14636 libdb/sqlite3.c       sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L14637'>db</a>               14637 libdb/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L14638'>db</a>               14638 libdb/sqlite3.c         Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L14644'>db</a>               14644 libdb/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L14659'>db</a>               14659 libdb/sqlite3.c       sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L14660'>db</a>               14660 libdb/sqlite3.c       db-&gt;pnBytesFreed = &amp;nByte;</span>
<span class='curline'><a href='../S/185.html#L14661'>db</a>               14661 libdb/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L14662'>db</a>               14662 libdb/sqlite3.c         Schema *pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/185.html#L14678'>db</a>               14678 libdb/sqlite3.c             sqlite3DeleteTrigger(db, (Trigger*)sqliteHashData(p));</span>
<span class='curline'><a href='../S/185.html#L14681'>db</a>               14681 libdb/sqlite3.c             sqlite3DeleteTable(db, (Table *)sqliteHashData(p));</span>
<span class='curline'><a href='../S/185.html#L14685'>db</a>               14685 libdb/sqlite3.c       db-&gt;pnBytesFreed = 0;</span>
<span class='curline'><a href='../S/185.html#L14686'>db</a>               14686 libdb/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L14702'>db</a>               14702 libdb/sqlite3.c       db-&gt;pnBytesFreed = &amp;nByte;</span>
<span class='curline'><a href='../S/185.html#L14703'>db</a>               14703 libdb/sqlite3.c       for(pVdbe=db-&gt;pVdbe; pVdbe; pVdbe=pVdbe-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L14704'>db</a>               14704 libdb/sqlite3.c         sqlite3VdbeClearObject(db, pVdbe);</span>
<span class='curline'><a href='../S/185.html#L14705'>db</a>               14705 libdb/sqlite3.c         sqlite3DbFree(db, pVdbe);</span>
<span class='curline'><a href='../S/185.html#L14707'>db</a>               14707 libdb/sqlite3.c       db-&gt;pnBytesFreed = 0;</span>
<span class='curline'><a href='../S/185.html#L14728'>db</a>               14728 libdb/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L14729'>db</a>               14729 libdb/sqlite3.c         if( db-&gt;aDb[i].pBt ){</span>
<span class='curline'><a href='../S/185.html#L14730'>db</a>               14730 libdb/sqlite3.c           Pager *pPager = sqlite3BtreePager(db-&gt;aDb[i].pBt);</span>
<span class='curline'><a href='../S/185.html#L14747'>db</a>               14747 libdb/sqlite3.c       *pCurrent = db-&gt;nDeferredImmCons&gt;0 || db-&gt;nDeferredCons&gt;0;</span>
<span class='curline'><a href='../S/185.html#L14755'>db</a>               14755 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L15656'>db</a>               15656 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L15660'>db</a>               15660 libdb/sqlite3.c   db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L15696'>db</a>               15696 libdb/sqlite3.c   testcase( n==(u64)db-&gt;aLimit[SQLITE_LIMIT_LENGTH]+1 );</span>
<span class='curline'><a href='../S/185.html#L15697'>db</a>               15697 libdb/sqlite3.c   testcase( n==(u64)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/185.html#L15700'>db</a>               15700 libdb/sqlite3.c   }else if( n&gt;(u64)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L15704'>db</a>               15704 libdb/sqlite3.c     z = sqlite3DbMallocRaw(db, (int)n);</span>
<span class='curline'><a href='../S/185.html#L15840'>db</a>               15840 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L20355'>db</a>               20355 libdb/sqlite3.c static int isLookaside(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/185.html#L20356'>db</a>               20356 libdb/sqlite3.c   return p&gt;=db-&gt;lookaside.pStart &amp;&amp; p&lt;db-&gt;lookaside.pEnd;</span>
<span class='curline'><a href='../S/185.html#L20370'>db</a>               20370 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3DbMallocSize(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/185.html#L20371'>db</a>               20371 libdb/sqlite3.c   if( db==0 ){</span>
<span class='curline'><a href='../S/185.html#L20376'>db</a>               20376 libdb/sqlite3.c     assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L20377'>db</a>               20377 libdb/sqlite3.c     if( isLookaside(db, p) ){</span>
<span class='curline'><a href='../S/185.html#L20378'>db</a>               20378 libdb/sqlite3.c       return db-&gt;lookaside.sz;</span>
<span class='curline'><a href='../S/185.html#L20414'>db</a>               20414 libdb/sqlite3.c static SQLITE_NOINLINE void measureAllocationSize(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/185.html#L20415'>db</a>               20415 libdb/sqlite3.c   *db-&gt;pnBytesFreed += sqlite3DbMallocSize(db,p);</span>
<span class='curline'><a href='../S/185.html#L20422'>db</a>               20422 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3DbFree(sqlite3 *db, void *p){</span>
<span class='curline'><a href='../S/185.html#L20423'>db</a>               20423 libdb/sqlite3.c   assert( db==0 || sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L20425'>db</a>               20425 libdb/sqlite3.c   if( db ){</span>
<span class='curline'><a href='../S/185.html#L20426'>db</a>               20426 libdb/sqlite3.c     if( db-&gt;pnBytesFreed ){</span>
<span class='curline'><a href='../S/185.html#L20427'>db</a>               20427 libdb/sqlite3.c       measureAllocationSize(db, p);</span>
<span class='curline'><a href='../S/185.html#L20430'>db</a>               20430 libdb/sqlite3.c     if( isLookaside(db, p) ){</span>
<span class='curline'><a href='../S/185.html#L20434'>db</a>               20434 libdb/sqlite3.c       memset(p, 0xaa, db-&gt;lookaside.sz);</span>
<span class='curline'><a href='../S/185.html#L20436'>db</a>               20436 libdb/sqlite3.c       pBuf-&gt;pNext = db-&gt;lookaside.pFree;</span>
<span class='curline'><a href='../S/185.html#L20437'>db</a>               20437 libdb/sqlite3.c       db-&gt;lookaside.pFree = pBuf;</span>
<span class='curline'><a href='../S/185.html#L20438'>db</a>               20438 libdb/sqlite3.c       db-&gt;lookaside.nOut--;</span>
<span class='curline'><a href='../S/185.html#L20444'>db</a>               20444 libdb/sqlite3.c   assert( db!=0 || sqlite3MemdebugNoType(p, MEMTYPE_LOOKASIDE) );</span>
<span class='curline'><a href='../S/185.html#L20534'>db</a>               20534 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3DbMallocZero(sqlite3 *db, u64 n){</span>
<span class='curline'><a href='../S/185.html#L20535'>db</a>               20535 libdb/sqlite3.c   void *p = sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/185.html#L20560'>db</a>               20560 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3DbMallocRaw(sqlite3 *db, u64 n){</span>
<span class='curline'><a href='../S/185.html#L20562'>db</a>               20562 libdb/sqlite3.c   assert( db==0 || sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L20563'>db</a>               20563 libdb/sqlite3.c   assert( db==0 || db-&gt;pnBytesFreed==0 );</span>
<span class='curline'><a href='../S/185.html#L20565'>db</a>               20565 libdb/sqlite3.c   if( db ){</span>
<span class='curline'><a href='../S/185.html#L20567'>db</a>               20567 libdb/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L20570'>db</a>               20570 libdb/sqlite3.c     if( db-&gt;lookaside.bEnabled ){</span>
<span class='curline'><a href='../S/185.html#L20571'>db</a>               20571 libdb/sqlite3.c       if( n&gt;db-&gt;lookaside.sz ){</span>
<span class='curline'><a href='../S/185.html#L20572'>db</a>               20572 libdb/sqlite3.c         db-&gt;lookaside.anStat[1]++;</span>
<span class='curline'><a href='../S/185.html#L20573'>db</a>               20573 libdb/sqlite3.c       }else if( (pBuf = db-&gt;lookaside.pFree)==0 ){</span>
<span class='curline'><a href='../S/185.html#L20574'>db</a>               20574 libdb/sqlite3.c         db-&gt;lookaside.anStat[2]++;</span>
<span class='curline'><a href='../S/185.html#L20576'>db</a>               20576 libdb/sqlite3.c         db-&gt;lookaside.pFree = pBuf-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L20577'>db</a>               20577 libdb/sqlite3.c         db-&gt;lookaside.nOut++;</span>
<span class='curline'><a href='../S/185.html#L20578'>db</a>               20578 libdb/sqlite3.c         db-&gt;lookaside.anStat[0]++;</span>
<span class='curline'><a href='../S/185.html#L20579'>db</a>               20579 libdb/sqlite3.c         if( db-&gt;lookaside.nOut&gt;db-&gt;lookaside.mxOut ){</span>
<span class='curline'><a href='../S/185.html#L20580'>db</a>               20580 libdb/sqlite3.c           db-&gt;lookaside.mxOut = db-&gt;lookaside.nOut;</span>
<span class='curline'><a href='../S/185.html#L20587'>db</a>               20587 libdb/sqlite3.c   if( db &amp;&amp; db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L20592'>db</a>               20592 libdb/sqlite3.c   if( !p &amp;&amp; db ){</span>
<span class='curline'><a href='../S/185.html#L20593'>db</a>               20593 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L20596'>db</a>               20596 libdb/sqlite3.c          (db &amp;&amp; db-&gt;lookaside.bEnabled) ? MEMTYPE_LOOKASIDE : MEMTYPE_HEAP);</span>
<span class='curline'><a href='../S/185.html#L20604'>db</a>               20604 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3DbRealloc(sqlite3 *db, void *p, u64 n){</span>
<span class='curline'><a href='../S/185.html#L20606'>db</a>               20606 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L20607'>db</a>               20607 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L20608'>db</a>               20608 libdb/sqlite3.c   if( db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/185.html#L20610'>db</a>               20610 libdb/sqlite3.c       return sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/185.html#L20612'>db</a>               20612 libdb/sqlite3.c     if( isLookaside(db, p) ){</span>
<span class='curline'><a href='../S/185.html#L20613'>db</a>               20613 libdb/sqlite3.c       if( n&lt;=db-&gt;lookaside.sz ){</span>
<span class='curline'><a href='../S/185.html#L20616'>db</a>               20616 libdb/sqlite3.c       pNew = sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/185.html#L20618'>db</a>               20618 libdb/sqlite3.c         memcpy(pNew, p, db-&gt;lookaside.sz);</span>
<span class='curline'><a href='../S/185.html#L20619'>db</a>               20619 libdb/sqlite3.c         sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L20627'>db</a>               20627 libdb/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L20630'>db</a>               20630 libdb/sqlite3.c             (db-&gt;lookaside.bEnabled ? MEMTYPE_LOOKASIDE : MEMTYPE_HEAP));</span>
<span class='curline'><a href='../S/185.html#L20640'>db</a>               20640 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3DbReallocOrFree(sqlite3 *db, void *p, u64 n){</span>
<span class='curline'><a href='../S/185.html#L20642'>db</a>               20642 libdb/sqlite3.c   pNew = sqlite3DbRealloc(db, p, n);</span>
<span class='curline'><a href='../S/185.html#L20644'>db</a>               20644 libdb/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L20656'>db</a>               20656 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3DbStrDup(sqlite3 *db, const char *z){</span>
<span class='curline'><a href='../S/185.html#L20664'>db</a>               20664 libdb/sqlite3.c   zNew = sqlite3DbMallocRaw(db, (int)n);</span>
<span class='curline'><a href='../S/185.html#L20670'>db</a>               20670 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3DbStrNDup(sqlite3 *db, const char *z, u64 n){</span>
<span class='curline'><a href='../S/185.html#L20676'>db</a>               20676 libdb/sqlite3.c   zNew = sqlite3DbMallocRaw(db, n+1);</span>
<span class='curline'><a href='../S/185.html#L20689'>db</a>               20689 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3SetString(char **pz, sqlite3 *db, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/185.html#L20694'>db</a>               20694 libdb/sqlite3.c   z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L20696'>db</a>               20696 libdb/sqlite3.c   sqlite3DbFree(db, *pz);</span>
<span class='curline'><a href='../S/185.html#L20703'>db</a>               20703 libdb/sqlite3.c static SQLITE_NOINLINE int apiOomError(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L20704'>db</a>               20704 libdb/sqlite3.c   db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/185.html#L20705'>db</a>               20705 libdb/sqlite3.c   sqlite3Error(db, SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/185.html#L20722'>db</a>               20722 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3ApiExit(sqlite3* db, int rc){</span>
<span class='curline'><a href='../S/185.html#L20727'>db</a>               20727 libdb/sqlite3.c   assert( !db || sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L20728'>db</a>               20728 libdb/sqlite3.c   if( db==0 ) return rc &amp; 0xff;</span>
<span class='curline'><a href='../S/185.html#L20729'>db</a>               20729 libdb/sqlite3.c   if( db-&gt;mallocFailed || rc==SQLITE_IOERR_NOMEM ){</span>
<span class='curline'><a href='../S/185.html#L20730'>db</a>               20730 libdb/sqlite3.c     return apiOomError(db);</span>
<span class='curline'><a href='../S/185.html#L20732'>db</a>               20732 libdb/sqlite3.c   return rc &amp; db-&gt;errMask;</span>
<span class='curline'><a href='../S/185.html#L21504'>db</a>               21504 libdb/sqlite3.c       zNew = sqlite3DbRealloc(p-&gt;db, zOld, p-&gt;nAlloc);</span>
<span class='curline'><a href='../S/185.html#L21581'>db</a>               21581 libdb/sqlite3.c         p-&gt;zText = sqlite3DbMallocRaw(p-&gt;db, p-&gt;nChar+1 );</span>
<span class='curline'><a href='../S/185.html#L21601'>db</a>               21601 libdb/sqlite3.c       sqlite3DbFree(p-&gt;db, p-&gt;zText);</span>
<span class='curline'><a href='../S/185.html#L21614'>db</a>               21614 libdb/sqlite3.c   p-&gt;db = 0;</span>
<span class='curline'><a href='../S/185.html#L21626'>db</a>               21626 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3VMPrintf(sqlite3 *db, const char *zFormat, va_list ap){</span>
<span class='curline'><a href='../S/185.html#L21630'>db</a>               21630 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L21632'>db</a>               21632 libdb/sqlite3.c                       db-&gt;aLimit[SQLITE_LIMIT_LENGTH]);</span>
<span class='curline'><a href='../S/185.html#L21633'>db</a>               21633 libdb/sqlite3.c   acc.db = db;</span>
<span class='curline'><a href='../S/185.html#L21637'>db</a>               21637 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L21646'>db</a>               21646 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3MPrintf(sqlite3 *db, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/185.html#L21650'>db</a>               21650 libdb/sqlite3.c   z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L21663'>db</a>               21663 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3MAppendf(sqlite3 *db, char *zStr, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/185.html#L21667'>db</a>               21667 libdb/sqlite3.c   z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L21669'>db</a>               21669 libdb/sqlite3.c   sqlite3DbFree(db, zStr);</span>
<span class='curline'><a href='../S/185.html#L22464'>db</a>               22464 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L22528'>db</a>               22528 libdb/sqlite3.c   zOut = sqlite3DbMallocRaw(pMem-&gt;db, len);</span>
<span class='curline'><a href='../S/185.html#L22577'>db</a>               22577 libdb/sqlite3.c   pMem-&gt;szMalloc = sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;z);</span>
<span class='curline'><a href='../S/185.html#L22691'>db</a>               22691 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3Utf16to8(sqlite3 *db, const void *z, int nByte, u8 enc){</span>
<span class='curline'><a href='../S/185.html#L22694'>db</a>               22694 libdb/sqlite3.c   m.db = db;</span>
<span class='curline'><a href='../S/185.html#L22697'>db</a>               22697 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L22701'>db</a>               22701 libdb/sqlite3.c   assert( (m.flags &amp; MEM_Term)!=0 || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L22702'>db</a>               22702 libdb/sqlite3.c   assert( (m.flags &amp; MEM_Str)!=0 || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L22703'>db</a>               22703 libdb/sqlite3.c   assert( m.z || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L22903'>db</a>               22903 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3Error(sqlite3 *db, int err_code){</span>
<span class='curline'><a href='../S/185.html#L22904'>db</a>               22904 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L22905'>db</a>               22905 libdb/sqlite3.c   db-&gt;errCode = err_code;</span>
<span class='curline'><a href='../S/185.html#L22906'>db</a>               22906 libdb/sqlite3.c   if( db-&gt;pErr ) sqlite3ValueSetNull(db-&gt;pErr);</span>
<span class='curline'><a href='../S/185.html#L22930'>db</a>               22930 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ErrorWithMsg(sqlite3 *db, int err_code, const char *zFormat, ...){</span>
<span class='curline'><a href='../S/185.html#L22931'>db</a>               22931 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L22932'>db</a>               22932 libdb/sqlite3.c   db-&gt;errCode = err_code;</span>
<span class='curline'><a href='../S/185.html#L22934'>db</a>               22934 libdb/sqlite3.c     sqlite3Error(db, err_code);</span>
<span class='curline'><a href='../S/185.html#L22935'>db</a>               22935 libdb/sqlite3.c   }else if( db-&gt;pErr || (db-&gt;pErr = sqlite3ValueNew(db))!=0 ){</span>
<span class='curline'><a href='../S/185.html#L22939'>db</a>               22939 libdb/sqlite3.c     z = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L22941'>db</a>               22941 libdb/sqlite3.c     sqlite3ValueSetStr(db-&gt;pErr, -1, z, SQLITE_UTF8, SQLITE_DYNAMIC);</span>
<span class='curline'><a href='../S/185.html#L22965'>db</a>               22965 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L22967'>db</a>               22967 libdb/sqlite3.c   zMsg = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L22969'>db</a>               22969 libdb/sqlite3.c   if( db-&gt;suppressErr ){</span>
<span class='curline'><a href='../S/185.html#L22970'>db</a>               22970 libdb/sqlite3.c     sqlite3DbFree(db, zMsg);</span>
<span class='curline'><a href='../S/185.html#L22973'>db</a>               22973 libdb/sqlite3.c     sqlite3DbFree(db, pParse-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L23893'>db</a>               23893 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3HexToBlob(sqlite3 *db, const char *z, int n){</span>
<span class='curline'><a href='../S/185.html#L23897'>db</a>               23897 libdb/sqlite3.c   zBlob = (char *)sqlite3DbMallocRaw(db, n/2 + 1);</span>
<span class='curline'><a href='../S/185.html#L23935'>db</a>               23935 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SafetyCheckOk(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L23937'>db</a>               23937 libdb/sqlite3.c   if( db==0 ){</span>
<span class='curline'><a href='../S/185.html#L23941'>db</a>               23941 libdb/sqlite3.c   magic = db-&gt;magic;</span>
<span class='curline'><a href='../S/185.html#L23943'>db</a>               23943 libdb/sqlite3.c     if( sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L23952'>db</a>               23952 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SafetyCheckSickOrOk(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L23954'>db</a>               23954 libdb/sqlite3.c   magic = db-&gt;magic;</span>
<span class='curline'><a href='../S/185.html#L40320'>db</a>               40320 libdb/sqlite3.c   sqlite3 *db;                   /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L40348'>db</a>               40348 libdb/sqlite3.c SQLITE_PRIVATE RowSet *sqlite3RowSetInit(sqlite3 *db, void *pSpace, unsigned int N){</span>
<span class='curline'><a href='../S/185.html#L40353'>db</a>               40353 libdb/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L40373'>db</a>               40373 libdb/sqlite3.c     sqlite3DbFree(p-&gt;db, pChunk);</span>
<span class='curline'><a href='../S/185.html#L40395'>db</a>               40395 libdb/sqlite3.c     pNew = sqlite3DbMallocRaw(p-&gt;db, sizeof(*pNew));</span>
<span class='curline'><a href='../S/185.html#L51573'>db</a>               51573 libdb/sqlite3.c   sqlite3 *db;       /* The database connection holding this btree */</span>
<span class='curline'><a href='../S/185.html#L51635'>db</a>               51635 libdb/sqlite3.c   sqlite3 *db;          /* Database connection currently using this Btree */</span>
<span class='curline'><a href='../S/185.html#L51912'>db</a>               51912 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L51915'>db</a>               51915 libdb/sqlite3.c   p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L51927'>db</a>               51927 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L51928'>db</a>               51928 libdb/sqlite3.c   assert( p-&gt;db==pBt-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L51960'>db</a>               51960 libdb/sqlite3.c   assert( p-&gt;pNext==0 || p-&gt;pNext-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L51961'>db</a>               51961 libdb/sqlite3.c   assert( p-&gt;pPrev==0 || p-&gt;pPrev-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L51969'>db</a>               51969 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L51973'>db</a>               51973 libdb/sqlite3.c   assert( (p-&gt;locked==0 &amp;&amp; p-&gt;sharable) || p-&gt;pBt-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L51995'>db</a>               51995 libdb/sqlite3.c     p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L52044'>db</a>               52044 libdb/sqlite3.c   assert( p-&gt;sharable==0 || p-&gt;locked==0 || p-&gt;db==p-&gt;pBt-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L52046'>db</a>               52046 libdb/sqlite3.c   assert( p-&gt;sharable==0 || p-&gt;locked==0 || sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L52082'>db</a>               52082 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3BtreeEnterAll(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L52085'>db</a>               52085 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L52086'>db</a>               52086 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L52087'>db</a>               52087 libdb/sqlite3.c     p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L52091'>db</a>               52091 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3BtreeLeaveAll(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L52094'>db</a>               52094 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L52095'>db</a>               52095 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L52096'>db</a>               52096 libdb/sqlite3.c     p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L52116'>db</a>               52116 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3BtreeHoldsAllMutexes(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L52118'>db</a>               52118 libdb/sqlite3.c   if( !sqlite3_mutex_held(db-&gt;mutex) ){</span>
<span class='curline'><a href='../S/185.html#L52121'>db</a>               52121 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L52123'>db</a>               52123 libdb/sqlite3.c     p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L52145'>db</a>               52145 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaMutexHeld(sqlite3 *db, int iDb, Schema *pSchema){</span>
<span class='curline'><a href='../S/185.html#L52147'>db</a>               52147 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L52148'>db</a>               52148 libdb/sqlite3.c   if( pSchema ) iDb = sqlite3SchemaToIndex(db, pSchema);</span>
<span class='curline'><a href='../S/185.html#L52149'>db</a>               52149 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L52150'>db</a>               52150 libdb/sqlite3.c   if( !sqlite3_mutex_held(db-&gt;mutex) ) return 0;</span>
<span class='curline'><a href='../S/185.html#L52152'>db</a>               52152 libdb/sqlite3.c   p = db-&gt;aDb[iDb].pBt;</span>
<span class='curline'><a href='../S/185.html#L52170'>db</a>               52170 libdb/sqlite3.c   p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L52172'>db</a>               52172 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3BtreeEnterAll(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L52174'>db</a>               52174 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L52175'>db</a>               52175 libdb/sqlite3.c     Btree *p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L52177'>db</a>               52177 libdb/sqlite3.c       p-&gt;pBt-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L52339'>db</a>               52339 libdb/sqlite3.c    || (eLockType==READ_LOCK &amp;&amp; (pBtree-&gt;db-&gt;flags &amp; SQLITE_ReadUncommitted))</span>
<span class='curline'><a href='../S/185.html#L52410'>db</a>               52410 libdb/sqlite3.c      &amp;&amp; 0==(p-&gt;pBtree-&gt;db-&gt;flags &amp; SQLITE_ReadUncommitted)</span>
<span class='curline'><a href='../S/185.html#L52431'>db</a>               52431 libdb/sqlite3.c   assert( p-&gt;db!=0 );</span>
<span class='curline'><a href='../S/185.html#L52432'>db</a>               52432 libdb/sqlite3.c   assert( !(p-&gt;db-&gt;flags&amp;SQLITE_ReadUncommitted)||eLock==WRITE_LOCK||iTab==1 );</span>
<span class='curline'><a href='../S/185.html#L52450'>db</a>               52450 libdb/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBt-&gt;pWriter-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L52467'>db</a>               52467 libdb/sqlite3.c       sqlite3ConnectionBlocked(p-&gt;db, pIter-&gt;pBtree-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L52504'>db</a>               52504 libdb/sqlite3.c   assert( p-&gt;db!=0 );</span>
<span class='curline'><a href='../S/185.html#L52510'>db</a>               52510 libdb/sqlite3.c   assert( 0==(p-&gt;db-&gt;flags&amp;SQLITE_ReadUncommitted) || eLock==WRITE_LOCK );</span>
<span class='curline'><a href='../S/185.html#L52905'>db</a>               52905 libdb/sqlite3.c       sqlite3DbFree(pCur-&gt;pKeyInfo-&gt;db, pFree);</span>
<span class='curline'><a href='../S/185.html#L52913'>db</a>               52913 libdb/sqlite3.c     sqlite3DbFree(pCur-&gt;pKeyInfo-&gt;db, pFree);</span>
<span class='curline'><a href='../S/185.html#L53956'>db</a>               53956 libdb/sqlite3.c   assert( pBt-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L53957'>db</a>               53957 libdb/sqlite3.c   assert( sqlite3_mutex_held(pBt-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L53958'>db</a>               53958 libdb/sqlite3.c   return sqlite3InvokeBusyHandler(&amp;pBt-&gt;db-&gt;busyHandler);</span>
<span class='curline'><a href='../S/185.html#L53985'>db</a>               53985 libdb/sqlite3.c   sqlite3 *db,            /* Associated database handle */</span>
<span class='curline'><a href='../S/185.html#L54007'>db</a>               54007 libdb/sqlite3.c                        || (isTempDb &amp;&amp; sqlite3TempInMemory(db))</span>
<span class='curline'><a href='../S/185.html#L54011'>db</a>               54011 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L54013'>db</a>               54013 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L54033'>db</a>               54033 libdb/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L54076'>db</a>               54076 libdb/sqlite3.c           for(iDb=db-&gt;nDb-1; iDb&gt;=0; iDb--){</span>
<span class='curline'><a href='../S/185.html#L54077'>db</a>               54077 libdb/sqlite3.c             Btree *pExisting = db-&gt;aDb[iDb].pBt;</span>
<span class='curline'><a href='../S/185.html#L54126'>db</a>               54126 libdb/sqlite3.c       sqlite3PagerSetMmapLimit(pBt-&gt;pPager, db-&gt;szMmap);</span>
<span class='curline'><a href='../S/185.html#L54133'>db</a>               54133 libdb/sqlite3.c     pBt-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L54184'>db</a>               54184 libdb/sqlite3.c           db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/185.html#L54204'>db</a>               54204 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L54205'>db</a>               54205 libdb/sqlite3.c       if( (pSib = db-&gt;aDb[i].pBt)!=0 &amp;&amp; pSib-&gt;sharable ){</span>
<span class='curline'><a href='../S/185.html#L54343'>db</a>               54343 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L54410'>db</a>               54410 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L54424'>db</a>               54424 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L54446'>db</a>               54446 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L54461'>db</a>               54461 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );  </span>
<span class='curline'><a href='../S/185.html#L54742'>db</a>               54742 libdb/sqlite3.c     if( (pBt-&gt;db-&gt;flags &amp; SQLITE_RecoveryMode)==0 &amp;&amp; nPage&gt;nPageFile ){</span>
<span class='curline'><a href='../S/185.html#L54958'>db</a>               54958 libdb/sqlite3.c     pBlock = pBt-&gt;pWriter-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L54963'>db</a>               54963 libdb/sqlite3.c         pBlock = pIter-&gt;pBtree-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L54969'>db</a>               54969 libdb/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBlock);</span>
<span class='curline'><a href='../S/185.html#L54997'>db</a>               54997 libdb/sqlite3.c         rc = sqlite3PagerBegin(pBt-&gt;pPager,wrflag&gt;1,sqlite3TempInMemory(p-&gt;db));</span>
<span class='curline'><a href='../S/185.html#L55057'>db</a>               55057 libdb/sqlite3.c     rc = sqlite3PagerOpenSavepoint(pBt-&gt;pPager, p-&gt;db-&gt;nSavepoint);</span>
<span class='curline'><a href='../S/185.html#L55547'>db</a>               55547 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L55553'>db</a>               55553 libdb/sqlite3.c   if( p-&gt;inTrans&gt;TRANS_NONE &amp;&amp; db-&gt;nVdbeRead&gt;1 ){</span>
<span class='curline'><a href='../S/185.html#L55763'>db</a>               55763 libdb/sqlite3.c   assert( iStatement&gt;p-&gt;db-&gt;nSavepoint );</span>
<span class='curline'><a href='../S/185.html#L55958'>db</a>               55958 libdb/sqlite3.c     sqlite3DbFree(pBtree-&gt;db, pCur-&gt;aOverflow);</span>
<span class='curline'><a href='../S/185.html#L56275'>db</a>               56275 libdb/sqlite3.c             pCur-&gt;pBtree-&gt;db, pCur-&gt;aOverflow, nOvfl*2*sizeof(Pgno)</span>
<span class='curline'><a href='../S/185.html#L56472'>db</a>               56472 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L56740'>db</a>               56740 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L56763'>db</a>               56763 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L56839'>db</a>               56839 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCur-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L56986'>db</a>               56986 libdb/sqlite3.c          &amp;&amp; (pIdxKey-&gt;errCode!=SQLITE_NOMEM || pCur-&gt;pBtree-&gt;db-&gt;mallocFailed)</span>
<span class='curline'><a href='../S/185.html#L59829'>db</a>               59829 libdb/sqlite3.c     sqlite3ConnectionBlocked(p-&gt;db, pBt-&gt;pCursor-&gt;pBtree-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L60638'>db</a>               60638 libdb/sqlite3.c   assert( p==0 || sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L60672'>db</a>               60672 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L60678'>db</a>               60678 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L60720'>db</a>               60720 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L60768'>db</a>               60768 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCsr-&gt;pBtree-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L60962'>db</a>               60962 libdb/sqlite3.c       pParse-&gt;db = pDb;</span>
<span class='curline'><a href='../S/185.html#L61590'>db</a>               61590 libdb/sqlite3.c   b.pSrcDb = pFrom-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L61663'>db</a>               61663 libdb/sqlite3.c        || p-&gt;szMalloc==sqlite3DbMallocSize(p-&gt;db,p-&gt;zMalloc) );</span>
<span class='curline'><a href='../S/185.html#L61709'>db</a>               61709 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L61744'>db</a>               61744 libdb/sqlite3.c        || pMem-&gt;szMalloc==sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;zMalloc) );</span>
<span class='curline'><a href='../S/185.html#L61748'>db</a>               61748 libdb/sqlite3.c       pMem-&gt;z = pMem-&gt;zMalloc = sqlite3DbReallocOrFree(pMem-&gt;db, pMem-&gt;z, n);</span>
<span class='curline'><a href='../S/185.html#L61751'>db</a>               61751 libdb/sqlite3.c       if( pMem-&gt;szMalloc&gt;0 ) sqlite3DbFree(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L61752'>db</a>               61752 libdb/sqlite3.c       pMem-&gt;zMalloc = sqlite3DbMallocRaw(pMem-&gt;db, n);</span>
<span class='curline'><a href='../S/185.html#L61760'>db</a>               61760 libdb/sqlite3.c       pMem-&gt;szMalloc = sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L61810'>db</a>               61810 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L61839'>db</a>               61839 libdb/sqlite3.c     assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L61876'>db</a>               61876 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L61904'>db</a>               61904 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L61950'>db</a>               61950 libdb/sqlite3.c     assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L61954'>db</a>               61954 libdb/sqlite3.c     t.db = pMem-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L61960'>db</a>               61960 libdb/sqlite3.c     if( pMem-&gt;szMalloc&gt;0 ) sqlite3DbFree(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L61977'>db</a>               61977 libdb/sqlite3.c   assert( p-&gt;db==0 || sqlite3_mutex_held(p-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62011'>db</a>               62011 libdb/sqlite3.c     sqlite3DbFree(p-&gt;db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L62077'>db</a>               62077 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62101'>db</a>               62101 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62126'>db</a>               62126 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62151'>db</a>               62151 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62165'>db</a>               62165 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62184'>db</a>               62184 libdb/sqlite3.c     assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62211'>db</a>               62211 libdb/sqlite3.c         assert( pMem-&gt;flags &amp; MEM_Str || pMem-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L62235'>db</a>               62235 libdb/sqlite3.c       assert( pMem-&gt;flags &amp; MEM_Str || pMem-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L62247'>db</a>               62247 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeMemInit(Mem *pMem, sqlite3 *db, u16 flags){</span>
<span class='curline'><a href='../S/185.html#L62250'>db</a>               62250 libdb/sqlite3.c   pMem-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L62335'>db</a>               62335 libdb/sqlite3.c   sqlite3 *db = pMem-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L62336'>db</a>               62336 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L62339'>db</a>               62339 libdb/sqlite3.c   pMem-&gt;zMalloc = sqlite3DbMallocRaw(db, 64);</span>
<span class='curline'><a href='../S/185.html#L62340'>db</a>               62340 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L62345'>db</a>               62345 libdb/sqlite3.c     pMem-&gt;szMalloc = sqlite3DbMallocSize(db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L62346'>db</a>               62346 libdb/sqlite3.c     pMem-&gt;u.pRowSet = sqlite3RowSetInit(db, pMem-&gt;zMalloc, pMem-&gt;szMalloc);</span>
<span class='curline'><a href='../S/185.html#L62357'>db</a>               62357 libdb/sqlite3.c   assert( p-&gt;db!=0 );</span>
<span class='curline'><a href='../S/185.html#L62363'>db</a>               62363 libdb/sqlite3.c     return n&gt;p-&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH];</span>
<span class='curline'><a href='../S/185.html#L62403'>db</a>               62403 libdb/sqlite3.c   assert( pTo-&gt;db==pFrom-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L62420'>db</a>               62420 libdb/sqlite3.c   assert( pTo-&gt;db==pFrom-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L62442'>db</a>               62442 libdb/sqlite3.c   assert( pFrom-&gt;db==0 || sqlite3_mutex_held(pFrom-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62443'>db</a>               62443 libdb/sqlite3.c   assert( pTo-&gt;db==0 || sqlite3_mutex_held(pTo-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62444'>db</a>               62444 libdb/sqlite3.c   assert( pFrom-&gt;db==0 || pTo-&gt;db==0 || pFrom-&gt;db==pTo-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L62478'>db</a>               62478 libdb/sqlite3.c   assert( pMem-&gt;db==0 || sqlite3_mutex_held(pMem-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62487'>db</a>               62487 libdb/sqlite3.c   if( pMem-&gt;db ){</span>
<span class='curline'><a href='../S/185.html#L62488'>db</a>               62488 libdb/sqlite3.c     iLimit = pMem-&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH];</span>
<span class='curline'><a href='../S/185.html#L62526'>db</a>               62526 libdb/sqlite3.c     pMem-&gt;szMalloc = sqlite3DbMallocSize(pMem-&gt;db, pMem-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L62624'>db</a>               62624 libdb/sqlite3.c   assert( pVal-&gt;db==0 || sqlite3_mutex_held(pVal-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62647'>db</a>               62647 libdb/sqlite3.c   assert(pVal-&gt;enc==(enc &amp; ~SQLITE_UTF16_ALIGNED) || pVal-&gt;db==0</span>
<span class='curline'><a href='../S/185.html#L62648'>db</a>               62648 libdb/sqlite3.c               || pVal-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L62668'>db</a>               62668 libdb/sqlite3.c   assert( pVal-&gt;db==0 || sqlite3_mutex_held(pVal-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L62683'>db</a>               62683 libdb/sqlite3.c SQLITE_PRIVATE sqlite3_value *sqlite3ValueNew(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L62684'>db</a>               62684 libdb/sqlite3.c   Mem *p = sqlite3DbMallocZero(db, sizeof(*p));</span>
<span class='curline'><a href='../S/185.html#L62687'>db</a>               62687 libdb/sqlite3.c     p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L62714'>db</a>               62714 libdb/sqlite3.c static sqlite3_value *valueNew(sqlite3 *db, struct ValueNewStat4Ctx *p){</span>
<span class='curline'><a href='../S/185.html#L62726'>db</a>               62726 libdb/sqlite3.c       pRec = (UnpackedRecord*)sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/185.html#L62731'>db</a>               62731 libdb/sqlite3.c           assert( pRec-&gt;pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/185.html#L62735'>db</a>               62735 libdb/sqlite3.c             pRec-&gt;aMem[i].db = db;</span>
<span class='curline'><a href='../S/185.html#L62738'>db</a>               62738 libdb/sqlite3.c           sqlite3DbFree(db, pRec);</span>
<span class='curline'><a href='../S/185.html#L62752'>db</a>               62752 libdb/sqlite3.c   return sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/185.html#L62766'>db</a>               62766 libdb/sqlite3.c   sqlite3 *db,                    /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L62789'>db</a>               62789 libdb/sqlite3.c     rc = valueFromExpr(db, pExpr-&gt;pLeft, enc, aff, ppVal, pCtx);</span>
<span class='curline'><a href='../S/185.html#L62810'>db</a>               62810 libdb/sqlite3.c     pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/185.html#L62815'>db</a>               62815 libdb/sqlite3.c       zVal = sqlite3MPrintf(db, "%s%s", zNeg, pExpr-&gt;u.zToken);</span>
<span class='curline'><a href='../S/185.html#L62830'>db</a>               62830 libdb/sqlite3.c     if( SQLITE_OK==sqlite3ValueFromExpr(db,pExpr-&gt;pLeft,enc,affinity,&amp;pVal) </span>
<span class='curline'><a href='../S/185.html#L62845'>db</a>               62845 libdb/sqlite3.c     pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/185.html#L62853'>db</a>               62853 libdb/sqlite3.c     pVal = valueNew(db, pCtx);</span>
<span class='curline'><a href='../S/185.html#L62858'>db</a>               62858 libdb/sqlite3.c     sqlite3VdbeMemSetStr(pVal, sqlite3HexToBlob(db, zVal, nVal), nVal/2,</span>
<span class='curline'><a href='../S/185.html#L62867'>db</a>               62867 libdb/sqlite3.c   db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L62868'>db</a>               62868 libdb/sqlite3.c   sqlite3DbFree(db, zVal);</span>
<span class='curline'><a href='../S/185.html#L62889'>db</a>               62889 libdb/sqlite3.c   sqlite3 *db,              /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L62895'>db</a>               62895 libdb/sqlite3.c   return valueFromExpr(db, pExpr, enc, affinity, ppVal, 0);</span>
<span class='curline'><a href='../S/185.html#L62917'>db</a>               62917 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L62924'>db</a>               62924 libdb/sqlite3.c   db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L62927'>db</a>               62927 libdb/sqlite3.c   aRet = sqlite3DbMallocRaw(db, nRet);</span>
<span class='curline'><a href='../S/185.html#L62935'>db</a>               62935 libdb/sqlite3.c     sqlite3DbFree(db, aRet);</span>
<span class='curline'><a href='../S/185.html#L62981'>db</a>               62981 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L62987'>db</a>               62987 libdb/sqlite3.c     pVal = valueNew(db, pAlloc);</span>
<span class='curline'><a href='../S/185.html#L62998'>db</a>               62998 libdb/sqlite3.c       pVal = valueNew(db, pAlloc);</span>
<span class='curline'><a href='../S/185.html#L63002'>db</a>               63002 libdb/sqlite3.c           sqlite3ValueApplyAffinity(pVal, affinity, ENC(db));</span>
<span class='curline'><a href='../S/185.html#L63004'>db</a>               63004 libdb/sqlite3.c         pVal-&gt;db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L63008'>db</a>               63008 libdb/sqlite3.c     rc = valueFromExpr(db, pExpr, ENC(db), affinity, &amp;pVal, pAlloc);</span>
<span class='curline'><a href='../S/185.html#L63011'>db</a>               63011 libdb/sqlite3.c   assert( pVal==0 || pVal-&gt;db==db );</span>
<span class='curline'><a href='../S/185.html#L63065'>db</a>               63065 libdb/sqlite3.c   assert( pVal==0 || pVal-&gt;db==pParse-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L63098'>db</a>               63098 libdb/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L63129'>db</a>               63129 libdb/sqlite3.c     pMem = *ppVal = sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/185.html#L63133'>db</a>               63133 libdb/sqlite3.c   pMem-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/185.html#L63147'>db</a>               63147 libdb/sqlite3.c     sqlite3 *db = aMem[0].db;</span>
<span class='curline'><a href='../S/185.html#L63149'>db</a>               63149 libdb/sqlite3.c       if( aMem[i].szMalloc ) sqlite3DbFree(db, aMem[i].zMalloc);</span>
<span class='curline'><a href='../S/185.html#L63152'>db</a>               63152 libdb/sqlite3.c     sqlite3DbFree(db, pRec);</span>
<span class='curline'><a href='../S/185.html#L63176'>db</a>               63176 libdb/sqlite3.c   sqlite3DbFree(((Mem*)v)-&gt;db, v);</span>
<span class='curline'><a href='../S/185.html#L63216'>db</a>               63216 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L63218'>db</a>               63218 libdb/sqlite3.c   p = sqlite3DbMallocZero(db, sizeof(Vdbe) );</span>
<span class='curline'><a href='../S/185.html#L63220'>db</a>               63220 libdb/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L63221'>db</a>               63221 libdb/sqlite3.c   if( db-&gt;pVdbe ){</span>
<span class='curline'><a href='../S/185.html#L63222'>db</a>               63222 libdb/sqlite3.c     db-&gt;pVdbe-&gt;pPrev = p;</span>
<span class='curline'><a href='../S/185.html#L63224'>db</a>               63224 libdb/sqlite3.c   p-&gt;pNext = db-&gt;pVdbe;</span>
<span class='curline'><a href='../S/185.html#L63226'>db</a>               63226 libdb/sqlite3.c   db-&gt;pVdbe = p;</span>
<span class='curline'><a href='../S/185.html#L63245'>db</a>               63245 libdb/sqlite3.c   p-&gt;zSql = sqlite3DbStrNDup(p-&gt;db, z, n);</span>
<span class='curline'><a href='../S/185.html#L63308'>db</a>               63308 libdb/sqlite3.c   pNew = sqlite3DbRealloc(p-&gt;db, v-&gt;aOp, nNew*sizeof(Op));</span>
<span class='curline'><a href='../S/185.html#L63310'>db</a>               63310 libdb/sqlite3.c     p-&gt;nOpAlloc = sqlite3DbMallocSize(p-&gt;db, pNew)/sizeof(Op);</span>
<span class='curline'><a href='../S/185.html#L63368'>db</a>               63368 libdb/sqlite3.c   if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/185.html#L63431'>db</a>               63431 libdb/sqlite3.c   for(j=0; j&lt;p-&gt;db-&gt;nDb; j++) sqlite3VdbeUsesBtree(p, j);</span>
<span class='curline'><a href='../S/185.html#L63469'>db</a>               63469 libdb/sqlite3.c     p-&gt;aLabel = sqlite3DbReallocOrFree(p-&gt;db, p-&gt;aLabel, </span>
<span class='curline'><a href='../S/185.html#L63558'>db</a>               63558 libdb/sqlite3.c         p-&gt;apSub = sqlite3DbReallocOrFree(v-&gt;db, p-&gt;apSub, nByte);</span>
<span class='curline'><a href='../S/185.html#L63611'>db</a>               63611 libdb/sqlite3.c   sqlite3DbFree(v-&gt;db, sIter.apSub);</span>
<span class='curline'><a href='../S/185.html#L63618'>db</a>               63618 libdb/sqlite3.c   return ( v-&gt;db-&gt;mallocFailed || hasAbort==mayAbort );</span>
<span class='curline'><a href='../S/185.html#L63707'>db</a>               63707 libdb/sqlite3.c   sqlite3DbFree(p-&gt;db, pParse-&gt;aLabel);</span>
<span class='curline'><a href='../S/185.html#L63735'>db</a>               63735 libdb/sqlite3.c   assert( aOp &amp;&amp; !p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L63784'>db</a>               63784 libdb/sqlite3.c       if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/185.html#L63854'>db</a>               63854 libdb/sqlite3.c static void freeEphemeralFunction(sqlite3 *db, FuncDef *pDef){</span>
<span class='curline'><a href='../S/185.html#L63856'>db</a>               63856 libdb/sqlite3.c     sqlite3DbFree(db, pDef);</span>
<span class='curline'><a href='../S/185.html#L63865'>db</a>               63865 libdb/sqlite3.c static void freeP4(sqlite3 *db, int p4type, void *p4){</span>
<span class='curline'><a href='../S/185.html#L63867'>db</a>               63867 libdb/sqlite3.c     assert( db );</span>
<span class='curline'><a href='../S/185.html#L63873'>db</a>               63873 libdb/sqlite3.c         sqlite3DbFree(db, p4);</span>
<span class='curline'><a href='../S/185.html#L63877'>db</a>               63877 libdb/sqlite3.c         if( db-&gt;pnBytesFreed==0 ) sqlite3KeyInfoUnref((KeyInfo*)p4);</span>
<span class='curline'><a href='../S/185.html#L63881'>db</a>               63881 libdb/sqlite3.c         if( db-&gt;pnBytesFreed==0 ) sqlite3_free(p4);</span>
<span class='curline'><a href='../S/185.html#L63885'>db</a>               63885 libdb/sqlite3.c         freeEphemeralFunction(db, (FuncDef*)p4);</span>
<span class='curline'><a href='../S/185.html#L63889'>db</a>               63889 libdb/sqlite3.c         if( db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/185.html#L63893'>db</a>               63893 libdb/sqlite3.c           if( p-&gt;szMalloc ) sqlite3DbFree(db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L63894'>db</a>               63894 libdb/sqlite3.c           sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L63899'>db</a>               63899 libdb/sqlite3.c         if( db-&gt;pnBytesFreed==0 ) sqlite3VtabUnlock((VTable *)p4);</span>
<span class='curline'><a href='../S/185.html#L63911'>db</a>               63911 libdb/sqlite3.c static void vdbeFreeOpArray(sqlite3 *db, Op *aOp, int nOp){</span>
<span class='curline'><a href='../S/185.html#L63915'>db</a>               63915 libdb/sqlite3.c       freeP4(db, pOp-&gt;p4type, pOp-&gt;p4.p);</span>
<span class='curline'><a href='../S/185.html#L63917'>db</a>               63917 libdb/sqlite3.c       sqlite3DbFree(db, pOp-&gt;zComment);</span>
<span class='curline'><a href='../S/185.html#L63921'>db</a>               63921 libdb/sqlite3.c   sqlite3DbFree(db, aOp);</span>
<span class='curline'><a href='../S/185.html#L63940'>db</a>               63940 libdb/sqlite3.c     sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L63941'>db</a>               63941 libdb/sqlite3.c     freeP4(db, pOp-&gt;p4type, pOp-&gt;p4.p);</span>
<span class='curline'><a href='../S/185.html#L63980'>db</a>               63980 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L63982'>db</a>               63982 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L63984'>db</a>               63984 libdb/sqlite3.c   if( p-&gt;aOp==0 || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L63986'>db</a>               63986 libdb/sqlite3.c       freeP4(db, n, (void*)*(char**)&amp;zP4);</span>
<span class='curline'><a href='../S/185.html#L63999'>db</a>               63999 libdb/sqlite3.c   freeP4(db, pOp-&gt;p4type, pOp-&gt;p4.p);</span>
<span class='curline'><a href='../S/185.html#L64016'>db</a>               64016 libdb/sqlite3.c     assert( ((VTable *)zP4)-&gt;db==p-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L64022'>db</a>               64022 libdb/sqlite3.c     pOp-&gt;p4.z = sqlite3DbStrNDup(p-&gt;db, zP4, n);</span>
<span class='curline'><a href='../S/185.html#L64048'>db</a>               64048 libdb/sqlite3.c   assert( p-&gt;aOp==0 || p-&gt;aOp[p-&gt;nOp-1].zComment==0 || p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L64051'>db</a>               64051 libdb/sqlite3.c     sqlite3DbFree(p-&gt;db, p-&gt;aOp[p-&gt;nOp-1].zComment);</span>
<span class='curline'><a href='../S/185.html#L64052'>db</a>               64052 libdb/sqlite3.c     p-&gt;aOp[p-&gt;nOp-1].zComment = sqlite3VMPrintf(p-&gt;db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L64104'>db</a>               64104 libdb/sqlite3.c   assert( (addr&gt;=0 &amp;&amp; addr&lt;p-&gt;nOp) || p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L64105'>db</a>               64105 libdb/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L64322'>db</a>               64322 libdb/sqlite3.c   assert( i&gt;=0 &amp;&amp; i&lt;p-&gt;db-&gt;nDb &amp;&amp; i&lt;(int)sizeof(yDbMask)*8 );</span>
<span class='curline'><a href='../S/185.html#L64325'>db</a>               64325 libdb/sqlite3.c   if( i!=1 &amp;&amp; sqlite3BtreeSharable(p-&gt;db-&gt;aDb[i].pBt) ){</span>
<span class='curline'><a href='../S/185.html#L64354'>db</a>               64354 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L64358'>db</a>               64358 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L64359'>db</a>               64359 libdb/sqlite3.c   aDb = db-&gt;aDb;</span>
<span class='curline'><a href='../S/185.html#L64360'>db</a>               64360 libdb/sqlite3.c   nDb = db-&gt;nDb;</span>
<span class='curline'><a href='../S/185.html#L64375'>db</a>               64375 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L64379'>db</a>               64379 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L64380'>db</a>               64380 libdb/sqlite3.c   aDb = db-&gt;aDb;</span>
<span class='curline'><a href='../S/185.html#L64381'>db</a>               64381 libdb/sqlite3.c   nDb = db-&gt;nDb;</span>
<span class='curline'><a href='../S/185.html#L64423'>db</a>               64423 libdb/sqlite3.c     sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L64424'>db</a>               64424 libdb/sqlite3.c     u8 malloc_failed = db-&gt;mallocFailed;</span>
<span class='curline'><a href='../S/185.html#L64425'>db</a>               64425 libdb/sqlite3.c     if( db-&gt;pnBytesFreed ){</span>
<span class='curline'><a href='../S/185.html#L64427'>db</a>               64427 libdb/sqlite3.c         if( p-&gt;szMalloc ) sqlite3DbFree(db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L64432'>db</a>               64432 libdb/sqlite3.c       assert( (&amp;p[1])==pEnd || p[0].db==p[1].db );</span>
<span class='curline'><a href='../S/185.html#L64454'>db</a>               64454 libdb/sqlite3.c         sqlite3DbFree(db, p-&gt;zMalloc);</span>
<span class='curline'><a href='../S/185.html#L64460'>db</a>               64460 libdb/sqlite3.c     db-&gt;mallocFailed = malloc_failed;</span>
<span class='curline'><a href='../S/185.html#L64476'>db</a>               64476 libdb/sqlite3.c   sqlite3DbFree(p-&gt;v-&gt;db, p);</span>
<span class='curline'><a href='../S/185.html#L64502'>db</a>               64502 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;                 /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L64521'>db</a>               64521 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L64557'>db</a>               64557 libdb/sqlite3.c   }else if( db-&gt;u1.isInterrupted ){</span>
<span class='curline'><a href='../S/185.html#L64560'>db</a>               64560 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3ErrStr(p-&gt;rc));</span>
<span class='curline'><a href='../S/185.html#L64623'>db</a>               64623 libdb/sqlite3.c       assert( p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L64639'>db</a>               64639 libdb/sqlite3.c         assert( p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L64650'>db</a>               64650 libdb/sqlite3.c         assert( p-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L64779'>db</a>               64779 libdb/sqlite3.c     assert( p-&gt;aMem[i].db==p-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L64821'>db</a>               64821 libdb/sqlite3.c   sqlite3 *db;                   /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L64837'>db</a>               64837 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L64838'>db</a>               64838 libdb/sqlite3.c   assert( db-&gt;mallocFailed==0 );</span>
<span class='curline'><a href='../S/185.html#L64893'>db</a>               64893 libdb/sqlite3.c       p-&gt;pFree = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/185.html#L64897'>db</a>               64897 libdb/sqlite3.c   }while( nByte &amp;&amp; !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L64905'>db</a>               64905 libdb/sqlite3.c       p-&gt;aVar[n].db = db;</span>
<span class='curline'><a href='../S/185.html#L64918'>db</a>               64918 libdb/sqlite3.c       p-&gt;aMem[n].db = db;</span>
<span class='curline'><a href='../S/185.html#L64933'>db</a>               64933 libdb/sqlite3.c   sqlite3VdbeSorterClose(p-&gt;db, pCx);</span>
<span class='curline'><a href='../S/185.html#L64967'>db</a>               64967 libdb/sqlite3.c   v-&gt;db-&gt;lastRowid = pFrame-&gt;lastRowid;</span>
<span class='curline'><a href='../S/185.html#L65018'>db</a>               65018 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65030'>db</a>               65030 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L65044'>db</a>               65044 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65047'>db</a>               65047 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;aColName);</span>
<span class='curline'><a href='../S/185.html#L65050'>db</a>               65050 libdb/sqlite3.c   p-&gt;aColName = pColName = (Mem*)sqlite3DbMallocZero(db, sizeof(Mem)*n );</span>
<span class='curline'><a href='../S/185.html#L65054'>db</a>               65054 libdb/sqlite3.c     pColName-&gt;db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65080'>db</a>               65080 libdb/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L65097'>db</a>               65097 libdb/sqlite3.c static int vdbeCommit(sqlite3 *db, Vdbe *p){</span>
<span class='curline'><a href='../S/185.html#L65116'>db</a>               65116 libdb/sqlite3.c   rc = sqlite3VtabSync(db, p);</span>
<span class='curline'><a href='../S/185.html#L65124'>db</a>               65124 libdb/sqlite3.c   for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/185.html#L65125'>db</a>               65125 libdb/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65139'>db</a>               65139 libdb/sqlite3.c   if( needXcommit &amp;&amp; db-&gt;xCommitCallback ){</span>
<span class='curline'><a href='../S/185.html#L65140'>db</a>               65140 libdb/sqlite3.c     rc = db-&gt;xCommitCallback(db-&gt;pCommitArg);</span>
<span class='curline'><a href='../S/185.html#L65155'>db</a>               65155 libdb/sqlite3.c   if( 0==sqlite3Strlen30(sqlite3BtreeGetFilename(db-&gt;aDb[0].pBt))</span>
<span class='curline'><a href='../S/185.html#L65158'>db</a>               65158 libdb/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L65159'>db</a>               65159 libdb/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65170'>db</a>               65170 libdb/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L65171'>db</a>               65171 libdb/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65177'>db</a>               65177 libdb/sqlite3.c       sqlite3VtabCommit(db);</span>
<span class='curline'><a href='../S/185.html#L65187'>db</a>               65187 libdb/sqlite3.c     sqlite3_vfs *pVfs = db-&gt;pVfs;</span>
<span class='curline'><a href='../S/185.html#L65190'>db</a>               65190 libdb/sqlite3.c     char const *zMainFile = sqlite3BtreeGetFilename(db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/185.html#L65199'>db</a>               65199 libdb/sqlite3.c     zMaster = sqlite3MPrintf(db, "%s-mjXXXXXX9XXz", zMainFile);</span>
<span class='curline'><a href='../S/185.html#L65230'>db</a>               65230 libdb/sqlite3.c       sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/185.html#L65240'>db</a>               65240 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L65241'>db</a>               65241 libdb/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65256'>db</a>               65256 libdb/sqlite3.c           sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/185.html#L65271'>db</a>               65271 libdb/sqlite3.c       sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/185.html#L65285'>db</a>               65285 libdb/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/185.html#L65286'>db</a>               65286 libdb/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65294'>db</a>               65294 libdb/sqlite3.c       sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/185.html#L65303'>db</a>               65303 libdb/sqlite3.c     sqlite3DbFree(db, zMaster);</span>
<span class='curline'><a href='../S/185.html#L65318'>db</a>               65318 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/185.html#L65319'>db</a>               65319 libdb/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65327'>db</a>               65327 libdb/sqlite3.c     sqlite3VtabCommit(db);</span>
<span class='curline'><a href='../S/185.html#L65344'>db</a>               65344 libdb/sqlite3.c static void checkActiveVdbeCnt(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L65349'>db</a>               65349 libdb/sqlite3.c   p = db-&gt;pVdbe;</span>
<span class='curline'><a href='../S/185.html#L65358'>db</a>               65358 libdb/sqlite3.c   assert( cnt==db-&gt;nVdbeActive );</span>
<span class='curline'><a href='../S/185.html#L65359'>db</a>               65359 libdb/sqlite3.c   assert( nWrite==db-&gt;nVdbeWrite );</span>
<span class='curline'><a href='../S/185.html#L65360'>db</a>               65360 libdb/sqlite3.c   assert( nRead==db-&gt;nVdbeRead );</span>
<span class='curline'><a href='../S/185.html#L65377'>db</a>               65377 libdb/sqlite3.c   sqlite3 *const db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65385'>db</a>               65385 libdb/sqlite3.c   if( db-&gt;nStatement &amp;&amp; p-&gt;iStatement ){</span>
<span class='curline'><a href='../S/185.html#L65390'>db</a>               65390 libdb/sqlite3.c     assert( db-&gt;nStatement&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L65391'>db</a>               65391 libdb/sqlite3.c     assert( p-&gt;iStatement==(db-&gt;nStatement+db-&gt;nSavepoint) );</span>
<span class='curline'><a href='../S/185.html#L65393'>db</a>               65393 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){ </span>
<span class='curline'><a href='../S/185.html#L65395'>db</a>               65395 libdb/sqlite3.c       Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L65408'>db</a>               65408 libdb/sqlite3.c     db-&gt;nStatement--;</span>
<span class='curline'><a href='../S/185.html#L65413'>db</a>               65413 libdb/sqlite3.c         rc = sqlite3VtabSavepoint(db, SAVEPOINT_ROLLBACK, iSavepoint);</span>
<span class='curline'><a href='../S/185.html#L65416'>db</a>               65416 libdb/sqlite3.c         rc = sqlite3VtabSavepoint(db, SAVEPOINT_RELEASE, iSavepoint);</span>
<span class='curline'><a href='../S/185.html#L65424'>db</a>               65424 libdb/sqlite3.c       db-&gt;nDeferredCons = p-&gt;nStmtDefCons;</span>
<span class='curline'><a href='../S/185.html#L65425'>db</a>               65425 libdb/sqlite3.c       db-&gt;nDeferredImmCons = p-&gt;nStmtDefImmCons;</span>
<span class='curline'><a href='../S/185.html#L65443'>db</a>               65443 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65444'>db</a>               65444 libdb/sqlite3.c   if( (deferred &amp;&amp; (db-&gt;nDeferredCons+db-&gt;nDeferredImmCons)&gt;0) </span>
<span class='curline'><a href='../S/185.html#L65449'>db</a>               65449 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "FOREIGN KEY constraint failed");</span>
<span class='curline'><a href='../S/185.html#L65471'>db</a>               65471 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65489'>db</a>               65489 libdb/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L65497'>db</a>               65497 libdb/sqlite3.c   checkActiveVdbeCnt(db);</span>
<span class='curline'><a href='../S/185.html#L65533'>db</a>               65533 libdb/sqlite3.c           sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/185.html#L65534'>db</a>               65534 libdb/sqlite3.c           sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/185.html#L65535'>db</a>               65535 libdb/sqlite3.c           db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L65551'>db</a>               65551 libdb/sqlite3.c     if( !sqlite3VtabInSync(db) </span>
<span class='curline'><a href='../S/185.html#L65552'>db</a>               65552 libdb/sqlite3.c      &amp;&amp; db-&gt;autoCommit </span>
<span class='curline'><a href='../S/185.html#L65553'>db</a>               65553 libdb/sqlite3.c      &amp;&amp; db-&gt;nVdbeWrite==(p-&gt;readOnly==0) </span>
<span class='curline'><a href='../S/185.html#L65568'>db</a>               65568 libdb/sqlite3.c           rc = vdbeCommit(db, p);</span>
<span class='curline'><a href='../S/185.html#L65575'>db</a>               65575 libdb/sqlite3.c           sqlite3RollbackAll(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L65577'>db</a>               65577 libdb/sqlite3.c           db-&gt;nDeferredCons = 0;</span>
<span class='curline'><a href='../S/185.html#L65578'>db</a>               65578 libdb/sqlite3.c           db-&gt;nDeferredImmCons = 0;</span>
<span class='curline'><a href='../S/185.html#L65579'>db</a>               65579 libdb/sqlite3.c           db-&gt;flags &amp;= ~SQLITE_DeferFKs;</span>
<span class='curline'><a href='../S/185.html#L65580'>db</a>               65580 libdb/sqlite3.c           sqlite3CommitInternalChanges(db);</span>
<span class='curline'><a href='../S/185.html#L65583'>db</a>               65583 libdb/sqlite3.c         sqlite3RollbackAll(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L65585'>db</a>               65585 libdb/sqlite3.c       db-&gt;nStatement = 0;</span>
<span class='curline'><a href='../S/185.html#L65592'>db</a>               65592 libdb/sqlite3.c         sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/185.html#L65593'>db</a>               65593 libdb/sqlite3.c         sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/185.html#L65594'>db</a>               65594 libdb/sqlite3.c         db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L65609'>db</a>               65609 libdb/sqlite3.c           sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L65612'>db</a>               65612 libdb/sqlite3.c         sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/185.html#L65613'>db</a>               65613 libdb/sqlite3.c         sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/185.html#L65614'>db</a>               65614 libdb/sqlite3.c         db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L65623'>db</a>               65623 libdb/sqlite3.c         sqlite3VdbeSetChanges(db, p-&gt;nChange);</span>
<span class='curline'><a href='../S/185.html#L65625'>db</a>               65625 libdb/sqlite3.c         sqlite3VdbeSetChanges(db, 0);</span>
<span class='curline'><a href='../S/185.html#L65636'>db</a>               65636 libdb/sqlite3.c     db-&gt;nVdbeActive--;</span>
<span class='curline'><a href='../S/185.html#L65637'>db</a>               65637 libdb/sqlite3.c     if( !p-&gt;readOnly ) db-&gt;nVdbeWrite--;</span>
<span class='curline'><a href='../S/185.html#L65638'>db</a>               65638 libdb/sqlite3.c     if( p-&gt;bIsReader ) db-&gt;nVdbeRead--;</span>
<span class='curline'><a href='../S/185.html#L65639'>db</a>               65639 libdb/sqlite3.c     assert( db-&gt;nVdbeActive&gt;=db-&gt;nVdbeRead );</span>
<span class='curline'><a href='../S/185.html#L65640'>db</a>               65640 libdb/sqlite3.c     assert( db-&gt;nVdbeRead&gt;=db-&gt;nVdbeWrite );</span>
<span class='curline'><a href='../S/185.html#L65641'>db</a>               65641 libdb/sqlite3.c     assert( db-&gt;nVdbeWrite&gt;=0 );</span>
<span class='curline'><a href='../S/185.html#L65644'>db</a>               65644 libdb/sqlite3.c   checkActiveVdbeCnt(db);</span>
<span class='curline'><a href='../S/185.html#L65645'>db</a>               65645 libdb/sqlite3.c   if( p-&gt;db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L65653'>db</a>               65653 libdb/sqlite3.c   if( db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L65654'>db</a>               65654 libdb/sqlite3.c     sqlite3ConnectionUnlocked(db);</span>
<span class='curline'><a href='../S/185.html#L65657'>db</a>               65657 libdb/sqlite3.c   assert( db-&gt;nVdbeActive&gt;0 || db-&gt;autoCommit==0 || db-&gt;nStatement==0 );</span>
<span class='curline'><a href='../S/185.html#L65679'>db</a>               65679 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65682'>db</a>               65682 libdb/sqlite3.c     u8 mallocFailed = db-&gt;mallocFailed;</span>
<span class='curline'><a href='../S/185.html#L65684'>db</a>               65684 libdb/sqlite3.c     if( db-&gt;pErr==0 ) db-&gt;pErr = sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/185.html#L65685'>db</a>               65685 libdb/sqlite3.c     sqlite3ValueSetStr(db-&gt;pErr, -1, p-&gt;zErrMsg, SQLITE_UTF8, SQLITE_TRANSIENT);</span>
<span class='curline'><a href='../S/185.html#L65687'>db</a>               65687 libdb/sqlite3.c     db-&gt;mallocFailed = mallocFailed;</span>
<span class='curline'><a href='../S/185.html#L65688'>db</a>               65688 libdb/sqlite3.c     db-&gt;errCode = rc;</span>
<span class='curline'><a href='../S/185.html#L65690'>db</a>               65690 libdb/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/185.html#L65703'>db</a>               65703 libdb/sqlite3.c     assert( v-&gt;db-&gt;init.busy==0 );</span>
<span class='curline'><a href='../S/185.html#L65706'>db</a>               65706 libdb/sqlite3.c           sqlite3GlobalConfig.pSqllogArg, v-&gt;db, zExpanded, 1</span>
<span class='curline'><a href='../S/185.html#L65708'>db</a>               65708 libdb/sqlite3.c       sqlite3DbFree(v-&gt;db, zExpanded);</span>
<span class='curline'><a href='../S/185.html#L65728'>db</a>               65728 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L65729'>db</a>               65729 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65745'>db</a>               65745 libdb/sqlite3.c     sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L65753'>db</a>               65753 libdb/sqlite3.c     sqlite3ErrorWithMsg(db, p-&gt;rc, p-&gt;zErrMsg ? "%s" : 0, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L65754'>db</a>               65754 libdb/sqlite3.c     sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L65800'>db</a>               65800 libdb/sqlite3.c   return p-&gt;rc &amp; db-&gt;errMask;</span>
<span class='curline'><a href='../S/185.html#L65811'>db</a>               65811 libdb/sqlite3.c     assert( (rc &amp; p-&gt;db-&gt;errMask)==rc );</span>
<span class='curline'><a href='../S/185.html#L65845'>db</a>               65845 libdb/sqlite3.c       sqlite3DbFree(pVdbe-&gt;db, pAux);</span>
<span class='curline'><a href='../S/185.html#L65860'>db</a>               65860 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeClearObject(sqlite3 *db, Vdbe *p){</span>
<span class='curline'><a href='../S/185.html#L65863'>db</a>               65863 libdb/sqlite3.c   assert( p-&gt;db==0 || p-&gt;db==db );</span>
<span class='curline'><a href='../S/185.html#L65868'>db</a>               65868 libdb/sqlite3.c     vdbeFreeOpArray(db, pSub-&gt;aOp, pSub-&gt;nOp);</span>
<span class='curline'><a href='../S/185.html#L65869'>db</a>               65869 libdb/sqlite3.c     sqlite3DbFree(db, pSub);</span>
<span class='curline'><a href='../S/185.html#L65871'>db</a>               65871 libdb/sqlite3.c   for(i=p-&gt;nzVar-1; i&gt;=0; i--) sqlite3DbFree(db, p-&gt;azVar[i]);</span>
<span class='curline'><a href='../S/185.html#L65872'>db</a>               65872 libdb/sqlite3.c   vdbeFreeOpArray(db, p-&gt;aOp, p-&gt;nOp);</span>
<span class='curline'><a href='../S/185.html#L65873'>db</a>               65873 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;aColName);</span>
<span class='curline'><a href='../S/185.html#L65874'>db</a>               65874 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;zSql);</span>
<span class='curline'><a href='../S/185.html#L65875'>db</a>               65875 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;pFree);</span>
<span class='curline'><a href='../S/185.html#L65882'>db</a>               65882 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L65885'>db</a>               65885 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L65886'>db</a>               65886 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L65887'>db</a>               65887 libdb/sqlite3.c   sqlite3VdbeClearObject(db, p);</span>
<span class='curline'><a href='../S/185.html#L65891'>db</a>               65891 libdb/sqlite3.c     assert( db-&gt;pVdbe==p );</span>
<span class='curline'><a href='../S/185.html#L65892'>db</a>               65892 libdb/sqlite3.c     db-&gt;pVdbe = p-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L65898'>db</a>               65898 libdb/sqlite3.c   p-&gt;db = 0;</span>
<span class='curline'><a href='../S/185.html#L65899'>db</a>               65899 libdb/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L66052'>db</a>               66052 libdb/sqlite3.c   assert( pMem-&gt;db-&gt;mallocFailed || flags&amp;(MEM_Str|MEM_Blob) );</span>
<span class='curline'><a href='../S/185.html#L66320'>db</a>               66320 libdb/sqlite3.c     p = (UnpackedRecord *)sqlite3DbMallocRaw(pKeyInfo-&gt;db, nByte);</span>
<span class='curline'><a href='../S/185.html#L66363'>db</a>               66363 libdb/sqlite3.c     pMem-&gt;db = pKeyInfo-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L66401'>db</a>               66401 libdb/sqlite3.c   if( pKeyInfo-&gt;db==0 ) return 1;</span>
<span class='curline'><a href='../S/185.html#L66403'>db</a>               66403 libdb/sqlite3.c   mem1.db = pKeyInfo-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L66473'>db</a>               66473 libdb/sqlite3.c   if( pKeyInfo-&gt;db-&gt;mallocFailed ) return 1;</span>
<span class='curline'><a href='../S/185.html#L66500'>db</a>               66500 libdb/sqlite3.c     sqlite3VdbeMemInit(&amp;c1, pMem1-&gt;db, MEM_Null);</span>
<span class='curline'><a href='../S/185.html#L66501'>db</a>               66501 libdb/sqlite3.c     sqlite3VdbeMemInit(&amp;c2, pMem1-&gt;db, MEM_Null);</span>
<span class='curline'><a href='../S/185.html#L66790'>db</a>               66790 libdb/sqlite3.c           mem1.db = pKeyInfo-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L66856'>db</a>               66856 libdb/sqlite3.c        || pKeyInfo-&gt;db-&gt;mallocFailed</span>
<span class='curline'><a href='../S/185.html#L67016'>db</a>               67016 libdb/sqlite3.c        || pPKey2-&gt;pKeyInfo-&gt;db-&gt;mallocFailed</span>
<span class='curline'><a href='../S/185.html#L67072'>db</a>               67072 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VdbeIdxRowid(sqlite3 *db, BtCursor *pCur, i64 *rowid){</span>
<span class='curline'><a href='../S/185.html#L67091'>db</a>               67091 libdb/sqlite3.c   sqlite3VdbeMemInit(&amp;m, db, 0);</span>
<span class='curline'><a href='../S/185.html#L67151'>db</a>               67151 libdb/sqlite3.c   sqlite3 *db,                     /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L67170'>db</a>               67170 libdb/sqlite3.c   sqlite3VdbeMemInit(&amp;m, db, 0);</span>
<span class='curline'><a href='../S/185.html#L67184'>db</a>               67184 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeSetChanges(sqlite3 *db, int nChange){</span>
<span class='curline'><a href='../S/185.html#L67185'>db</a>               67185 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67186'>db</a>               67186 libdb/sqlite3.c   db-&gt;nChange = nChange;</span>
<span class='curline'><a href='../S/185.html#L67187'>db</a>               67187 libdb/sqlite3.c   db-&gt;nTotalChange += nChange;</span>
<span class='curline'><a href='../S/185.html#L67208'>db</a>               67208 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ExpirePreparedStatements(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L67210'>db</a>               67210 libdb/sqlite3.c   for(p = db-&gt;pVdbe; p; p=p-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L67219'>db</a>               67219 libdb/sqlite3.c   return v-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L67235'>db</a>               67235 libdb/sqlite3.c       sqlite3_value *pRet = sqlite3ValueNew(v-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L67267'>db</a>               67267 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L67268'>db</a>               67268 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L67269'>db</a>               67269 libdb/sqlite3.c   p-&gt;zErrMsg = sqlite3DbStrDup(db, pVtab-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L67314'>db</a>               67314 libdb/sqlite3.c   if( p-&gt;db==0 ){</span>
<span class='curline'><a href='../S/185.html#L67347'>db</a>               67347 libdb/sqlite3.c     sqlite3 *db = v-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L67349'>db</a>               67349 libdb/sqlite3.c     sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L67351'>db</a>               67351 libdb/sqlite3.c     rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L67352'>db</a>               67352 libdb/sqlite3.c     sqlite3LeaveMutexAndCloseZombie(db);</span>
<span class='curline'><a href='../S/185.html#L67371'>db</a>               67371 libdb/sqlite3.c     sqlite3_mutex_enter(v-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L67374'>db</a>               67374 libdb/sqlite3.c     assert( (rc &amp; (v-&gt;db-&gt;errMask))==rc );</span>
<span class='curline'><a href='../S/185.html#L67375'>db</a>               67375 libdb/sqlite3.c     rc = sqlite3ApiExit(v-&gt;db, rc);</span>
<span class='curline'><a href='../S/185.html#L67376'>db</a>               67376 libdb/sqlite3.c     sqlite3_mutex_leave(v-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L67389'>db</a>               67389 libdb/sqlite3.c   sqlite3_mutex *mutex = ((Vdbe*)pStmt)-&gt;db-&gt;mutex;</span>
<span class='curline'><a href='../S/185.html#L67530'>db</a>               67530 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67539'>db</a>               67539 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67548'>db</a>               67548 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67552'>db</a>               67552 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67559'>db</a>               67559 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67566'>db</a>               67566 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67570'>db</a>               67570 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67574'>db</a>               67574 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67583'>db</a>               67583 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67593'>db</a>               67593 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67609'>db</a>               67609 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67618'>db</a>               67618 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67627'>db</a>               67627 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67632'>db</a>               67632 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67636'>db</a>               67636 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67650'>db</a>               67650 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67659'>db</a>               67659 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67663'>db</a>               67663 libdb/sqlite3.c   pCtx-&gt;pOut-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L67670'>db</a>               67670 libdb/sqlite3.c static int doWalCallbacks(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L67674'>db</a>               67674 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L67675'>db</a>               67675 libdb/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L67678'>db</a>               67678 libdb/sqlite3.c       if( db-&gt;xWalCallback &amp;&amp; nEntry&gt;0 &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/185.html#L67679'>db</a>               67679 libdb/sqlite3.c         rc = db-&gt;xWalCallback(db-&gt;pWalArg, db, db-&gt;aDb[i].zName, nEntry);</span>
<span class='curline'><a href='../S/185.html#L67697'>db</a>               67697 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L67730'>db</a>               67730 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L67731'>db</a>               67731 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L67746'>db</a>               67746 libdb/sqlite3.c     if( db-&gt;nVdbeActive==0 ){</span>
<span class='curline'><a href='../S/185.html#L67747'>db</a>               67747 libdb/sqlite3.c       db-&gt;u1.isInterrupted = 0;</span>
<span class='curline'><a href='../S/185.html#L67750'>db</a>               67750 libdb/sqlite3.c     assert( db-&gt;nVdbeWrite&gt;0 || db-&gt;autoCommit==0 </span>
<span class='curline'><a href='../S/185.html#L67751'>db</a>               67751 libdb/sqlite3.c         || (db-&gt;nDeferredCons==0 &amp;&amp; db-&gt;nDeferredImmCons==0)</span>
<span class='curline'><a href='../S/185.html#L67755'>db</a>               67755 libdb/sqlite3.c     if( db-&gt;xProfile &amp;&amp; !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L67756'>db</a>               67756 libdb/sqlite3.c       sqlite3OsCurrentTimeInt64(db-&gt;pVfs, &amp;p-&gt;startTime);</span>
<span class='curline'><a href='../S/185.html#L67760'>db</a>               67760 libdb/sqlite3.c     db-&gt;nVdbeActive++;</span>
<span class='curline'><a href='../S/185.html#L67761'>db</a>               67761 libdb/sqlite3.c     if( p-&gt;readOnly==0 ) db-&gt;nVdbeWrite++;</span>
<span class='curline'><a href='../S/185.html#L67762'>db</a>               67762 libdb/sqlite3.c     if( p-&gt;bIsReader ) db-&gt;nVdbeRead++;</span>
<span class='curline'><a href='../S/185.html#L67771'>db</a>               67771 libdb/sqlite3.c     db-&gt;nVdbeExec++;</span>
<span class='curline'><a href='../S/185.html#L67773'>db</a>               67773 libdb/sqlite3.c     db-&gt;nVdbeExec--;</span>
<span class='curline'><a href='../S/185.html#L67779'>db</a>               67779 libdb/sqlite3.c   if( rc!=SQLITE_ROW &amp;&amp; db-&gt;xProfile &amp;&amp; !db-&gt;init.busy &amp;&amp; p-&gt;zSql ){</span>
<span class='curline'><a href='../S/185.html#L67781'>db</a>               67781 libdb/sqlite3.c     sqlite3OsCurrentTimeInt64(db-&gt;pVfs, &amp;iNow);</span>
<span class='curline'><a href='../S/185.html#L67782'>db</a>               67782 libdb/sqlite3.c     db-&gt;xProfile(db-&gt;pProfileArg, p-&gt;zSql, (iNow - p-&gt;startTime)*1000000);</span>
<span class='curline'><a href='../S/185.html#L67788'>db</a>               67788 libdb/sqlite3.c     p-&gt;rc = doWalCallbacks(db);</span>
<span class='curline'><a href='../S/185.html#L67794'>db</a>               67794 libdb/sqlite3.c   db-&gt;errCode = rc;</span>
<span class='curline'><a href='../S/185.html#L67795'>db</a>               67795 libdb/sqlite3.c   if( SQLITE_NOMEM==sqlite3ApiExit(p-&gt;db, p-&gt;rc) ){</span>
<span class='curline'><a href='../S/185.html#L67817'>db</a>               67817 libdb/sqlite3.c   return (rc&amp;db-&gt;errMask);</span>
<span class='curline'><a href='../S/185.html#L67830'>db</a>               67830 libdb/sqlite3.c   sqlite3 *db;             /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L67835'>db</a>               67835 libdb/sqlite3.c   db = v-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L67836'>db</a>               67836 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L67856'>db</a>               67856 libdb/sqlite3.c     const char *zErr = (const char *)sqlite3_value_text(db-&gt;pErr); </span>
<span class='curline'><a href='../S/185.html#L67857'>db</a>               67857 libdb/sqlite3.c     assert( zErr!=0 || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L67858'>db</a>               67858 libdb/sqlite3.c     sqlite3DbFree(db, v-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L67859'>db</a>               67859 libdb/sqlite3.c     if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L67860'>db</a>               67860 libdb/sqlite3.c       v-&gt;zErrMsg = sqlite3DbStrDup(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L67867'>db</a>               67867 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L67868'>db</a>               67868 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L67894'>db</a>               67894 libdb/sqlite3.c   return p-&gt;pOut-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L67904'>db</a>               67904 libdb/sqlite3.c     rc = sqlite3OsCurrentTimeInt64(p-&gt;pOut-&gt;db-&gt;pVfs, &amp;v-&gt;iCurrentTime);</span>
<span class='curline'><a href='../S/185.html#L67960'>db</a>               67960 libdb/sqlite3.c   assert( sqlite3_mutex_held(p-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67976'>db</a>               67976 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L67998'>db</a>               67998 libdb/sqlite3.c   assert( sqlite3_mutex_held(pCtx-&gt;pOut-&gt;db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L68005'>db</a>               68005 libdb/sqlite3.c     pAuxData = sqlite3DbMallocZero(pVdbe-&gt;db, sizeof(AuxData));</span>
<span class='curline'><a href='../S/185.html#L68111'>db</a>               68111 libdb/sqlite3.c     sqlite3_mutex_enter(pVm-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68114'>db</a>               68114 libdb/sqlite3.c     if( pVm &amp;&amp; ALWAYS(pVm-&gt;db) ){</span>
<span class='curline'><a href='../S/185.html#L68115'>db</a>               68115 libdb/sqlite3.c       sqlite3_mutex_enter(pVm-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68116'>db</a>               68116 libdb/sqlite3.c       sqlite3Error(pVm-&gt;db, SQLITE_RANGE);</span>
<span class='curline'><a href='../S/185.html#L68150'>db</a>               68150 libdb/sqlite3.c     p-&gt;rc = sqlite3ApiExit(p-&gt;db, p-&gt;rc);</span>
<span class='curline'><a href='../S/185.html#L68151'>db</a>               68151 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68246'>db</a>               68246 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L68248'>db</a>               68248 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L68252'>db</a>               68252 libdb/sqlite3.c     sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68253'>db</a>               68253 libdb/sqlite3.c     assert( db-&gt;mallocFailed==0 );</span>
<span class='curline'><a href='../S/185.html#L68258'>db</a>               68258 libdb/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L68259'>db</a>               68259 libdb/sqlite3.c       db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/185.html#L68262'>db</a>               68262 libdb/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68379'>db</a>               68379 libdb/sqlite3.c   sqlite3_mutex_enter(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68381'>db</a>               68381 libdb/sqlite3.c     sqlite3Error(p-&gt;db, SQLITE_MISUSE);</span>
<span class='curline'><a href='../S/185.html#L68382'>db</a>               68382 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68388'>db</a>               68388 libdb/sqlite3.c     sqlite3Error(p-&gt;db, SQLITE_RANGE);</span>
<span class='curline'><a href='../S/185.html#L68389'>db</a>               68389 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68396'>db</a>               68396 libdb/sqlite3.c   sqlite3Error(p-&gt;db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L68436'>db</a>               68436 libdb/sqlite3.c         rc = sqlite3VdbeChangeEncoding(pVar, ENC(p-&gt;db));</span>
<span class='curline'><a href='../S/185.html#L68438'>db</a>               68438 libdb/sqlite3.c       sqlite3Error(p-&gt;db, rc);</span>
<span class='curline'><a href='../S/185.html#L68439'>db</a>               68439 libdb/sqlite3.c       rc = sqlite3ApiExit(p-&gt;db, rc);</span>
<span class='curline'><a href='../S/185.html#L68441'>db</a>               68441 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68481'>db</a>               68481 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68494'>db</a>               68494 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68503'>db</a>               68503 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68580'>db</a>               68580 libdb/sqlite3.c     sqlite3_mutex_leave(p-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68639'>db</a>               68639 libdb/sqlite3.c   assert( pTo-&gt;db==pFrom-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L68641'>db</a>               68641 libdb/sqlite3.c   sqlite3_mutex_enter(pTo-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68645'>db</a>               68645 libdb/sqlite3.c   sqlite3_mutex_leave(pTo-&gt;db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L68685'>db</a>               68685 libdb/sqlite3.c   return pStmt ? ((Vdbe*)pStmt)-&gt;db : 0;</span>
<span class='curline'><a href='../S/185.html#L68807'>db</a>               68807 libdb/sqlite3.c   sqlite3 *db;             /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L68817'>db</a>               68817 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L68819'>db</a>               68819 libdb/sqlite3.c                       db-&gt;aLimit[SQLITE_LIMIT_LENGTH]);</span>
<span class='curline'><a href='../S/185.html#L68820'>db</a>               68820 libdb/sqlite3.c   out.db = db;</span>
<span class='curline'><a href='../S/185.html#L68821'>db</a>               68821 libdb/sqlite3.c   if( db-&gt;nVdbeExec&gt;1 ){</span>
<span class='curline'><a href='../S/185.html#L68865'>db</a>               68865 libdb/sqlite3.c         u8 enc = ENC(db);</span>
<span class='curline'><a href='../S/185.html#L68869'>db</a>               68869 libdb/sqlite3.c           utf8.db = db;</span>
<span class='curline'><a href='../S/185.html#L69398'>db</a>               69398 libdb/sqlite3.c #  define REGISTER_TRACE(R,M) if(db-&gt;flags&amp;SQLITE_VdbeTrace)registerTrace(R,M)</span>
<span class='curline'><a href='../S/185.html#L69514'>db</a>               69514 libdb/sqlite3.c static int checkSavepointCount(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L69517'>db</a>               69517 libdb/sqlite3.c   for(p=db-&gt;pSavepoint; p; p=p-&gt;pNext) n++;</span>
<span class='curline'><a href='../S/185.html#L69518'>db</a>               69518 libdb/sqlite3.c   assert( n==(db-&gt;nSavepoint + db-&gt;isTransactionSavepoint) );</span>
<span class='curline'><a href='../S/185.html#L69535'>db</a>               69535 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;       /* The database */</span>
<span class='curline'><a href='../S/185.html#L69537'>db</a>               69537 libdb/sqlite3.c   u8 encoding = ENC(db);     /* The database encoding */</span>
<span class='curline'><a href='../S/185.html#L69549'>db</a>               69549 libdb/sqlite3.c   i64 lastRowid = db-&gt;lastRowid;  /* Saved value of the last insert ROWID */</span>
<span class='curline'><a href='../S/185.html#L69568'>db</a>               69568 libdb/sqlite3.c   db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/185.html#L69569'>db</a>               69569 libdb/sqlite3.c   if( db-&gt;u1.isInterrupted ) goto abort_due_to_interrupt;</span>
<span class='curline'><a href='../S/185.html#L69572'>db</a>               69572 libdb/sqlite3.c   if( db-&gt;xProgress ){</span>
<span class='curline'><a href='../S/185.html#L69573'>db</a>               69573 libdb/sqlite3.c     assert( 0 &lt; db-&gt;nProgressOps );</span>
<span class='curline'><a href='../S/185.html#L69576'>db</a>               69576 libdb/sqlite3.c       nProgressLimit = db-&gt;nProgressOps;</span>
<span class='curline'><a href='../S/185.html#L69578'>db</a>               69578 libdb/sqlite3.c       nProgressLimit %= (unsigned)db-&gt;nProgressOps;</span>
<span class='curline'><a href='../S/185.html#L69585'>db</a>               69585 libdb/sqlite3.c    &amp;&amp; (p-&gt;db-&gt;flags &amp; (SQLITE_VdbeListing|SQLITE_VdbeEQP|SQLITE_VdbeTrace))!=0</span>
<span class='curline'><a href='../S/185.html#L69590'>db</a>               69590 libdb/sqlite3.c     if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeListing ){</span>
<span class='curline'><a href='../S/185.html#L69596'>db</a>               69596 libdb/sqlite3.c     if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeEQP ){</span>
<span class='curline'><a href='../S/185.html#L69605'>db</a>               69605 libdb/sqlite3.c     if( p-&gt;db-&gt;flags &amp; SQLITE_VdbeTrace )  printf("VDBE Trace:\n");</span>
<span class='curline'><a href='../S/185.html#L69611'>db</a>               69611 libdb/sqlite3.c     if( db-&gt;mallocFailed ) goto no_mem;</span>
<span class='curline'><a href='../S/185.html#L69621'>db</a>               69621 libdb/sqlite3.c     if( db-&gt;flags &amp; SQLITE_VdbeTrace ){</span>
<span class='curline'><a href='../S/185.html#L69634'>db</a>               69634 libdb/sqlite3.c         sqlite3_interrupt(db);</span>
<span class='curline'><a href='../S/185.html#L69752'>db</a>               69752 libdb/sqlite3.c   if( db-&gt;u1.isInterrupted ) goto abort_due_to_interrupt;</span>
<span class='curline'><a href='../S/185.html#L69760'>db</a>               69760 libdb/sqlite3.c   if( db-&gt;xProgress!=0 &amp;&amp; nVmStep&gt;=nProgressLimit ){</span>
<span class='curline'><a href='../S/185.html#L69761'>db</a>               69761 libdb/sqlite3.c     assert( db-&gt;nProgressOps!=0 );</span>
<span class='curline'><a href='../S/185.html#L69762'>db</a>               69762 libdb/sqlite3.c     nProgressLimit = nVmStep + db-&gt;nProgressOps - (nVmStep%db-&gt;nProgressOps);</span>
<span class='curline'><a href='../S/185.html#L69763'>db</a>               69763 libdb/sqlite3.c     if( db-&gt;xProgress(db-&gt;pProgressArg) ){</span>
<span class='curline'><a href='../S/185.html#L69925'>db</a>               69925 libdb/sqlite3.c     sqlite3VdbeSetChanges(db, p-&gt;nChange);</span>
<span class='curline'><a href='../S/185.html#L69927'>db</a>               69927 libdb/sqlite3.c     lastRowid = db-&gt;lastRowid;</span>
<span class='curline'><a href='../S/185.html#L69959'>db</a>               69959 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s constraint failed: %s", </span>
<span class='curline'><a href='../S/185.html#L69962'>db</a>               69962 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L69964'>db</a>               69964 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s constraint failed", zType);</span>
<span class='curline'><a href='../S/185.html#L69974'>db</a>               69974 libdb/sqlite3.c     assert( rc==SQLITE_OK || db-&gt;nDeferredCons&gt;0 || db-&gt;nDeferredImmCons&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L70040'>db</a>               70040 libdb/sqlite3.c       sqlite3DbFree(db, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L70047'>db</a>               70047 libdb/sqlite3.c   if( pOp-&gt;p1&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L70259'>db</a>               70259 libdb/sqlite3.c   if( db-&gt;xProgress!=0</span>
<span class='curline'><a href='../S/185.html#L70261'>db</a>               70261 libdb/sqlite3.c    &amp;&amp; db-&gt;xProgress(db-&gt;pProgressArg)!=0</span>
<span class='curline'><a href='../S/185.html#L70272'>db</a>               70272 libdb/sqlite3.c     assert( db-&gt;flags&amp;SQLITE_CountRows );</span>
<span class='curline'><a href='../S/185.html#L70292'>db</a>               70292 libdb/sqlite3.c   assert( p-&gt;iStatement==0 || db-&gt;flags&amp;SQLITE_CountRows );</span>
<span class='curline'><a href='../S/185.html#L70314'>db</a>               70314 libdb/sqlite3.c   if( db-&gt;mallocFailed ) goto no_mem;</span>
<span class='curline'><a href='../S/185.html#L70351'>db</a>               70351 libdb/sqlite3.c   if( nByte&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L70568'>db</a>               70568 libdb/sqlite3.c   db-&gt;lastRowid = lastRowid;</span>
<span class='curline'><a href='../S/185.html#L70570'>db</a>               70570 libdb/sqlite3.c   lastRowid = db-&gt;lastRowid;  /* Remember rowid changes made by xFunc */</span>
<span class='curline'><a href='../S/185.html#L70575'>db</a>               70575 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3_value_text(ctx.pOut));</span>
<span class='curline'><a href='../S/185.html#L70930'>db</a>               70930 libdb/sqlite3.c     if( db-&gt;mallocFailed ) goto no_mem;</span>
<span class='curline'><a href='../S/185.html#L71334'>db</a>               71334 libdb/sqlite3.c       if( pC-&gt;payloadSize &gt; (u32)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L71655'>db</a>               71655 libdb/sqlite3.c   if( nByte&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L71737'>db</a>               71737 libdb/sqlite3.c   assert( db-&gt;pSavepoint==0 || db-&gt;autoCommit==0 );</span>
<span class='curline'><a href='../S/185.html#L71739'>db</a>               71739 libdb/sqlite3.c   assert( db-&gt;pSavepoint || db-&gt;isTransactionSavepoint==0 );</span>
<span class='curline'><a href='../S/185.html#L71740'>db</a>               71740 libdb/sqlite3.c   assert( checkSavepointCount(db) );</span>
<span class='curline'><a href='../S/185.html#L71744'>db</a>               71744 libdb/sqlite3.c     if( db-&gt;nVdbeWrite&gt;0 ){</span>
<span class='curline'><a href='../S/185.html#L71748'>db</a>               71748 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "cannot open savepoint - "</span>
<span class='curline'><a href='../S/185.html#L71759'>db</a>               71759 libdb/sqlite3.c       assert( db-&gt;autoCommit==0 || db-&gt;nVTrans==0 );</span>
<span class='curline'><a href='../S/185.html#L71760'>db</a>               71760 libdb/sqlite3.c       rc = sqlite3VtabSavepoint(db, SAVEPOINT_BEGIN,</span>
<span class='curline'><a href='../S/185.html#L71761'>db</a>               71761 libdb/sqlite3.c                                 db-&gt;nStatement+db-&gt;nSavepoint);</span>
<span class='curline'><a href='../S/185.html#L71766'>db</a>               71766 libdb/sqlite3.c       pNew = sqlite3DbMallocRaw(db, sizeof(Savepoint)+nName+1);</span>
<span class='curline'><a href='../S/185.html#L71773'>db</a>               71773 libdb/sqlite3.c         if( db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L71774'>db</a>               71774 libdb/sqlite3.c           db-&gt;autoCommit = 0;</span>
<span class='curline'><a href='../S/185.html#L71775'>db</a>               71775 libdb/sqlite3.c           db-&gt;isTransactionSavepoint = 1;</span>
<span class='curline'><a href='../S/185.html#L71777'>db</a>               71777 libdb/sqlite3.c           db-&gt;nSavepoint++;</span>
<span class='curline'><a href='../S/185.html#L71781'>db</a>               71781 libdb/sqlite3.c         pNew-&gt;pNext = db-&gt;pSavepoint;</span>
<span class='curline'><a href='../S/185.html#L71782'>db</a>               71782 libdb/sqlite3.c         db-&gt;pSavepoint = pNew;</span>
<span class='curline'><a href='../S/185.html#L71783'>db</a>               71783 libdb/sqlite3.c         pNew-&gt;nDeferredCons = db-&gt;nDeferredCons;</span>
<span class='curline'><a href='../S/185.html#L71784'>db</a>               71784 libdb/sqlite3.c         pNew-&gt;nDeferredImmCons = db-&gt;nDeferredImmCons;</span>
<span class='curline'><a href='../S/185.html#L71793'>db</a>               71793 libdb/sqlite3.c       pSavepoint = db-&gt;pSavepoint; </span>
<span class='curline'><a href='../S/185.html#L71800'>db</a>               71800 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "no such savepoint: %s", zName);</span>
<span class='curline'><a href='../S/185.html#L71802'>db</a>               71802 libdb/sqlite3.c     }else if( db-&gt;nVdbeWrite&gt;0 &amp;&amp; p1==SAVEPOINT_RELEASE ){</span>
<span class='curline'><a href='../S/185.html#L71806'>db</a>               71806 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, </span>
<span class='curline'><a href='../S/185.html#L71816'>db</a>               71816 libdb/sqlite3.c       int isTransaction = pSavepoint-&gt;pNext==0 &amp;&amp; db-&gt;isTransactionSavepoint;</span>
<span class='curline'><a href='../S/185.html#L71821'>db</a>               71821 libdb/sqlite3.c         db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L71824'>db</a>               71824 libdb/sqlite3.c           db-&gt;autoCommit = 0;</span>
<span class='curline'><a href='../S/185.html#L71828'>db</a>               71828 libdb/sqlite3.c         db-&gt;isTransactionSavepoint = 0;</span>
<span class='curline'><a href='../S/185.html#L71831'>db</a>               71831 libdb/sqlite3.c         iSavepoint = db-&gt;nSavepoint - iSavepoint - 1;</span>
<span class='curline'><a href='../S/185.html#L71833'>db</a>               71833 libdb/sqlite3.c           for(ii=0; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/185.html#L71834'>db</a>               71834 libdb/sqlite3.c             sqlite3BtreeTripAllCursors(db-&gt;aDb[ii].pBt, SQLITE_ABORT);</span>
<span class='curline'><a href='../S/185.html#L71837'>db</a>               71837 libdb/sqlite3.c         for(ii=0; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/185.html#L71838'>db</a>               71838 libdb/sqlite3.c           rc = sqlite3BtreeSavepoint(db-&gt;aDb[ii].pBt, p1, iSavepoint);</span>
<span class='curline'><a href='../S/185.html#L71843'>db</a>               71843 libdb/sqlite3.c         if( p1==SAVEPOINT_ROLLBACK &amp;&amp; (db-&gt;flags&amp;SQLITE_InternChanges)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L71844'>db</a>               71844 libdb/sqlite3.c           sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L71845'>db</a>               71845 libdb/sqlite3.c           sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L71846'>db</a>               71846 libdb/sqlite3.c           db-&gt;flags = (db-&gt;flags | SQLITE_InternChanges);</span>
<span class='curline'><a href='../S/185.html#L71852'>db</a>               71852 libdb/sqlite3.c       while( db-&gt;pSavepoint!=pSavepoint ){</span>
<span class='curline'><a href='../S/185.html#L71853'>db</a>               71853 libdb/sqlite3.c         pTmp = db-&gt;pSavepoint;</span>
<span class='curline'><a href='../S/185.html#L71854'>db</a>               71854 libdb/sqlite3.c         db-&gt;pSavepoint = pTmp-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L71855'>db</a>               71855 libdb/sqlite3.c         sqlite3DbFree(db, pTmp);</span>
<span class='curline'><a href='../S/185.html#L71856'>db</a>               71856 libdb/sqlite3.c         db-&gt;nSavepoint--;</span>
<span class='curline'><a href='../S/185.html#L71864'>db</a>               71864 libdb/sqlite3.c         assert( pSavepoint==db-&gt;pSavepoint );</span>
<span class='curline'><a href='../S/185.html#L71865'>db</a>               71865 libdb/sqlite3.c         db-&gt;pSavepoint = pSavepoint-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L71866'>db</a>               71866 libdb/sqlite3.c         sqlite3DbFree(db, pSavepoint);</span>
<span class='curline'><a href='../S/185.html#L71868'>db</a>               71868 libdb/sqlite3.c           db-&gt;nSavepoint--;</span>
<span class='curline'><a href='../S/185.html#L71871'>db</a>               71871 libdb/sqlite3.c         db-&gt;nDeferredCons = pSavepoint-&gt;nDeferredCons;</span>
<span class='curline'><a href='../S/185.html#L71872'>db</a>               71872 libdb/sqlite3.c         db-&gt;nDeferredImmCons = pSavepoint-&gt;nDeferredImmCons;</span>
<span class='curline'><a href='../S/185.html#L71876'>db</a>               71876 libdb/sqlite3.c         rc = sqlite3VtabSavepoint(db, p1, iSavepoint);</span>
<span class='curline'><a href='../S/185.html#L71901'>db</a>               71901 libdb/sqlite3.c   turnOnAC = desiredAutoCommit &amp;&amp; !db-&gt;autoCommit;</span>
<span class='curline'><a href='../S/185.html#L71904'>db</a>               71904 libdb/sqlite3.c   assert( db-&gt;nVdbeActive&gt;0 );  /* At least this one VM is active */</span>
<span class='curline'><a href='../S/185.html#L71908'>db</a>               71908 libdb/sqlite3.c   if( turnOnAC &amp;&amp; iRollback &amp;&amp; db-&gt;nVdbeActive&gt;1 ){</span>
<span class='curline'><a href='../S/185.html#L71913'>db</a>               71913 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "cannot rollback transaction - "</span>
<span class='curline'><a href='../S/185.html#L71918'>db</a>               71918 libdb/sqlite3.c   if( turnOnAC &amp;&amp; !iRollback &amp;&amp; db-&gt;nVdbeWrite&gt;0 ){</span>
<span class='curline'><a href='../S/185.html#L71922'>db</a>               71922 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "cannot commit transaction - "</span>
<span class='curline'><a href='../S/185.html#L71925'>db</a>               71925 libdb/sqlite3.c   }else if( desiredAutoCommit!=db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L71928'>db</a>               71928 libdb/sqlite3.c       sqlite3RollbackAll(db, SQLITE_ABORT_ROLLBACK);</span>
<span class='curline'><a href='../S/185.html#L71929'>db</a>               71929 libdb/sqlite3.c       db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L71933'>db</a>               71933 libdb/sqlite3.c       db-&gt;autoCommit = (u8)desiredAutoCommit;</span>
<span class='curline'><a href='../S/185.html#L71936'>db</a>               71936 libdb/sqlite3.c         db-&gt;autoCommit = (u8)(1-desiredAutoCommit);</span>
<span class='curline'><a href='../S/185.html#L71941'>db</a>               71941 libdb/sqlite3.c     assert( db-&gt;nStatement==0 );</span>
<span class='curline'><a href='../S/185.html#L71942'>db</a>               71942 libdb/sqlite3.c     sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/185.html#L71950'>db</a>               71950 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db,</span>
<span class='curline'><a href='../S/185.html#L72001'>db</a>               72001 libdb/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L72003'>db</a>               72003 libdb/sqlite3.c   if( pOp-&gt;p2 &amp;&amp; (db-&gt;flags &amp; SQLITE_QueryOnly)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L72007'>db</a>               72007 libdb/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/185.html#L72021'>db</a>               72021 libdb/sqlite3.c      &amp;&amp; (db-&gt;autoCommit==0 || db-&gt;nVdbeRead&gt;1) </span>
<span class='curline'><a href='../S/185.html#L72025'>db</a>               72025 libdb/sqlite3.c         assert( db-&gt;nStatement&gt;=0 &amp;&amp; db-&gt;nSavepoint&gt;=0 );</span>
<span class='curline'><a href='../S/185.html#L72026'>db</a>               72026 libdb/sqlite3.c         db-&gt;nStatement++; </span>
<span class='curline'><a href='../S/185.html#L72027'>db</a>               72027 libdb/sqlite3.c         p-&gt;iStatement = db-&gt;nSavepoint + db-&gt;nStatement;</span>
<span class='curline'><a href='../S/185.html#L72030'>db</a>               72030 libdb/sqlite3.c       rc = sqlite3VtabSavepoint(db, SAVEPOINT_BEGIN, p-&gt;iStatement-1);</span>
<span class='curline'><a href='../S/185.html#L72038'>db</a>               72038 libdb/sqlite3.c       p-&gt;nStmtDefCons = db-&gt;nDeferredCons;</span>
<span class='curline'><a href='../S/185.html#L72039'>db</a>               72039 libdb/sqlite3.c       p-&gt;nStmtDefImmCons = db-&gt;nDeferredImmCons;</span>
<span class='curline'><a href='../S/185.html#L72044'>db</a>               72044 libdb/sqlite3.c     iGen = db-&gt;aDb[pOp-&gt;p1].pSchema-&gt;iGeneration;</span>
<span class='curline'><a href='../S/185.html#L72050'>db</a>               72050 libdb/sqlite3.c     sqlite3DbFree(db, p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L72051'>db</a>               72051 libdb/sqlite3.c     p-&gt;zErrMsg = sqlite3DbStrDup(db, "database schema has changed");</span>
<span class='curline'><a href='../S/185.html#L72065'>db</a>               72065 libdb/sqlite3.c     if( db-&gt;aDb[pOp-&gt;p1].pSchema-&gt;schema_cookie!=iMeta ){</span>
<span class='curline'><a href='../S/185.html#L72066'>db</a>               72066 libdb/sqlite3.c       sqlite3ResetOneSchema(db, pOp-&gt;p1);</span>
<span class='curline'><a href='../S/185.html#L72095'>db</a>               72095 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L72096'>db</a>               72096 libdb/sqlite3.c   assert( db-&gt;aDb[iDb].pBt!=0 );</span>
<span class='curline'><a href='../S/185.html#L72099'>db</a>               72099 libdb/sqlite3.c   sqlite3BtreeGetMeta(db-&gt;aDb[iDb].pBt, iCookie, (u32 *)&amp;iMeta);</span>
<span class='curline'><a href='../S/185.html#L72117'>db</a>               72117 libdb/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L72120'>db</a>               72120 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[pOp-&gt;p1];</span>
<span class='curline'><a href='../S/185.html#L72122'>db</a>               72122 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, pOp-&gt;p1, 0) );</span>
<span class='curline'><a href='../S/185.html#L72130'>db</a>               72130 libdb/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L72138'>db</a>               72138 libdb/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L72248'>db</a>               72248 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L72250'>db</a>               72250 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L72255'>db</a>               72255 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L72281'>db</a>               72281 libdb/sqlite3.c     assert( pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/185.html#L72282'>db</a>               72282 libdb/sqlite3.c     assert( pKeyInfo-&gt;db==db );</span>
<span class='curline'><a href='../S/185.html#L72351'>db</a>               72351 libdb/sqlite3.c   rc = sqlite3BtreeOpen(db-&gt;pVfs, 0, db, &amp;pCx-&gt;pBt, </span>
<span class='curline'><a href='../S/185.html#L72368'>db</a>               72368 libdb/sqlite3.c         assert( pKeyInfo-&gt;db==db );</span>
<span class='curline'><a href='../S/185.html#L72369'>db</a>               72369 libdb/sqlite3.c         assert( pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/185.html#L72401'>db</a>               72401 libdb/sqlite3.c   assert( pCx-&gt;pKeyInfo-&gt;db==db );</span>
<span class='curline'><a href='../S/185.html#L72402'>db</a>               72402 libdb/sqlite3.c   assert( pCx-&gt;pKeyInfo-&gt;enc==ENC(db) );</span>
<span class='curline'><a href='../S/185.html#L72403'>db</a>               72403 libdb/sqlite3.c   rc = sqlite3VdbeSorterInit(db, pOp-&gt;p3, pCx);</span>
<span class='curline'><a href='../S/185.html#L72824'>db</a>               72824 libdb/sqlite3.c     sqlite3DbFree(db, pFree);</span>
<span class='curline'><a href='../S/185.html#L73124'>db</a>               73124 libdb/sqlite3.c   if( pOp-&gt;p5 &amp; OPFLAG_LASTROWID ) db-&gt;lastRowid = lastRowid = iKey;</span>
<span class='curline'><a href='../S/185.html#L73145'>db</a>               73145 libdb/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; db-&gt;xUpdateCallback &amp;&amp; pOp-&gt;p4.z ){</span>
<span class='curline'><a href='../S/185.html#L73146'>db</a>               73146 libdb/sqlite3.c     zDb = db-&gt;aDb[pC-&gt;iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L73150'>db</a>               73150 libdb/sqlite3.c     db-&gt;xUpdateCallback(db-&gt;pUpdateArg, op, zDb, zTbl, iKey);</span>
<span class='curline'><a href='../S/185.html#L73200'>db</a>               73200 libdb/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; db-&gt;xUpdateCallback &amp;&amp; pOp-&gt;p4.z &amp;&amp; pC-&gt;isTable ){</span>
<span class='curline'><a href='../S/185.html#L73201'>db</a>               73201 libdb/sqlite3.c     db-&gt;xUpdateCallback(db-&gt;pUpdateArg, SQLITE_DELETE,</span>
<span class='curline'><a href='../S/185.html#L73202'>db</a>               73202 libdb/sqlite3.c                         db-&gt;aDb[pC-&gt;iDb].zName, pOp-&gt;p4.z, pC-&gt;movetoTarget);</span>
<span class='curline'><a href='../S/185.html#L73216'>db</a>               73216 libdb/sqlite3.c   sqlite3VdbeSetChanges(db, p-&gt;nChange);</span>
<span class='curline'><a href='../S/185.html#L73342'>db</a>               73342 libdb/sqlite3.c     if( n64&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L73349'>db</a>               73349 libdb/sqlite3.c     if( n&gt;(u32)db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L73606'>db</a>               73606 libdb/sqlite3.c   rc = sqlite3VdbeSorterNext(db, pC, &amp;res);</span>
<span class='curline'><a href='../S/185.html#L73778'>db</a>               73778 libdb/sqlite3.c     rc = sqlite3VdbeIdxRowid(db, pCrsr, &amp;rowid);</span>
<span class='curline'><a href='../S/185.html#L73862'>db</a>               73862 libdb/sqlite3.c   rc = sqlite3VdbeIdxKeyCompare(db, pC, &amp;r, &amp;res);</span>
<span class='curline'><a href='../S/185.html#L73907'>db</a>               73907 libdb/sqlite3.c   for(pVdbe=db-&gt;pVdbe; pVdbe; pVdbe = pVdbe-&gt;pNext){</span>
<span class='curline'><a href='../S/185.html#L73915'>db</a>               73915 libdb/sqlite3.c   iCnt = db-&gt;nVdbeRead;</span>
<span class='curline'><a href='../S/185.html#L73926'>db</a>               73926 libdb/sqlite3.c     rc = sqlite3BtreeDropTable(db-&gt;aDb[iDb].pBt, pOp-&gt;p1, &amp;iMoved);</span>
<span class='curline'><a href='../S/185.html#L73931'>db</a>               73931 libdb/sqlite3.c       sqlite3RootPageMoved(db, iDb, iMoved, pOp-&gt;p1);</span>
<span class='curline'><a href='../S/185.html#L73966'>db</a>               73966 libdb/sqlite3.c       db-&gt;aDb[pOp-&gt;p2].pBt, pOp-&gt;p1, (pOp-&gt;p3 ? &amp;nChange : 0)</span>
<span class='curline'><a href='../S/185.html#L73994'>db</a>               73994 libdb/sqlite3.c     sqlite3VdbeSorterReset(db, pC-&gt;pSorter);</span>
<span class='curline'><a href='../S/185.html#L74033'>db</a>               74033 libdb/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74036'>db</a>               74036 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[pOp-&gt;p1];</span>
<span class='curline'><a href='../S/185.html#L74068'>db</a>               74068 libdb/sqlite3.c   for(iDb=0; iDb&lt;db-&gt;nDb; iDb++){</span>
<span class='curline'><a href='../S/185.html#L74069'>db</a>               74069 libdb/sqlite3.c     assert( iDb==1 || sqlite3BtreeHoldsMutex(db-&gt;aDb[iDb].pBt) );</span>
<span class='curline'><a href='../S/185.html#L74074'>db</a>               74074 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74075'>db</a>               74075 libdb/sqlite3.c   assert( DbHasProperty(db, iDb, DB_SchemaLoaded) );</span>
<span class='curline'><a href='../S/185.html#L74078'>db</a>               74078 libdb/sqlite3.c     initData.db = db;</span>
<span class='curline'><a href='../S/185.html#L74081'>db</a>               74081 libdb/sqlite3.c     zSql = sqlite3MPrintf(db,</span>
<span class='curline'><a href='../S/185.html#L74083'>db</a>               74083 libdb/sqlite3.c        db-&gt;aDb[iDb].zName, zMaster, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L74087'>db</a>               74087 libdb/sqlite3.c       assert( db-&gt;init.busy==0 );</span>
<span class='curline'><a href='../S/185.html#L74088'>db</a>               74088 libdb/sqlite3.c       db-&gt;init.busy = 1;</span>
<span class='curline'><a href='../S/185.html#L74090'>db</a>               74090 libdb/sqlite3.c       assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L74091'>db</a>               74091 libdb/sqlite3.c       rc = sqlite3_exec(db, zSql, sqlite3InitCallback, &amp;initData, 0);</span>
<span class='curline'><a href='../S/185.html#L74093'>db</a>               74093 libdb/sqlite3.c       sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/185.html#L74094'>db</a>               74094 libdb/sqlite3.c       db-&gt;init.busy = 0;</span>
<span class='curline'><a href='../S/185.html#L74097'>db</a>               74097 libdb/sqlite3.c   if( rc ) sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L74112'>db</a>               74112 libdb/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74113'>db</a>               74113 libdb/sqlite3.c   rc = sqlite3AnalysisLoad(db, pOp-&gt;p1);</span>
<span class='curline'><a href='../S/185.html#L74127'>db</a>               74127 libdb/sqlite3.c   sqlite3UnlinkAndDeleteTable(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L74140'>db</a>               74140 libdb/sqlite3.c   sqlite3UnlinkAndDeleteIndex(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L74153'>db</a>               74153 libdb/sqlite3.c   sqlite3UnlinkAndDeleteTrigger(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L74190'>db</a>               74190 libdb/sqlite3.c   aRoot = sqlite3DbMallocRaw(db, sizeof(int)*(nRoot+1) );</span>
<span class='curline'><a href='../S/185.html#L74201'>db</a>               74201 libdb/sqlite3.c   assert( pOp-&gt;p5&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74203'>db</a>               74203 libdb/sqlite3.c   z = sqlite3BtreeIntegrityCheck(db-&gt;aDb[pOp-&gt;p5].pBt, aRoot, nRoot,</span>
<span class='curline'><a href='../S/185.html#L74205'>db</a>               74205 libdb/sqlite3.c   sqlite3DbFree(db, aRoot);</span>
<span class='curline'><a href='../S/185.html#L74373'>db</a>               74373 libdb/sqlite3.c   if( p-&gt;nFrame&gt;=db-&gt;aLimit[SQLITE_LIMIT_TRIGGER_DEPTH] ){</span>
<span class='curline'><a href='../S/185.html#L74375'>db</a>               74375 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "too many levels of trigger recursion");</span>
<span class='curline'><a href='../S/185.html#L74394'>db</a>               74394 libdb/sqlite3.c     pFrame = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/185.html#L74419'>db</a>               74419 libdb/sqlite3.c       pMem-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L74481'>db</a>               74481 libdb/sqlite3.c   if( db-&gt;flags &amp; SQLITE_DeferFKs ){</span>
<span class='curline'><a href='../S/185.html#L74482'>db</a>               74482 libdb/sqlite3.c     db-&gt;nDeferredImmCons += pOp-&gt;p2;</span>
<span class='curline'><a href='../S/185.html#L74484'>db</a>               74484 libdb/sqlite3.c     db-&gt;nDeferredCons += pOp-&gt;p2;</span>
<span class='curline'><a href='../S/185.html#L74505'>db</a>               74505 libdb/sqlite3.c     VdbeBranchTaken(db-&gt;nDeferredCons==0 &amp;&amp; db-&gt;nDeferredImmCons==0, 2);</span>
<span class='curline'><a href='../S/185.html#L74506'>db</a>               74506 libdb/sqlite3.c     if( db-&gt;nDeferredCons==0 &amp;&amp; db-&gt;nDeferredImmCons==0 ) pc = pOp-&gt;p2-1;</span>
<span class='curline'><a href='../S/185.html#L74508'>db</a>               74508 libdb/sqlite3.c     VdbeBranchTaken(p-&gt;nFkConstraint==0 &amp;&amp; db-&gt;nDeferredImmCons==0, 2);</span>
<span class='curline'><a href='../S/185.html#L74509'>db</a>               74509 libdb/sqlite3.c     if( p-&gt;nFkConstraint==0 &amp;&amp; db-&gt;nDeferredImmCons==0 ) pc = pOp-&gt;p2-1;</span>
<span class='curline'><a href='../S/185.html#L74632'>db</a>               74632 libdb/sqlite3.c   sqlite3VdbeMemInit(&amp;t, db, MEM_Null);</span>
<span class='curline'><a href='../S/185.html#L74640'>db</a>               74640 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3_value_text(&amp;t));</span>
<span class='curline'><a href='../S/185.html#L74672'>db</a>               74672 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3_value_text(pMem));</span>
<span class='curline'><a href='../S/185.html#L74706'>db</a>               74706 libdb/sqlite3.c   rc = sqlite3Checkpoint(db, pOp-&gt;p1, pOp-&gt;p2, &amp;aRes[1], &amp;aRes[2]);</span>
<span class='curline'><a href='../S/185.html#L74748'>db</a>               74748 libdb/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74751'>db</a>               74751 libdb/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/185.html#L74773'>db</a>               74773 libdb/sqlite3.c     if( !db-&gt;autoCommit || db-&gt;nVdbeRead&gt;1 ){</span>
<span class='curline'><a href='../S/185.html#L74775'>db</a>               74775 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, </span>
<span class='curline'><a href='../S/185.html#L74833'>db</a>               74833 libdb/sqlite3.c   rc = sqlite3RunVacuum(&amp;p-&gt;zErrMsg, db);</span>
<span class='curline'><a href='../S/185.html#L74848'>db</a>               74848 libdb/sqlite3.c   assert( pOp-&gt;p1&gt;=0 &amp;&amp; pOp-&gt;p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74851'>db</a>               74851 libdb/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/185.html#L74874'>db</a>               74874 libdb/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L74899'>db</a>               74899 libdb/sqlite3.c   if( isWriteLock || 0==(db-&gt;flags&amp;SQLITE_ReadUncommitted) ){</span>
<span class='curline'><a href='../S/185.html#L74901'>db</a>               74901 libdb/sqlite3.c     assert( p1&gt;=0 &amp;&amp; p1&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L74904'>db</a>               74904 libdb/sqlite3.c     rc = sqlite3BtreeLockTable(db-&gt;aDb[p1].pBt, pOp-&gt;p2, isWriteLock);</span>
<span class='curline'><a href='../S/185.html#L74907'>db</a>               74907 libdb/sqlite3.c       sqlite3SetString(&amp;p-&gt;zErrMsg, db, "database table is locked: %s", z);</span>
<span class='curline'><a href='../S/185.html#L74927'>db</a>               74927 libdb/sqlite3.c   rc = sqlite3VtabBegin(db, pVTab);</span>
<span class='curline'><a href='../S/185.html#L74940'>db</a>               74940 libdb/sqlite3.c   rc = sqlite3VtabCallCreate(db, pOp-&gt;p1, pOp-&gt;p4.z, &amp;p-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L74953'>db</a>               74953 libdb/sqlite3.c   rc = sqlite3VtabCallDestroy(db, pOp-&gt;p1, pOp-&gt;p4.z);</span>
<span class='curline'><a href='../S/185.html#L74989'>db</a>               74989 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L75238'>db</a>               75238 libdb/sqlite3.c     u8 vtabOnConflict = db-&gt;vtabOnConflict;</span>
<span class='curline'><a href='../S/185.html#L75247'>db</a>               75247 libdb/sqlite3.c     db-&gt;vtabOnConflict = pOp-&gt;p5;</span>
<span class='curline'><a href='../S/185.html#L75249'>db</a>               75249 libdb/sqlite3.c     db-&gt;vtabOnConflict = vtabOnConflict;</span>
<span class='curline'><a href='../S/185.html#L75253'>db</a>               75253 libdb/sqlite3.c       db-&gt;lastRowid = lastRowid = rowid;</span>
<span class='curline'><a href='../S/185.html#L75275'>db</a>               75275 libdb/sqlite3.c   pOut-&gt;u.i = sqlite3BtreeLastPage(db-&gt;aDb[pOp-&gt;p1].pBt);</span>
<span class='curline'><a href='../S/185.html#L75294'>db</a>               75294 libdb/sqlite3.c   pBt = db-&gt;aDb[pOp-&gt;p1].pBt;</span>
<span class='curline'><a href='../S/185.html#L75326'>db</a>               75326 libdb/sqlite3.c   if( db-&gt;xTrace</span>
<span class='curline'><a href='../S/185.html#L75331'>db</a>               75331 libdb/sqlite3.c     db-&gt;xTrace(db-&gt;pTraceArg, z);</span>
<span class='curline'><a href='../S/185.html#L75332'>db</a>               75332 libdb/sqlite3.c     sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L75338'>db</a>               75338 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L75340'>db</a>               75340 libdb/sqlite3.c       sqlite3_file_control(db, db-&gt;aDb[i].zName, SQLITE_FCNTL_TRACE, zTrace);</span>
<span class='curline'><a href='../S/185.html#L75345'>db</a>               75345 libdb/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_SqlTrace)!=0</span>
<span class='curline'><a href='../S/185.html#L75397'>db</a>               75397 libdb/sqlite3.c     if( db-&gt;flags &amp; SQLITE_VdbeTrace ){</span>
<span class='curline'><a href='../S/185.html#L75420'>db</a>               75420 libdb/sqlite3.c   if( rc==SQLITE_IOERR_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L75423'>db</a>               75423 libdb/sqlite3.c     sqlite3ResetOneSchema(db, resetSchemaOnFault-1);</span>
<span class='curline'><a href='../S/185.html#L75430'>db</a>               75430 libdb/sqlite3.c   db-&gt;lastRowid = lastRowid;</span>
<span class='curline'><a href='../S/185.html#L75440'>db</a>               75440 libdb/sqlite3.c   sqlite3SetString(&amp;p-&gt;zErrMsg, db, "string or blob too big");</span>
<span class='curline'><a href='../S/185.html#L75447'>db</a>               75447 libdb/sqlite3.c   db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L75448'>db</a>               75448 libdb/sqlite3.c   sqlite3SetString(&amp;p-&gt;zErrMsg, db, "out of memory");</span>
<span class='curline'><a href='../S/185.html#L75457'>db</a>               75457 libdb/sqlite3.c   if( db-&gt;mallocFailed ) rc = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/185.html#L75459'>db</a>               75459 libdb/sqlite3.c     sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3ErrStr(rc));</span>
<span class='curline'><a href='../S/185.html#L75467'>db</a>               75467 libdb/sqlite3.c   assert( db-&gt;u1.isInterrupted );</span>
<span class='curline'><a href='../S/185.html#L75470'>db</a>               75470 libdb/sqlite3.c   sqlite3SetString(&amp;p-&gt;zErrMsg, db, "%s", sqlite3ErrStr(rc));</span>
<span class='curline'><a href='../S/185.html#L75506'>db</a>               75506 libdb/sqlite3.c   sqlite3 *db;            /* The associated database */</span>
<span class='curline'><a href='../S/185.html#L75544'>db</a>               75544 libdb/sqlite3.c       zErr = sqlite3MPrintf(p-&gt;db, "cannot open value of type %s",</span>
<span class='curline'><a href='../S/185.html#L75564'>db</a>               75564 libdb/sqlite3.c       zErr = sqlite3MPrintf(p-&gt;db, "no such rowid: %lld", iRow);</span>
<span class='curline'><a href='../S/185.html#L75567'>db</a>               75567 libdb/sqlite3.c       zErr = sqlite3MPrintf(p-&gt;db, "%s", sqlite3_errmsg(p-&gt;db));</span>
<span class='curline'><a href='../S/185.html#L75582'>db</a>               75582 libdb/sqlite3.c   sqlite3* db,            /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L75633'>db</a>               75633 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75635'>db</a>               75635 libdb/sqlite3.c   pBlob = (Incrblob *)sqlite3DbMallocZero(db, sizeof(Incrblob));</span>
<span class='curline'><a href='../S/185.html#L75637'>db</a>               75637 libdb/sqlite3.c   pParse = sqlite3StackAllocRaw(db, sizeof(*pParse));</span>
<span class='curline'><a href='../S/185.html#L75642'>db</a>               75642 libdb/sqlite3.c     pParse-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L75643'>db</a>               75643 libdb/sqlite3.c     sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L75646'>db</a>               75646 libdb/sqlite3.c     sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L75664'>db</a>               75664 libdb/sqlite3.c         sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L75669'>db</a>               75669 libdb/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L75680'>db</a>               75680 libdb/sqlite3.c       sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L75681'>db</a>               75681 libdb/sqlite3.c       zErr = sqlite3MPrintf(db, "no such column: \"%s\"", zColumn);</span>
<span class='curline'><a href='../S/185.html#L75683'>db</a>               75683 libdb/sqlite3.c       sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L75695'>db</a>               75695 libdb/sqlite3.c       if( db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/185.html#L75720'>db</a>               75720 libdb/sqlite3.c         sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L75721'>db</a>               75721 libdb/sqlite3.c         zErr = sqlite3MPrintf(db, "cannot open %s column for writing", zFault);</span>
<span class='curline'><a href='../S/185.html#L75723'>db</a>               75723 libdb/sqlite3.c         sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L75729'>db</a>               75729 libdb/sqlite3.c     assert( pBlob-&gt;pStmt || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L75732'>db</a>               75732 libdb/sqlite3.c       int iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L75769'>db</a>               75769 libdb/sqlite3.c       if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L75779'>db</a>               75779 libdb/sqlite3.c     pBlob-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L75780'>db</a>               75780 libdb/sqlite3.c     sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L75781'>db</a>               75781 libdb/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L75789'>db</a>               75789 libdb/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/185.html#L75793'>db</a>               75793 libdb/sqlite3.c     sqlite3DbFree(db, pBlob);</span>
<span class='curline'><a href='../S/185.html#L75795'>db</a>               75795 libdb/sqlite3.c   sqlite3ErrorWithMsg(db, rc, (zErr ? "%s" : 0), zErr);</span>
<span class='curline'><a href='../S/185.html#L75796'>db</a>               75796 libdb/sqlite3.c   sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L75798'>db</a>               75798 libdb/sqlite3.c   sqlite3StackFree(db, pParse);</span>
<span class='curline'><a href='../S/185.html#L75799'>db</a>               75799 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L75800'>db</a>               75800 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75811'>db</a>               75811 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L75814'>db</a>               75814 libdb/sqlite3.c     db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L75815'>db</a>               75815 libdb/sqlite3.c     sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75817'>db</a>               75817 libdb/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L75818'>db</a>               75818 libdb/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75838'>db</a>               75838 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L75841'>db</a>               75841 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L75842'>db</a>               75842 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75848'>db</a>               75848 libdb/sqlite3.c     sqlite3Error(db, SQLITE_ERROR);</span>
<span class='curline'><a href='../S/185.html#L75858'>db</a>               75858 libdb/sqlite3.c     assert( db == v-&gt;db );</span>
<span class='curline'><a href='../S/185.html#L75866'>db</a>               75866 libdb/sqlite3.c       db-&gt;errCode = rc;</span>
<span class='curline'><a href='../S/185.html#L75870'>db</a>               75870 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L75871'>db</a>               75871 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75913'>db</a>               75913 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L75916'>db</a>               75916 libdb/sqlite3.c   db = p-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L75917'>db</a>               75917 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L75928'>db</a>               75928 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, rc, (zErr ? "%s" : 0), zErr);</span>
<span class='curline'><a href='../S/185.html#L75929'>db</a>               75929 libdb/sqlite3.c       sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L75934'>db</a>               75934 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L75936'>db</a>               75936 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L76255'>db</a>               76255 libdb/sqlite3.c   sqlite3 *db;                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L76545'>db</a>               76545 libdb/sqlite3.c   if( pFile-&gt;iEof&lt;=(i64)(pTask-&gt;pSorter-&gt;db-&gt;nMaxSorterMmap) ){</span>
<span class='curline'><a href='../S/185.html#L76728'>db</a>               76728 libdb/sqlite3.c   sqlite3 *db,                    /* Database connection (for malloc()) */</span>
<span class='curline'><a href='../S/185.html#L76748'>db</a>               76748 libdb/sqlite3.c   if( sqlite3TempInMemory(db) || sqlite3GlobalConfig.bCoreMutex==0 ){</span>
<span class='curline'><a href='../S/185.html#L76751'>db</a>               76751 libdb/sqlite3.c     nWorker = db-&gt;aLimit[SQLITE_LIMIT_WORKER_THREADS];</span>
<span class='curline'><a href='../S/185.html#L76767'>db</a>               76767 libdb/sqlite3.c   pSorter = (VdbeSorter*)sqlite3DbMallocZero(db, sz + szKeyInfo);</span>
<span class='curline'><a href='../S/185.html#L76774'>db</a>               76774 libdb/sqlite3.c     pKeyInfo-&gt;db = 0;</span>
<span class='curline'><a href='../S/185.html#L76776'>db</a>               76776 libdb/sqlite3.c     pSorter-&gt;pgsz = pgsz = sqlite3BtreeGetPageSize(db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/185.html#L76779'>db</a>               76779 libdb/sqlite3.c     pSorter-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L76785'>db</a>               76785 libdb/sqlite3.c     if( !sqlite3TempInMemory(db) ){</span>
<span class='curline'><a href='../S/185.html#L76787'>db</a>               76787 libdb/sqlite3.c       mxCache = db-&gt;aDb[0].pSchema-&gt;cache_size;</span>
<span class='curline'><a href='../S/185.html#L76813'>db</a>               76813 libdb/sqlite3.c static void vdbeSorterRecordFree(sqlite3 *db, SorterRecord *pRecord){</span>
<span class='curline'><a href='../S/185.html#L76818'>db</a>               76818 libdb/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L76826'>db</a>               76826 libdb/sqlite3.c static void vdbeSortSubtaskCleanup(sqlite3 *db, SortSubtask *pTask){</span>
<span class='curline'><a href='../S/185.html#L76827'>db</a>               76827 libdb/sqlite3.c   sqlite3DbFree(db, pTask-&gt;pUnpacked);</span>
<span class='curline'><a href='../S/185.html#L76858'>db</a>               76858 libdb/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/185.html#L76872'>db</a>               76872 libdb/sqlite3.c   sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/185.html#L76882'>db</a>               76882 libdb/sqlite3.c     sqlite3OsCurrentTimeInt64(pTask-&gt;pSorter-&gt;db-&gt;pVfs, &amp;t);</span>
<span class='curline'><a href='../S/185.html#L77015'>db</a>               77015 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeSorterReset(sqlite3 *db, VdbeSorter *pSorter){</span>
<span class='curline'><a href='../S/185.html#L77022'>db</a>               77022 libdb/sqlite3.c     sqlite3DbFree(db, pSorter-&gt;pReader);</span>
<span class='curline'><a href='../S/185.html#L77030'>db</a>               77030 libdb/sqlite3.c     vdbeSortSubtaskCleanup(db, pTask);</span>
<span class='curline'><a href='../S/185.html#L77040'>db</a>               77040 libdb/sqlite3.c   sqlite3DbFree(db, pSorter-&gt;pUnpacked);</span>
<span class='curline'><a href='../S/185.html#L77047'>db</a>               77047 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VdbeSorterClose(sqlite3 *db, VdbeCursor *pCsr){</span>
<span class='curline'><a href='../S/185.html#L77050'>db</a>               77050 libdb/sqlite3.c     sqlite3VdbeSorterReset(db, pSorter);</span>
<span class='curline'><a href='../S/185.html#L77052'>db</a>               77052 libdb/sqlite3.c     sqlite3DbFree(db, pSorter);</span>
<span class='curline'><a href='../S/185.html#L77067'>db</a>               77067 libdb/sqlite3.c static void vdbeSorterExtendFile(sqlite3 *db, sqlite3_file *pFd, i64 nByte){</span>
<span class='curline'><a href='../S/185.html#L77068'>db</a>               77068 libdb/sqlite3.c   if( nByte&lt;=(i64)(db-&gt;nMaxSorterMmap) &amp;&amp; pFd-&gt;pMethods-&gt;iVersion&gt;=3 ){</span>
<span class='curline'><a href='../S/185.html#L77087'>db</a>               77087 libdb/sqlite3.c   sqlite3 *db,                    /* Database handle doing sort */</span>
<span class='curline'><a href='../S/185.html#L77092'>db</a>               77092 libdb/sqlite3.c   rc = sqlite3OsOpenMalloc(db-&gt;pVfs, 0, ppFd,</span>
<span class='curline'><a href='../S/185.html#L77101'>db</a>               77101 libdb/sqlite3.c       vdbeSorterExtendFile(db, *ppFd, nExtend);</span>
<span class='curline'><a href='../S/185.html#L77315'>db</a>               77315 libdb/sqlite3.c   sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L77331'>db</a>               77331 libdb/sqlite3.c     rc = vdbeSorterOpenTempFile(db, 0, &amp;pTask-&gt;file.pFd);</span>
<span class='curline'><a href='../S/185.html#L77339'>db</a>               77339 libdb/sqlite3.c     vdbeSorterExtendFile(db, pTask-&gt;file.pFd, pTask-&gt;file.iEof+pList-&gt;szPMA+9);</span>
<span class='curline'><a href='../S/185.html#L77940'>db</a>               77940 libdb/sqlite3.c     sqlite3 *db = pTask-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L77951'>db</a>               77951 libdb/sqlite3.c         rc = vdbeSorterOpenTempFile(db, mxSz, &amp;pIncr-&gt;aFile[0].pFd);</span>
<span class='curline'><a href='../S/185.html#L77953'>db</a>               77953 libdb/sqlite3.c           rc = vdbeSorterOpenTempFile(db, mxSz, &amp;pIncr-&gt;aFile[1].pFd);</span>
<span class='curline'><a href='../S/185.html#L77960'>db</a>               77960 libdb/sqlite3.c           rc = vdbeSorterOpenTempFile(db, pTask-&gt;file2.iEof, &amp;pTask-&gt;file2.pFd);</span>
<span class='curline'><a href='../S/185.html#L78227'>db</a>               78227 libdb/sqlite3.c   sqlite3 *db = pTask0-&gt;pSorter-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L78240'>db</a>               78240 libdb/sqlite3.c         pReadr = (PmaReader*)sqlite3DbMallocZero(db, sizeof(PmaReader));</span>
<span class='curline'><a href='../S/185.html#L78339'>db</a>               78339 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VdbeSorterNext(sqlite3 *db, const VdbeCursor *pCsr, int *pbEof){</span>
<span class='curline'><a href='../S/185.html#L78362'>db</a>               78362 libdb/sqlite3.c     if( pSorter-&gt;list.aMemory==0 ) vdbeSorterRecordFree(db, pFree);</span>
<span class='curline'><a href='../S/185.html#L79233'>db</a>               79233 libdb/sqlite3.c   sqlite3 *db;           /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L79239'>db</a>               79239 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L79240'>db</a>               79240 libdb/sqlite3.c   pDup = sqlite3ExprDup(db, pOrig, 0);</span>
<span class='curline'><a href='../S/185.html#L79264'>db</a>               79264 libdb/sqlite3.c   sqlite3ExprDelete(db, pExpr);</span>
<span class='curline'><a href='../S/185.html#L79268'>db</a>               79268 libdb/sqlite3.c     pExpr-&gt;u.zToken = sqlite3DbStrDup(db, pExpr-&gt;u.zToken);</span>
<span class='curline'><a href='../S/185.html#L79271'>db</a>               79271 libdb/sqlite3.c   sqlite3DbFree(db, pDup);</span>
<span class='curline'><a href='../S/185.html#L79360'>db</a>               79360 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;         /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L79391'>db</a>               79391 libdb/sqlite3.c       for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L79392'>db</a>               79392 libdb/sqlite3.c         assert( db-&gt;aDb[i].zName );</span>
<span class='curline'><a href='../S/185.html#L79393'>db</a>               79393 libdb/sqlite3.c         if( sqlite3StrICmp(db-&gt;aDb[i].zName,zDb)==0 ){</span>
<span class='curline'><a href='../S/185.html#L79394'>db</a>               79394 libdb/sqlite3.c           pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/185.html#L79632'>db</a>               79632 libdb/sqlite3.c   sqlite3ExprDelete(db, pExpr-&gt;pLeft);</span>
<span class='curline'><a href='../S/185.html#L79634'>db</a>               79634 libdb/sqlite3.c   sqlite3ExprDelete(db, pExpr-&gt;pRight);</span>
<span class='curline'><a href='../S/185.html#L79661'>db</a>               79661 libdb/sqlite3.c SQLITE_PRIVATE Expr *sqlite3CreateColumnExpr(sqlite3 *db, SrcList *pSrc, int iSrc, int iCol){</span>
<span class='curline'><a href='../S/185.html#L79662'>db</a>               79662 libdb/sqlite3.c   Expr *p = sqlite3ExprAlloc(db, TK_COLUMN, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L79820'>db</a>               79820 libdb/sqlite3.c       u8 enc = ENC(pParse-&gt;db);   /* The database encoding */</span>
<span class='curline'><a href='../S/185.html#L79826'>db</a>               79826 libdb/sqlite3.c       pDef = sqlite3FindFunction(pParse-&gt;db, zId, nId, n, enc, 0);</span>
<span class='curline'><a href='../S/185.html#L79828'>db</a>               79828 libdb/sqlite3.c         pDef = sqlite3FindFunction(pParse-&gt;db, zId, nId, -2, enc, 0);</span>
<span class='curline'><a href='../S/185.html#L79876'>db</a>               79876 libdb/sqlite3.c       }else if( no_such_func &amp;&amp; pParse-&gt;db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/185.html#L79932'>db</a>               79932 libdb/sqlite3.c   return (pParse-&gt;nErr || pParse-&gt;db-&gt;mallocFailed) ? WRC_Abort : WRC_Continue;</span>
<span class='curline'><a href='../S/185.html#L79994'>db</a>               79994 libdb/sqlite3.c   sqlite3 *db;       /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L80009'>db</a>               80009 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L80010'>db</a>               80010 libdb/sqlite3.c   savedSuppErr = db-&gt;suppressErr;</span>
<span class='curline'><a href='../S/185.html#L80011'>db</a>               80011 libdb/sqlite3.c   db-&gt;suppressErr = 1;</span>
<span class='curline'><a href='../S/185.html#L80013'>db</a>               80013 libdb/sqlite3.c   db-&gt;suppressErr = savedSuppErr;</span>
<span class='curline'><a href='../S/185.html#L80066'>db</a>               80066 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L80071'>db</a>               80071 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L80073'>db</a>               80073 libdb/sqlite3.c   if( pOrderBy-&gt;nExpr&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/185.html#L80104'>db</a>               80104 libdb/sqlite3.c           pDup = sqlite3ExprDup(db, pE, 0);</span>
<span class='curline'><a href='../S/185.html#L80105'>db</a>               80105 libdb/sqlite3.c           if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L80109'>db</a>               80109 libdb/sqlite3.c           sqlite3ExprDelete(db, pDup);</span>
<span class='curline'><a href='../S/185.html#L80115'>db</a>               80115 libdb/sqlite3.c         Expr *pNew = sqlite3Expr(db, TK_INTEGER, 0);</span>
<span class='curline'><a href='../S/185.html#L80126'>db</a>               80126 libdb/sqlite3.c         sqlite3ExprDelete(db, pE);</span>
<span class='curline'><a href='../S/185.html#L80162'>db</a>               80162 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L80166'>db</a>               80166 libdb/sqlite3.c   if( pOrderBy==0 || pParse-&gt;db-&gt;mallocFailed ) return 0;</span>
<span class='curline'><a href='../S/185.html#L80168'>db</a>               80168 libdb/sqlite3.c   if( pOrderBy-&gt;nExpr&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/185.html#L80273'>db</a>               80273 libdb/sqlite3.c   sqlite3 *db;            /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L80282'>db</a>               80282 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L80294'>db</a>               80294 libdb/sqlite3.c     return (pParse-&gt;nErr || db-&gt;mallocFailed) ? WRC_Abort : WRC_Prune;</span>
<span class='curline'><a href='../S/185.html#L80334'>db</a>               80334 libdb/sqlite3.c         if( pParse-&gt;nErr || db-&gt;mallocFailed ) return WRC_Abort;</span>
<span class='curline'><a href='../S/185.html#L80404'>db</a>               80404 libdb/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L80414'>db</a>               80414 libdb/sqlite3.c       if( resolveOrderGroupBy(&amp;sNC, p, pGroupBy, "GROUP") || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L80674'>db</a>               80674 libdb/sqlite3.c     Expr *pNew = sqlite3ExprAlloc(pParse-&gt;db, TK_COLLATE, pCollName, 1);</span>
<span class='curline'><a href='../S/185.html#L80720'>db</a>               80720 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L80731'>db</a>               80731 libdb/sqlite3.c       pColl = sqlite3GetCollSeq(pParse, ENC(db), 0, p-&gt;u.zToken);</span>
<span class='curline'><a href='../S/185.html#L80743'>db</a>               80743 libdb/sqlite3.c         pColl = sqlite3FindCollSeq(db, ENC(db), zColl, 0);</span>
<span class='curline'><a href='../S/185.html#L80904'>db</a>               80904 libdb/sqlite3.c   int mxHeight = pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_EXPR_DEPTH];</span>
<span class='curline'><a href='../S/185.html#L81014'>db</a>               81014 libdb/sqlite3.c   sqlite3 *db,            /* Handle for sqlite3DbMallocZero() (may be null) */</span>
<span class='curline'><a href='../S/185.html#L81030'>db</a>               81030 libdb/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(Expr)+nExtra);</span>
<span class='curline'><a href='../S/185.html#L81063'>db</a>               81063 libdb/sqlite3.c   sqlite3 *db,            /* Handle for sqlite3DbMallocZero() (may be null) */</span>
<span class='curline'><a href='../S/185.html#L81070'>db</a>               81070 libdb/sqlite3.c   return sqlite3ExprAlloc(db, op, &amp;x, 0);</span>
<span class='curline'><a href='../S/185.html#L81080'>db</a>               81080 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L81086'>db</a>               81086 libdb/sqlite3.c     assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L81087'>db</a>               81087 libdb/sqlite3.c     sqlite3ExprDelete(db, pLeft);</span>
<span class='curline'><a href='../S/185.html#L81088'>db</a>               81088 libdb/sqlite3.c     sqlite3ExprDelete(db, pRight);</span>
<span class='curline'><a href='../S/185.html#L81119'>db</a>               81119 libdb/sqlite3.c     p = sqlite3ExprAnd(pParse-&gt;db, pLeft, pRight);</span>
<span class='curline'><a href='../S/185.html#L81121'>db</a>               81121 libdb/sqlite3.c     p = sqlite3ExprAlloc(pParse-&gt;db, op, pToken, 1);</span>
<span class='curline'><a href='../S/185.html#L81122'>db</a>               81122 libdb/sqlite3.c     sqlite3ExprAttachSubtrees(pParse-&gt;db, p, pLeft, pRight);</span>
<span class='curline'><a href='../S/185.html#L81165'>db</a>               81165 libdb/sqlite3.c SQLITE_PRIVATE Expr *sqlite3ExprAnd(sqlite3 *db, Expr *pLeft, Expr *pRight){</span>
<span class='curline'><a href='../S/185.html#L81171'>db</a>               81171 libdb/sqlite3.c     sqlite3ExprDelete(db, pLeft);</span>
<span class='curline'><a href='../S/185.html#L81172'>db</a>               81172 libdb/sqlite3.c     sqlite3ExprDelete(db, pRight);</span>
<span class='curline'><a href='../S/185.html#L81173'>db</a>               81173 libdb/sqlite3.c     return sqlite3ExprAlloc(db, TK_INTEGER, &amp;sqlite3IntTokens[0], 0);</span>
<span class='curline'><a href='../S/185.html#L81175'>db</a>               81175 libdb/sqlite3.c     Expr *pNew = sqlite3ExprAlloc(db, TK_AND, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L81176'>db</a>               81176 libdb/sqlite3.c     sqlite3ExprAttachSubtrees(db, pNew, pLeft, pRight);</span>
<span class='curline'><a href='../S/185.html#L81187'>db</a>               81187 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L81189'>db</a>               81189 libdb/sqlite3.c   pNew = sqlite3ExprAlloc(db, TK_FUNCTION, pToken, 1);</span>
<span class='curline'><a href='../S/185.html#L81191'>db</a>               81191 libdb/sqlite3.c     sqlite3ExprListDelete(db, pList); /* Avoid memory leak when malloc fails */</span>
<span class='curline'><a href='../S/185.html#L81217'>db</a>               81217 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L81240'>db</a>               81240 libdb/sqlite3.c       testcase( i==db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER]-1 );</span>
<span class='curline'><a href='../S/185.html#L81241'>db</a>               81241 libdb/sqlite3.c       testcase( i==db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER] );</span>
<span class='curline'><a href='../S/185.html#L81242'>db</a>               81242 libdb/sqlite3.c       if( bOk==0 || i&lt;1 || i&gt;db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER] ){</span>
<span class='curline'><a href='../S/185.html#L81244'>db</a>               81244 libdb/sqlite3.c             db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER]);</span>
<span class='curline'><a href='../S/185.html#L81267'>db</a>               81267 libdb/sqlite3.c         a = sqlite3DbRealloc(db, pParse-&gt;azVar, x*sizeof(a[0]));</span>
<span class='curline'><a href='../S/185.html#L81274'>db</a>               81274 libdb/sqlite3.c         sqlite3DbFree(db, pParse-&gt;azVar[x-1]);</span>
<span class='curline'><a href='../S/185.html#L81275'>db</a>               81275 libdb/sqlite3.c         pParse-&gt;azVar[x-1] = sqlite3DbStrNDup(db, z, n);</span>
<span class='curline'><a href='../S/185.html#L81279'>db</a>               81279 libdb/sqlite3.c   if( !pParse-&gt;nErr &amp;&amp; pParse-&gt;nVar&gt;db-&gt;aLimit[SQLITE_LIMIT_VARIABLE_NUMBER] ){</span>
<span class='curline'><a href='../S/185.html#L81287'>db</a>               81287 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ExprDelete(sqlite3 *db, Expr *p){</span>
<span class='curline'><a href='../S/185.html#L81294'>db</a>               81294 libdb/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pLeft);</span>
<span class='curline'><a href='../S/185.html#L81295'>db</a>               81295 libdb/sqlite3.c     sqlite3ExprDelete(db, p-&gt;pRight);</span>
<span class='curline'><a href='../S/185.html#L81296'>db</a>               81296 libdb/sqlite3.c     if( ExprHasProperty(p, EP_MemToken) ) sqlite3DbFree(db, p-&gt;u.zToken);</span>
<span class='curline'><a href='../S/185.html#L81298'>db</a>               81298 libdb/sqlite3.c       sqlite3SelectDelete(db, p-&gt;x.pSelect);</span>
<span class='curline'><a href='../S/185.html#L81300'>db</a>               81300 libdb/sqlite3.c       sqlite3ExprListDelete(db, p-&gt;x.pList);</span>
<span class='curline'><a href='../S/185.html#L81304'>db</a>               81304 libdb/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L81420'>db</a>               81420 libdb/sqlite3.c static Expr *exprDup(sqlite3 *db, Expr *p, int flags, u8 **pzBuffer){</span>
<span class='curline'><a href='../S/185.html#L81434'>db</a>               81434 libdb/sqlite3.c       zAlloc = sqlite3DbMallocRaw(db, dupedExprSize(p, flags));</span>
<span class='curline'><a href='../S/185.html#L81475'>db</a>               81475 libdb/sqlite3.c           pNew-&gt;x.pSelect = sqlite3SelectDup(db, p-&gt;x.pSelect, isReduced);</span>
<span class='curline'><a href='../S/185.html#L81477'>db</a>               81477 libdb/sqlite3.c           pNew-&gt;x.pList = sqlite3ExprListDup(db, p-&gt;x.pList, isReduced);</span>
<span class='curline'><a href='../S/185.html#L81485'>db</a>               81485 libdb/sqlite3.c           pNew-&gt;pLeft = exprDup(db, p-&gt;pLeft, EXPRDUP_REDUCE, &amp;zAlloc);</span>
<span class='curline'><a href='../S/185.html#L81486'>db</a>               81486 libdb/sqlite3.c           pNew-&gt;pRight = exprDup(db, p-&gt;pRight, EXPRDUP_REDUCE, &amp;zAlloc);</span>
<span class='curline'><a href='../S/185.html#L81493'>db</a>               81493 libdb/sqlite3.c           pNew-&gt;pLeft = sqlite3ExprDup(db, p-&gt;pLeft, 0);</span>
<span class='curline'><a href='../S/185.html#L81494'>db</a>               81494 libdb/sqlite3.c           pNew-&gt;pRight = sqlite3ExprDup(db, p-&gt;pRight, 0);</span>
<span class='curline'><a href='../S/185.html#L81509'>db</a>               81509 libdb/sqlite3.c static With *withDup(sqlite3 *db, With *p){</span>
<span class='curline'><a href='../S/185.html#L81513'>db</a>               81513 libdb/sqlite3.c     pRet = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/185.html#L81518'>db</a>               81518 libdb/sqlite3.c         pRet-&gt;a[i].pSelect = sqlite3SelectDup(db, p-&gt;a[i].pSelect, 0);</span>
<span class='curline'><a href='../S/185.html#L81519'>db</a>               81519 libdb/sqlite3.c         pRet-&gt;a[i].pCols = sqlite3ExprListDup(db, p-&gt;a[i].pCols, 0);</span>
<span class='curline'><a href='../S/185.html#L81520'>db</a>               81520 libdb/sqlite3.c         pRet-&gt;a[i].zName = sqlite3DbStrDup(db, p-&gt;a[i].zName);</span>
<span class='curline'><a href='../S/185.html#L81547'>db</a>               81547 libdb/sqlite3.c SQLITE_PRIVATE Expr *sqlite3ExprDup(sqlite3 *db, Expr *p, int flags){</span>
<span class='curline'><a href='../S/185.html#L81548'>db</a>               81548 libdb/sqlite3.c   return exprDup(db, p, flags, 0);</span>
<span class='curline'><a href='../S/185.html#L81550'>db</a>               81550 libdb/sqlite3.c SQLITE_PRIVATE ExprList *sqlite3ExprListDup(sqlite3 *db, ExprList *p, int flags){</span>
<span class='curline'><a href='../S/185.html#L81555'>db</a>               81555 libdb/sqlite3.c   pNew = sqlite3DbMallocRaw(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/185.html#L81559'>db</a>               81559 libdb/sqlite3.c   pNew-&gt;a = pItem = sqlite3DbMallocRaw(db,  i*sizeof(p-&gt;a[0]) );</span>
<span class='curline'><a href='../S/185.html#L81561'>db</a>               81561 libdb/sqlite3.c     sqlite3DbFree(db, pNew);</span>
<span class='curline'><a href='../S/185.html#L81567'>db</a>               81567 libdb/sqlite3.c     pItem-&gt;pExpr = sqlite3ExprDup(db, pOldExpr, flags);</span>
<span class='curline'><a href='../S/185.html#L81568'>db</a>               81568 libdb/sqlite3.c     pItem-&gt;zName = sqlite3DbStrDup(db, pOldItem-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L81569'>db</a>               81569 libdb/sqlite3.c     pItem-&gt;zSpan = sqlite3DbStrDup(db, pOldItem-&gt;zSpan);</span>
<span class='curline'><a href='../S/185.html#L81586'>db</a>               81586 libdb/sqlite3.c SQLITE_PRIVATE SrcList *sqlite3SrcListDup(sqlite3 *db, SrcList *p, int flags){</span>
<span class='curline'><a href='../S/185.html#L81592'>db</a>               81592 libdb/sqlite3.c   pNew = sqlite3DbMallocRaw(db, nByte );</span>
<span class='curline'><a href='../S/185.html#L81600'>db</a>               81600 libdb/sqlite3.c     pNewItem-&gt;zDatabase = sqlite3DbStrDup(db, pOldItem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/185.html#L81601'>db</a>               81601 libdb/sqlite3.c     pNewItem-&gt;zName = sqlite3DbStrDup(db, pOldItem-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L81602'>db</a>               81602 libdb/sqlite3.c     pNewItem-&gt;zAlias = sqlite3DbStrDup(db, pOldItem-&gt;zAlias);</span>
<span class='curline'><a href='../S/185.html#L81610'>db</a>               81610 libdb/sqlite3.c     pNewItem-&gt;zIndex = sqlite3DbStrDup(db, pOldItem-&gt;zIndex);</span>
<span class='curline'><a href='../S/185.html#L81617'>db</a>               81617 libdb/sqlite3.c     pNewItem-&gt;pSelect = sqlite3SelectDup(db, pOldItem-&gt;pSelect, flags);</span>
<span class='curline'><a href='../S/185.html#L81618'>db</a>               81618 libdb/sqlite3.c     pNewItem-&gt;pOn = sqlite3ExprDup(db, pOldItem-&gt;pOn, flags);</span>
<span class='curline'><a href='../S/185.html#L81619'>db</a>               81619 libdb/sqlite3.c     pNewItem-&gt;pUsing = sqlite3IdListDup(db, pOldItem-&gt;pUsing);</span>
<span class='curline'><a href='../S/185.html#L81624'>db</a>               81624 libdb/sqlite3.c SQLITE_PRIVATE IdList *sqlite3IdListDup(sqlite3 *db, IdList *p){</span>
<span class='curline'><a href='../S/185.html#L81628'>db</a>               81628 libdb/sqlite3.c   pNew = sqlite3DbMallocRaw(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/185.html#L81631'>db</a>               81631 libdb/sqlite3.c   pNew-&gt;a = sqlite3DbMallocRaw(db, p-&gt;nId*sizeof(p-&gt;a[0]) );</span>
<span class='curline'><a href='../S/185.html#L81633'>db</a>               81633 libdb/sqlite3.c     sqlite3DbFree(db, pNew);</span>
<span class='curline'><a href='../S/185.html#L81642'>db</a>               81642 libdb/sqlite3.c     pNewItem-&gt;zName = sqlite3DbStrDup(db, pOldItem-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L81647'>db</a>               81647 libdb/sqlite3.c SQLITE_PRIVATE Select *sqlite3SelectDup(sqlite3 *db, Select *p, int flags){</span>
<span class='curline'><a href='../S/185.html#L81650'>db</a>               81650 libdb/sqlite3.c   pNew = sqlite3DbMallocRaw(db, sizeof(*p) );</span>
<span class='curline'><a href='../S/185.html#L81652'>db</a>               81652 libdb/sqlite3.c   pNew-&gt;pEList = sqlite3ExprListDup(db, p-&gt;pEList, flags);</span>
<span class='curline'><a href='../S/185.html#L81653'>db</a>               81653 libdb/sqlite3.c   pNew-&gt;pSrc = sqlite3SrcListDup(db, p-&gt;pSrc, flags);</span>
<span class='curline'><a href='../S/185.html#L81654'>db</a>               81654 libdb/sqlite3.c   pNew-&gt;pWhere = sqlite3ExprDup(db, p-&gt;pWhere, flags);</span>
<span class='curline'><a href='../S/185.html#L81655'>db</a>               81655 libdb/sqlite3.c   pNew-&gt;pGroupBy = sqlite3ExprListDup(db, p-&gt;pGroupBy, flags);</span>
<span class='curline'><a href='../S/185.html#L81656'>db</a>               81656 libdb/sqlite3.c   pNew-&gt;pHaving = sqlite3ExprDup(db, p-&gt;pHaving, flags);</span>
<span class='curline'><a href='../S/185.html#L81657'>db</a>               81657 libdb/sqlite3.c   pNew-&gt;pOrderBy = sqlite3ExprListDup(db, p-&gt;pOrderBy, flags);</span>
<span class='curline'><a href='../S/185.html#L81659'>db</a>               81659 libdb/sqlite3.c   pNew-&gt;pPrior = pPrior = sqlite3SelectDup(db, p-&gt;pPrior, flags);</span>
<span class='curline'><a href='../S/185.html#L81662'>db</a>               81662 libdb/sqlite3.c   pNew-&gt;pLimit = sqlite3ExprDup(db, p-&gt;pLimit, flags);</span>
<span class='curline'><a href='../S/185.html#L81663'>db</a>               81663 libdb/sqlite3.c   pNew-&gt;pOffset = sqlite3ExprDup(db, p-&gt;pOffset, flags);</span>
<span class='curline'><a href='../S/185.html#L81670'>db</a>               81670 libdb/sqlite3.c   pNew-&gt;pWith = withDup(db, p-&gt;pWith);</span>
<span class='curline'><a href='../S/185.html#L81675'>db</a>               81675 libdb/sqlite3.c SQLITE_PRIVATE Select *sqlite3SelectDup(sqlite3 *db, Select *p, int flags){</span>
<span class='curline'><a href='../S/185.html#L81695'>db</a>               81695 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L81697'>db</a>               81697 libdb/sqlite3.c     pList = sqlite3DbMallocZero(db, sizeof(ExprList) );</span>
<span class='curline'><a href='../S/185.html#L81701'>db</a>               81701 libdb/sqlite3.c     pList-&gt;a = sqlite3DbMallocRaw(db, sizeof(pList-&gt;a[0]));</span>
<span class='curline'><a href='../S/185.html#L81706'>db</a>               81706 libdb/sqlite3.c     a = sqlite3DbRealloc(db, pList-&gt;a, pList-&gt;nExpr*2*sizeof(pList-&gt;a[0]));</span>
<span class='curline'><a href='../S/185.html#L81722'>db</a>               81722 libdb/sqlite3.c   sqlite3ExprDelete(db, pExpr);</span>
<span class='curline'><a href='../S/185.html#L81723'>db</a>               81723 libdb/sqlite3.c   sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L81741'>db</a>               81741 libdb/sqlite3.c   assert( pList!=0 || pParse-&gt;db-&gt;mallocFailed!=0 );</span>
<span class='curline'><a href='../S/185.html#L81747'>db</a>               81747 libdb/sqlite3.c     pItem-&gt;zName = sqlite3DbStrNDup(pParse-&gt;db, pName-&gt;z, pName-&gt;n);</span>
<span class='curline'><a href='../S/185.html#L81765'>db</a>               81765 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L81766'>db</a>               81766 libdb/sqlite3.c   assert( pList!=0 || db-&gt;mallocFailed!=0 );</span>
<span class='curline'><a href='../S/185.html#L81770'>db</a>               81770 libdb/sqlite3.c     assert( db-&gt;mallocFailed || pItem-&gt;pExpr==pSpan-&gt;pExpr );</span>
<span class='curline'><a href='../S/185.html#L81771'>db</a>               81771 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zSpan);</span>
<span class='curline'><a href='../S/185.html#L81772'>db</a>               81772 libdb/sqlite3.c     pItem-&gt;zSpan = sqlite3DbStrNDup(db, (char*)pSpan-&gt;zStart,</span>
<span class='curline'><a href='../S/185.html#L81786'>db</a>               81786 libdb/sqlite3.c   int mx = pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN];</span>
<span class='curline'><a href='../S/185.html#L81797'>db</a>               81797 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ExprListDelete(sqlite3 *db, ExprList *pList){</span>
<span class='curline'><a href='../S/185.html#L81803'>db</a>               81803 libdb/sqlite3.c     sqlite3ExprDelete(db, pItem-&gt;pExpr);</span>
<span class='curline'><a href='../S/185.html#L81804'>db</a>               81804 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L81805'>db</a>               81805 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zSpan);</span>
<span class='curline'><a href='../S/185.html#L81807'>db</a>               81807 libdb/sqlite3.c   sqlite3DbFree(db, pList-&gt;a);</span>
<span class='curline'><a href='../S/185.html#L81808'>db</a>               81808 libdb/sqlite3.c   sqlite3DbFree(db, pList);</span>
<span class='curline'><a href='../S/185.html#L82224'>db</a>               82224 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;              /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L82239'>db</a>               82239 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L82272'>db</a>               82272 libdb/sqlite3.c          &amp;&amp; sqlite3FindCollSeq(db, ENC(db), pIdx-&gt;azColl[0], 0)==pReq</span>
<span class='curline'><a href='../S/185.html#L82389'>db</a>               82389 libdb/sqlite3.c         pParse-&gt;db, "EXECUTE %s%s SUBQUERY %d", jmpIfDynamic&gt;=0?"":"CORRELATED ",</span>
<span class='curline'><a href='../S/185.html#L82420'>db</a>               82420 libdb/sqlite3.c       pKeyInfo = isRowid ? 0 : sqlite3KeyInfoAlloc(pParse-&gt;db, 1, 1);</span>
<span class='curline'><a href='../S/185.html#L82545'>db</a>               82545 libdb/sqlite3.c       sqlite3ExprDelete(pParse-&gt;db, pSel-&gt;pLimit);</span>
<span class='curline'><a href='../S/185.html#L82844'>db</a>               82844 libdb/sqlite3.c   if( OptimizationDisabled(pParse-&gt;db, SQLITE_ColumnCache) ) return;</span>
<span class='curline'><a href='../S/185.html#L82916'>db</a>               82916 libdb/sqlite3.c   if( pParse-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/185.html#L82933'>db</a>               82933 libdb/sqlite3.c   if( pParse-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/185.html#L83032'>db</a>               83032 libdb/sqlite3.c   if( pParse-&gt;db-&gt;flags &amp; SQLITE_VdbeAddopTrace ){</span>
<span class='curline'><a href='../S/185.html#L83109'>db</a>               83109 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L83114'>db</a>               83114 libdb/sqlite3.c     assert( pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L83356'>db</a>               83356 libdb/sqlite3.c       u8 enc = ENC(db);      /* The text encoding used by this database */</span>
<span class='curline'><a href='../S/185.html#L83369'>db</a>               83369 libdb/sqlite3.c       pDef = sqlite3FindFunction(db, zId, nId, nFarg, enc, 0);</span>
<span class='curline'><a href='../S/185.html#L83461'>db</a>               83461 libdb/sqlite3.c         pDef = sqlite3VtabOverloadFunction(db, pDef, nFarg, pFarg-&gt;a[1].pExpr);</span>
<span class='curline'><a href='../S/185.html#L83463'>db</a>               83463 libdb/sqlite3.c         pDef = sqlite3VtabOverloadFunction(db, pDef, nFarg, pFarg-&gt;a[0].pExpr);</span>
<span class='curline'><a href='../S/185.html#L83467'>db</a>               83467 libdb/sqlite3.c         if( !pColl ) pColl = db-&gt;pDfltColl; </span>
<span class='curline'><a href='../S/185.html#L83673'>db</a>               83673 libdb/sqlite3.c       assert( db-&gt;mallocFailed || pParse-&gt;nErr&gt;0 </span>
<span class='curline'><a href='../S/185.html#L83724'>db</a>               83724 libdb/sqlite3.c   pExpr = sqlite3ExprDup(pParse-&gt;db, pExpr, 0);</span>
<span class='curline'><a href='../S/185.html#L83793'>db</a>               83793 libdb/sqlite3.c     assert( pParse-&gt;pVdbe || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L84683'>db</a>               84683 libdb/sqlite3.c static int addAggInfoColumn(sqlite3 *db, AggInfo *pInfo){</span>
<span class='curline'><a href='../S/185.html#L84686'>db</a>               84686 libdb/sqlite3.c        db,</span>
<span class='curline'><a href='../S/185.html#L84699'>db</a>               84699 libdb/sqlite3.c static int addAggInfoFunc(sqlite3 *db, AggInfo *pInfo){</span>
<span class='curline'><a href='../S/185.html#L84702'>db</a>               84702 libdb/sqlite3.c        db, </span>
<span class='curline'><a href='../S/185.html#L84751'>db</a>               84751 libdb/sqlite3.c              &amp;&amp; (k = addAggInfoColumn(pParse-&gt;db, pAggInfo))&gt;=0 </span>
<span class='curline'><a href='../S/185.html#L84809'>db</a>               84809 libdb/sqlite3.c           u8 enc = ENC(pParse-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L84810'>db</a>               84810 libdb/sqlite3.c           i = addAggInfoFunc(pParse-&gt;db, pAggInfo);</span>
<span class='curline'><a href='../S/185.html#L84817'>db</a>               84817 libdb/sqlite3.c             pItem-&gt;pFunc = sqlite3FindFunction(pParse-&gt;db,</span>
<span class='curline'><a href='../S/185.html#L84998'>db</a>               84998 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L85027'>db</a>               85027 libdb/sqlite3.c     zRet = sqlite3MPrintf(db, "%.*s\"%w\"%s", (int)(((u8*)tname.z) - zSql),</span>
<span class='curline'><a href='../S/185.html#L85054'>db</a>               85054 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L85076'>db</a>               85076 libdb/sqlite3.c       zParent = sqlite3DbStrNDup(db, (const char *)z, n);</span>
<span class='curline'><a href='../S/185.html#L85080'>db</a>               85080 libdb/sqlite3.c         char *zOut = sqlite3MPrintf(db, "%s%.*s\"%w\"", </span>
<span class='curline'><a href='../S/185.html#L85083'>db</a>               85083 libdb/sqlite3.c         sqlite3DbFree(db, zOutput);</span>
<span class='curline'><a href='../S/185.html#L85087'>db</a>               85087 libdb/sqlite3.c       sqlite3DbFree(db, zParent);</span>
<span class='curline'><a href='../S/185.html#L85091'>db</a>               85091 libdb/sqlite3.c   zResult = sqlite3MPrintf(db, "%s%s", (zOutput?zOutput:""), zInput), </span>
<span class='curline'><a href='../S/185.html#L85093'>db</a>               85093 libdb/sqlite3.c   sqlite3DbFree(db, zOutput);</span>
<span class='curline'><a href='../S/185.html#L85119'>db</a>               85119 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L85167'>db</a>               85167 libdb/sqlite3.c     zRet = sqlite3MPrintf(db, "%.*s\"%w\"%s", (int)(((u8*)tname.z) - zSql),</span>
<span class='curline'><a href='../S/185.html#L85212'>db</a>               85212 libdb/sqlite3.c static char *whereOrName(sqlite3 *db, char *zWhere, char *zConstant){</span>
<span class='curline'><a href='../S/185.html#L85215'>db</a>               85215 libdb/sqlite3.c     zNew = sqlite3MPrintf(db, "name=%Q", zConstant);</span>
<span class='curline'><a href='../S/185.html#L85217'>db</a>               85217 libdb/sqlite3.c     zNew = sqlite3MPrintf(db, "%s OR name=%Q", zWhere, zConstant);</span>
<span class='curline'><a href='../S/185.html#L85218'>db</a>               85218 libdb/sqlite3.c     sqlite3DbFree(db, zWhere);</span>
<span class='curline'><a href='../S/185.html#L85234'>db</a>               85234 libdb/sqlite3.c     zWhere = whereOrName(pParse-&gt;db, zWhere, p-&gt;pFrom-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L85249'>db</a>               85249 libdb/sqlite3.c   const Schema *pTempSchema = pParse-&gt;db-&gt;aDb[1].pSchema; /* Temp db schema */</span>
<span class='curline'><a href='../S/185.html#L85257'>db</a>               85257 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L85260'>db</a>               85260 libdb/sqlite3.c         zWhere = whereOrName(db, zWhere, pTrig-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L85265'>db</a>               85265 libdb/sqlite3.c     char *zNew = sqlite3MPrintf(pParse-&gt;db, "type='trigger' AND (%s)", zWhere);</span>
<span class='curline'><a href='../S/185.html#L85266'>db</a>               85266 libdb/sqlite3.c     sqlite3DbFree(pParse-&gt;db, zWhere);</span>
<span class='curline'><a href='../S/185.html#L85290'>db</a>               85290 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/185.html#L85291'>db</a>               85291 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85297'>db</a>               85297 libdb/sqlite3.c     int iTrigDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85307'>db</a>               85307 libdb/sqlite3.c   zWhere = sqlite3MPrintf(pParse-&gt;db, "tbl_name=%Q", zName);</span>
<span class='curline'><a href='../S/185.html#L85350'>db</a>               85350 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L85360'>db</a>               85360 libdb/sqlite3.c   savedDbFlags = db-&gt;flags;  </span>
<span class='curline'><a href='../S/185.html#L85361'>db</a>               85361 libdb/sqlite3.c   if( NEVER(db-&gt;mallocFailed) ) goto exit_rename_table;</span>
<span class='curline'><a href='../S/185.html#L85363'>db</a>               85363 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/185.html#L85367'>db</a>               85367 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85368'>db</a>               85368 libdb/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L85369'>db</a>               85369 libdb/sqlite3.c   db-&gt;flags |= SQLITE_PreferBuiltin;</span>
<span class='curline'><a href='../S/185.html#L85372'>db</a>               85372 libdb/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/185.html#L85378'>db</a>               85378 libdb/sqlite3.c   if( sqlite3FindTable(db, zName, zDb) || sqlite3FindIndex(db, zName, zDb) ){</span>
<span class='curline'><a href='../S/185.html#L85413'>db</a>               85413 libdb/sqlite3.c     pVTab = sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L85451'>db</a>               85451 libdb/sqlite3.c   if( db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/185.html#L85460'>db</a>               85460 libdb/sqlite3.c       sqlite3DbFree(db, zWhere);</span>
<span class='curline'><a href='../S/185.html#L85494'>db</a>               85494 libdb/sqlite3.c   if( sqlite3FindTable(db, "sqlite_sequence", zDb) ){</span>
<span class='curline'><a href='../S/185.html#L85512'>db</a>               85512 libdb/sqlite3.c     sqlite3DbFree(db, zWhere);</span>
<span class='curline'><a href='../S/185.html#L85517'>db</a>               85517 libdb/sqlite3.c   if( db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/185.html#L85532'>db</a>               85532 libdb/sqlite3.c   sqlite3SrcListDelete(db, pSrc);</span>
<span class='curline'><a href='../S/185.html#L85533'>db</a>               85533 libdb/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L85534'>db</a>               85534 libdb/sqlite3.c   db-&gt;flags = savedDbFlags;</span>
<span class='curline'><a href='../S/185.html#L85581'>db</a>               85581 libdb/sqlite3.c   sqlite3 *db;              /* The database connection; */</span>
<span class='curline'><a href='../S/185.html#L85583'>db</a>               85583 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L85584'>db</a>               85584 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L85588'>db</a>               85588 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L85589'>db</a>               85589 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pNew-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85590'>db</a>               85590 libdb/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L85594'>db</a>               85594 libdb/sqlite3.c   pTab = sqlite3FindTable(db, zTab, zDb);</span>
<span class='curline'><a href='../S/185.html#L85624'>db</a>               85624 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_ForeignKeys) &amp;&amp; pNew-&gt;pFKey &amp;&amp; pDflt ){</span>
<span class='curline'><a href='../S/185.html#L85640'>db</a>               85640 libdb/sqlite3.c     if( sqlite3ValueFromExpr(db, pDflt, SQLITE_UTF8, SQLITE_AFF_NONE, &amp;pVal) ){</span>
<span class='curline'><a href='../S/185.html#L85641'>db</a>               85641 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L85652'>db</a>               85652 libdb/sqlite3.c   zCol = sqlite3DbStrNDup(db, (char*)pColDef-&gt;z, pColDef-&gt;n);</span>
<span class='curline'><a href='../S/185.html#L85655'>db</a>               85655 libdb/sqlite3.c     int savedDbFlags = db-&gt;flags;</span>
<span class='curline'><a href='../S/185.html#L85659'>db</a>               85659 libdb/sqlite3.c     db-&gt;flags |= SQLITE_PreferBuiltin;</span>
<span class='curline'><a href='../S/185.html#L85667'>db</a>               85667 libdb/sqlite3.c     sqlite3DbFree(db, zCol);</span>
<span class='curline'><a href='../S/185.html#L85668'>db</a>               85668 libdb/sqlite3.c     db-&gt;flags = savedDbFlags;</span>
<span class='curline'><a href='../S/185.html#L85703'>db</a>               85703 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L85707'>db</a>               85707 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L85708'>db</a>               85708 libdb/sqlite3.c   if( db-&gt;mallocFailed ) goto exit_begin_add_column;</span>
<span class='curline'><a href='../S/185.html#L85729'>db</a>               85729 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L85738'>db</a>               85738 libdb/sqlite3.c   pNew = (Table*)sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/185.html#L85746'>db</a>               85746 libdb/sqlite3.c   pNew-&gt;aCol = (Column*)sqlite3DbMallocZero(db, sizeof(Column)*nAlloc);</span>
<span class='curline'><a href='../S/185.html#L85747'>db</a>               85747 libdb/sqlite3.c   pNew-&gt;zName = sqlite3MPrintf(db, "sqlite_altertab_%s", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L85749'>db</a>               85749 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L85755'>db</a>               85755 libdb/sqlite3.c     pCol-&gt;zName = sqlite3DbStrDup(db, pCol-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L85761'>db</a>               85761 libdb/sqlite3.c   pNew-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L85772'>db</a>               85772 libdb/sqlite3.c   sqlite3SrcListDelete(db, pSrc);</span>
<span class='curline'><a href='../S/185.html#L85973'>db</a>               85973 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L85980'>db</a>               85980 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L85981'>db</a>               85981 libdb/sqlite3.c   assert( sqlite3VdbeDb(v)==db );</span>
<span class='curline'><a href='../S/185.html#L85982'>db</a>               85982 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L85990'>db</a>               85990 libdb/sqlite3.c     if( (pStat = sqlite3FindTable(db, zTab, pDb-&gt;zName))==0 ){</span>
<span class='curline'><a href='../S/185.html#L86072'>db</a>               86072 libdb/sqlite3.c   sqlite3 *db;              /* Database connection, for malloc() */</span>
<span class='curline'><a href='../S/185.html#L86078'>db</a>               86078 libdb/sqlite3.c static void sampleClear(sqlite3 *db, Stat4Sample *p){</span>
<span class='curline'><a href='../S/185.html#L86079'>db</a>               86079 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L86081'>db</a>               86081 libdb/sqlite3.c     sqlite3DbFree(db, p-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/185.html#L86090'>db</a>               86090 libdb/sqlite3.c static void sampleSetRowid(sqlite3 *db, Stat4Sample *p, int n, const u8 *pData){</span>
<span class='curline'><a href='../S/185.html#L86091'>db</a>               86091 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L86092'>db</a>               86092 libdb/sqlite3.c   if( p-&gt;nRowid ) sqlite3DbFree(db, p-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/185.html#L86093'>db</a>               86093 libdb/sqlite3.c   p-&gt;u.aRowid = sqlite3DbMallocRaw(db, n);</span>
<span class='curline'><a href='../S/185.html#L86106'>db</a>               86106 libdb/sqlite3.c static void sampleSetRowidInt64(sqlite3 *db, Stat4Sample *p, i64 iRowid){</span>
<span class='curline'><a href='../S/185.html#L86107'>db</a>               86107 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L86108'>db</a>               86108 libdb/sqlite3.c   if( p-&gt;nRowid ) sqlite3DbFree(db, p-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/185.html#L86127'>db</a>               86127 libdb/sqlite3.c     sampleSetRowid(p-&gt;db, pTo, pFrom-&gt;nRowid, pFrom-&gt;u.aRowid);</span>
<span class='curline'><a href='../S/185.html#L86129'>db</a>               86129 libdb/sqlite3.c     sampleSetRowidInt64(p-&gt;db, pTo, pFrom-&gt;u.iRowid);</span>
<span class='curline'><a href='../S/185.html#L86141'>db</a>               86141 libdb/sqlite3.c   for(i=0; i&lt;p-&gt;nCol; i++) sampleClear(p-&gt;db, p-&gt;aBest+i);</span>
<span class='curline'><a href='../S/185.html#L86142'>db</a>               86142 libdb/sqlite3.c   for(i=0; i&lt;p-&gt;mxSample; i++) sampleClear(p-&gt;db, p-&gt;a+i);</span>
<span class='curline'><a href='../S/185.html#L86143'>db</a>               86143 libdb/sqlite3.c   sampleClear(p-&gt;db, &amp;p-&gt;current);</span>
<span class='curline'><a href='../S/185.html#L86145'>db</a>               86145 libdb/sqlite3.c   sqlite3DbFree(p-&gt;db, p);</span>
<span class='curline'><a href='../S/185.html#L86181'>db</a>               86181 libdb/sqlite3.c   sqlite3 *db;                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L86205'>db</a>               86205 libdb/sqlite3.c   db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L86206'>db</a>               86206 libdb/sqlite3.c   p = sqlite3DbMallocZero(db, n);</span>
<span class='curline'><a href='../S/185.html#L86212'>db</a>               86212 libdb/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L86370'>db</a>               86370 libdb/sqlite3.c     sampleClear(p-&gt;db, pMin);</span>
<span class='curline'><a href='../S/185.html#L86524'>db</a>               86524 libdb/sqlite3.c     sampleSetRowidInt64(p-&gt;db, &amp;p-&gt;current, sqlite3_value_int64(argv[2]));</span>
<span class='curline'><a href='../S/185.html#L86526'>db</a>               86526 libdb/sqlite3.c     sampleSetRowid(p-&gt;db, &amp;p-&gt;current, sqlite3_value_bytes(argv[2]),</span>
<span class='curline'><a href='../S/185.html#L86740'>db</a>               86740 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;    /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L86774'>db</a>               86774 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L86775'>db</a>               86775 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L86777'>db</a>               86777 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L86780'>db</a>               86780 libdb/sqlite3.c       db-&gt;aDb[iDb].zName ) ){</span>
<span class='curline'><a href='../S/185.html#L86858'>db</a>               86858 libdb/sqlite3.c     assert( iDb==sqlite3SchemaToIndex(db, pIdx-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L86898'>db</a>               86898 libdb/sqlite3.c       aGotoChng = sqlite3DbMallocRaw(db, sizeof(int)*nColTest);</span>
<span class='curline'><a href='../S/185.html#L86946'>db</a>               86946 libdb/sqlite3.c       sqlite3DbFree(db, aGotoChng);</span>
<span class='curline'><a href='../S/185.html#L87070'>db</a>               87070 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L87071'>db</a>               87071 libdb/sqlite3.c   Schema *pSchema = db-&gt;aDb[iDb].pSchema;    /* Schema of database iDb */</span>
<span class='curline'><a href='../S/185.html#L87083'>db</a>               87083 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L87101'>db</a>               87101 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/185.html#L87102'>db</a>               87102 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L87128'>db</a>               87128 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L87139'>db</a>               87139 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(pParse-&gt;db) );</span>
<span class='curline'><a href='../S/185.html#L87147'>db</a>               87147 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L87153'>db</a>               87153 libdb/sqlite3.c     iDb = sqlite3FindDb(db, pName1);</span>
<span class='curline'><a href='../S/185.html#L87157'>db</a>               87157 libdb/sqlite3.c       z = sqlite3NameFromToken(db, pName1);</span>
<span class='curline'><a href='../S/185.html#L87159'>db</a>               87159 libdb/sqlite3.c         if( (pIdx = sqlite3FindIndex(db, z, 0))!=0 ){</span>
<span class='curline'><a href='../S/185.html#L87164'>db</a>               87164 libdb/sqlite3.c         sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L87171'>db</a>               87171 libdb/sqlite3.c       zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L87172'>db</a>               87172 libdb/sqlite3.c       z = sqlite3NameFromToken(db, pTableName);</span>
<span class='curline'><a href='../S/185.html#L87174'>db</a>               87174 libdb/sqlite3.c         if( (pIdx = sqlite3FindIndex(db, z, zDb))!=0 ){</span>
<span class='curline'><a href='../S/185.html#L87179'>db</a>               87179 libdb/sqlite3.c         sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L87193'>db</a>               87193 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L87280'>db</a>               87280 libdb/sqlite3.c   pTable = sqlite3FindTable(pInfo-&gt;db, argv[0], pInfo-&gt;zDatabase);</span>
<span class='curline'><a href='../S/185.html#L87289'>db</a>               87289 libdb/sqlite3.c     pIndex = sqlite3FindIndex(pInfo-&gt;db, argv[1], pInfo-&gt;zDatabase);</span>
<span class='curline'><a href='../S/185.html#L87299'>db</a>               87299 libdb/sqlite3.c     if( aiRowEst==0 ) pInfo-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L87323'>db</a>               87323 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteIndexSamples(sqlite3 *db, Index *pIdx){</span>
<span class='curline'><a href='../S/185.html#L87329'>db</a>               87329 libdb/sqlite3.c       sqlite3DbFree(db, p-&gt;p);</span>
<span class='curline'><a href='../S/185.html#L87331'>db</a>               87331 libdb/sqlite3.c     sqlite3DbFree(db, pIdx-&gt;aSample);</span>
<span class='curline'><a href='../S/185.html#L87333'>db</a>               87333 libdb/sqlite3.c   if( db &amp;&amp; db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/185.html#L87338'>db</a>               87338 libdb/sqlite3.c   UNUSED_PARAMETER(db);</span>
<span class='curline'><a href='../S/185.html#L87407'>db</a>               87407 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L87411'>db</a>               87411 libdb/sqlite3.c   Index *pIdx = sqlite3FindIndex(db, zName, zDb);</span>
<span class='curline'><a href='../S/185.html#L87413'>db</a>               87413 libdb/sqlite3.c     Table *pTab = sqlite3FindTable(db, zName, zDb);</span>
<span class='curline'><a href='../S/185.html#L87433'>db</a>               87433 libdb/sqlite3.c   sqlite3 *db,                  /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L87445'>db</a>               87445 libdb/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/185.html#L87446'>db</a>               87446 libdb/sqlite3.c   zSql = sqlite3MPrintf(db, zSql1, zDb);</span>
<span class='curline'><a href='../S/185.html#L87450'>db</a>               87450 libdb/sqlite3.c   rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L87451'>db</a>               87451 libdb/sqlite3.c   sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/185.html#L87467'>db</a>               87467 libdb/sqlite3.c     pIdx = findIndexOrPrimaryKey(db, zIndex, zDb);</span>
<span class='curline'><a href='../S/185.html#L87485'>db</a>               87485 libdb/sqlite3.c     pIdx-&gt;aSample = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/185.html#L87502'>db</a>               87502 libdb/sqlite3.c   zSql = sqlite3MPrintf(db, zSql2, zDb);</span>
<span class='curline'><a href='../S/185.html#L87506'>db</a>               87506 libdb/sqlite3.c   rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L87507'>db</a>               87507 libdb/sqlite3.c   sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/185.html#L87517'>db</a>               87517 libdb/sqlite3.c     pIdx = findIndexOrPrimaryKey(db, zIndex, zDb);</span>
<span class='curline'><a href='../S/185.html#L87539'>db</a>               87539 libdb/sqlite3.c     pSample-&gt;p = sqlite3DbMallocZero(db, pSample-&gt;n + 2);</span>
<span class='curline'><a href='../S/185.html#L87556'>db</a>               87556 libdb/sqlite3.c static int loadStat4(sqlite3 *db, const char *zDb){</span>
<span class='curline'><a href='../S/185.html#L87559'>db</a>               87559 libdb/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/185.html#L87560'>db</a>               87560 libdb/sqlite3.c   if( sqlite3FindTable(db, "sqlite_stat4", zDb) ){</span>
<span class='curline'><a href='../S/185.html#L87561'>db</a>               87561 libdb/sqlite3.c     rc = loadStatTbl(db, 0,</span>
<span class='curline'><a href='../S/185.html#L87568'>db</a>               87568 libdb/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; sqlite3FindTable(db, "sqlite_stat3", zDb) ){</span>
<span class='curline'><a href='../S/185.html#L87569'>db</a>               87569 libdb/sqlite3.c     rc = loadStatTbl(db, 1,</span>
<span class='curline'><a href='../S/185.html#L87600'>db</a>               87600 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3AnalysisLoad(sqlite3 *db, int iDb){</span>
<span class='curline'><a href='../S/185.html#L87606'>db</a>               87606 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L87607'>db</a>               87607 libdb/sqlite3.c   assert( db-&gt;aDb[iDb].pBt!=0 );</span>
<span class='curline'><a href='../S/185.html#L87610'>db</a>               87610 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L87611'>db</a>               87611 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash);i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L87615'>db</a>               87615 libdb/sqlite3.c     sqlite3DeleteIndexSamples(db, pIdx);</span>
<span class='curline'><a href='../S/185.html#L87621'>db</a>               87621 libdb/sqlite3.c   sInfo.db = db;</span>
<span class='curline'><a href='../S/185.html#L87622'>db</a>               87622 libdb/sqlite3.c   sInfo.zDatabase = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L87623'>db</a>               87623 libdb/sqlite3.c   if( sqlite3FindTable(db, "sqlite_stat1", sInfo.zDatabase)==0 ){</span>
<span class='curline'><a href='../S/185.html#L87628'>db</a>               87628 libdb/sqlite3.c   zSql = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/185.html#L87633'>db</a>               87633 libdb/sqlite3.c     rc = sqlite3_exec(db, zSql, analysisLoader, &amp;sInfo, 0);</span>
<span class='curline'><a href='../S/185.html#L87634'>db</a>               87634 libdb/sqlite3.c     sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/185.html#L87641'>db</a>               87641 libdb/sqlite3.c     int lookasideEnabled = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L87642'>db</a>               87642 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L87643'>db</a>               87643 libdb/sqlite3.c     rc = loadStat4(db, sInfo.zDatabase);</span>
<span class='curline'><a href='../S/185.html#L87644'>db</a>               87644 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = lookasideEnabled;</span>
<span class='curline'><a href='../S/185.html#L87646'>db</a>               87646 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash);i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L87654'>db</a>               87654 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L87728'>db</a>               87728 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L87751'>db</a>               87751 libdb/sqlite3.c   if( db-&gt;nDb&gt;=db-&gt;aLimit[SQLITE_LIMIT_ATTACHED]+2 ){</span>
<span class='curline'><a href='../S/185.html#L87752'>db</a>               87752 libdb/sqlite3.c     zErrDyn = sqlite3MPrintf(db, "too many attached databases - max %d", </span>
<span class='curline'><a href='../S/185.html#L87753'>db</a>               87753 libdb/sqlite3.c       db-&gt;aLimit[SQLITE_LIMIT_ATTACHED]</span>
<span class='curline'><a href='../S/185.html#L87757'>db</a>               87757 libdb/sqlite3.c   if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L87758'>db</a>               87758 libdb/sqlite3.c     zErrDyn = sqlite3MPrintf(db, "cannot ATTACH database within transaction");</span>
<span class='curline'><a href='../S/185.html#L87761'>db</a>               87761 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L87762'>db</a>               87762 libdb/sqlite3.c     char *z = db-&gt;aDb[i].zName;</span>
<span class='curline'><a href='../S/185.html#L87765'>db</a>               87765 libdb/sqlite3.c       zErrDyn = sqlite3MPrintf(db, "database %s is already in use", zName);</span>
<span class='curline'><a href='../S/185.html#L87773'>db</a>               87773 libdb/sqlite3.c   if( db-&gt;aDb==db-&gt;aDbStatic ){</span>
<span class='curline'><a href='../S/185.html#L87774'>db</a>               87774 libdb/sqlite3.c     aNew = sqlite3DbMallocRaw(db, sizeof(db-&gt;aDb[0])*3 );</span>
<span class='curline'><a href='../S/185.html#L87776'>db</a>               87776 libdb/sqlite3.c     memcpy(aNew, db-&gt;aDb, sizeof(db-&gt;aDb[0])*2);</span>
<span class='curline'><a href='../S/185.html#L87778'>db</a>               87778 libdb/sqlite3.c     aNew = sqlite3DbRealloc(db, db-&gt;aDb, sizeof(db-&gt;aDb[0])*(db-&gt;nDb+1) );</span>
<span class='curline'><a href='../S/185.html#L87781'>db</a>               87781 libdb/sqlite3.c   db-&gt;aDb = aNew;</span>
<span class='curline'><a href='../S/185.html#L87782'>db</a>               87782 libdb/sqlite3.c   aNew = &amp;db-&gt;aDb[db-&gt;nDb];</span>
<span class='curline'><a href='../S/185.html#L87789'>db</a>               87789 libdb/sqlite3.c   flags = db-&gt;openFlags;</span>
<span class='curline'><a href='../S/185.html#L87790'>db</a>               87790 libdb/sqlite3.c   rc = sqlite3ParseUri(db-&gt;pVfs-&gt;zName, zFile, &amp;flags, &amp;pVfs, &amp;zPath, &amp;zErr);</span>
<span class='curline'><a href='../S/185.html#L87792'>db</a>               87792 libdb/sqlite3.c     if( rc==SQLITE_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L87799'>db</a>               87799 libdb/sqlite3.c   rc = sqlite3BtreeOpen(pVfs, zPath, db, &amp;aNew-&gt;pBt, 0, flags);</span>
<span class='curline'><a href='../S/185.html#L87801'>db</a>               87801 libdb/sqlite3.c   db-&gt;nDb++;</span>
<span class='curline'><a href='../S/185.html#L87804'>db</a>               87804 libdb/sqlite3.c     zErrDyn = sqlite3MPrintf(db, "database is already attached");</span>
<span class='curline'><a href='../S/185.html#L87807'>db</a>               87807 libdb/sqlite3.c     aNew-&gt;pSchema = sqlite3SchemaGet(db, aNew-&gt;pBt);</span>
<span class='curline'><a href='../S/185.html#L87810'>db</a>               87810 libdb/sqlite3.c     }else if( aNew-&gt;pSchema-&gt;file_format &amp;&amp; aNew-&gt;pSchema-&gt;enc!=ENC(db) ){</span>
<span class='curline'><a href='../S/185.html#L87811'>db</a>               87811 libdb/sqlite3.c       zErrDyn = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/185.html#L87816'>db</a>               87816 libdb/sqlite3.c     sqlite3PagerLockingMode(pPager, db-&gt;dfltLockMode);</span>
<span class='curline'><a href='../S/185.html#L87818'>db</a>               87818 libdb/sqlite3.c                              sqlite3BtreeSecureDelete(db-&gt;aDb[0].pBt,-1) );</span>
<span class='curline'><a href='../S/185.html#L87820'>db</a>               87820 libdb/sqlite3.c     sqlite3BtreeSetPagerFlags(aNew-&gt;pBt, 3 | (db-&gt;flags &amp; PAGER_FLAGS_MASK));</span>
<span class='curline'><a href='../S/185.html#L87824'>db</a>               87824 libdb/sqlite3.c   aNew-&gt;zName = sqlite3DbStrDup(db, zName);</span>
<span class='curline'><a href='../S/185.html#L87840'>db</a>               87840 libdb/sqlite3.c         zErrDyn = sqlite3DbStrDup(db, "Invalid key value");</span>
<span class='curline'><a href='../S/185.html#L87848'>db</a>               87848 libdb/sqlite3.c         rc = sqlite3CodecAttach(db, db-&gt;nDb-1, zKey, nKey);</span>
<span class='curline'><a href='../S/185.html#L87853'>db</a>               87853 libdb/sqlite3.c         sqlite3CodecGetKey(db, 0, (void**)&amp;zKey, &amp;nKey);</span>
<span class='curline'><a href='../S/185.html#L87854'>db</a>               87854 libdb/sqlite3.c         if( nKey&gt;0 || sqlite3BtreeGetReserve(db-&gt;aDb[0].pBt)&gt;0 ){</span>
<span class='curline'><a href='../S/185.html#L87855'>db</a>               87855 libdb/sqlite3.c           rc = sqlite3CodecAttach(db, db-&gt;nDb-1, zKey, nKey);</span>
<span class='curline'><a href='../S/185.html#L87868'>db</a>               87868 libdb/sqlite3.c     sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L87869'>db</a>               87869 libdb/sqlite3.c     rc = sqlite3Init(db, &amp;zErrDyn);</span>
<span class='curline'><a href='../S/185.html#L87870'>db</a>               87870 libdb/sqlite3.c     sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L87875'>db</a>               87875 libdb/sqlite3.c     rc = sqlite3UserAuthCheckLogin(db, zName, &amp;newAuth);</span>
<span class='curline'><a href='../S/185.html#L87876'>db</a>               87876 libdb/sqlite3.c     if( newAuth&lt;db-&gt;auth.authLevel ){</span>
<span class='curline'><a href='../S/185.html#L87882'>db</a>               87882 libdb/sqlite3.c     int iDb = db-&gt;nDb - 1;</span>
<span class='curline'><a href='../S/185.html#L87884'>db</a>               87884 libdb/sqlite3.c     if( db-&gt;aDb[iDb].pBt ){</span>
<span class='curline'><a href='../S/185.html#L87885'>db</a>               87885 libdb/sqlite3.c       sqlite3BtreeClose(db-&gt;aDb[iDb].pBt);</span>
<span class='curline'><a href='../S/185.html#L87886'>db</a>               87886 libdb/sqlite3.c       db-&gt;aDb[iDb].pBt = 0;</span>
<span class='curline'><a href='../S/185.html#L87887'>db</a>               87887 libdb/sqlite3.c       db-&gt;aDb[iDb].pSchema = 0;</span>
<span class='curline'><a href='../S/185.html#L87889'>db</a>               87889 libdb/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L87890'>db</a>               87890 libdb/sqlite3.c     db-&gt;nDb = iDb;</span>
<span class='curline'><a href='../S/185.html#L87892'>db</a>               87892 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L87893'>db</a>               87893 libdb/sqlite3.c       sqlite3DbFree(db, zErrDyn);</span>
<span class='curline'><a href='../S/185.html#L87894'>db</a>               87894 libdb/sqlite3.c       zErrDyn = sqlite3MPrintf(db, "out of memory");</span>
<span class='curline'><a href='../S/185.html#L87896'>db</a>               87896 libdb/sqlite3.c       zErrDyn = sqlite3MPrintf(db, "unable to open database: %s", zFile);</span>
<span class='curline'><a href='../S/185.html#L87907'>db</a>               87907 libdb/sqlite3.c     sqlite3DbFree(db, zErrDyn);</span>
<span class='curline'><a href='../S/185.html#L87926'>db</a>               87926 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L87934'>db</a>               87934 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L87935'>db</a>               87935 libdb/sqlite3.c     pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/185.html#L87940'>db</a>               87940 libdb/sqlite3.c   if( i&gt;=db-&gt;nDb ){</span>
<span class='curline'><a href='../S/185.html#L87948'>db</a>               87948 libdb/sqlite3.c   if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L87961'>db</a>               87961 libdb/sqlite3.c   sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L87984'>db</a>               87984 libdb/sqlite3.c   sqlite3* db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L88021'>db</a>               88021 libdb/sqlite3.c   assert( v || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L88036'>db</a>               88036 libdb/sqlite3.c   sqlite3ExprDelete(db, pFilename);</span>
<span class='curline'><a href='../S/185.html#L88037'>db</a>               88037 libdb/sqlite3.c   sqlite3ExprDelete(db, pDbname);</span>
<span class='curline'><a href='../S/185.html#L88038'>db</a>               88038 libdb/sqlite3.c   sqlite3ExprDelete(db, pKey);</span>
<span class='curline'><a href='../S/185.html#L88095'>db</a>               88095 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L88097'>db</a>               88097 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L88098'>db</a>               88098 libdb/sqlite3.c   assert( db-&gt;nDb&gt;iDb );</span>
<span class='curline'><a href='../S/185.html#L88100'>db</a>               88100 libdb/sqlite3.c   pFix-&gt;zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L88101'>db</a>               88101 libdb/sqlite3.c   pFix-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L88139'>db</a>               88139 libdb/sqlite3.c       sqlite3DbFree(pFix-&gt;pParse-&gt;db, pItem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/185.html#L88190'>db</a>               88190 libdb/sqlite3.c       if( pFix-&gt;pParse-&gt;db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L88318'>db</a>               88318 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L88322'>db</a>               88322 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L88323'>db</a>               88323 libdb/sqlite3.c   db-&gt;xAuth = (sqlite3_xauth)xAuth;</span>
<span class='curline'><a href='../S/185.html#L88324'>db</a>               88324 libdb/sqlite3.c   db-&gt;pAuthArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L88325'>db</a>               88325 libdb/sqlite3.c   sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L88326'>db</a>               88326 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L88354'>db</a>               88354 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L88355'>db</a>               88355 libdb/sqlite3.c   char *zDb = db-&gt;aDb[iDb].zName; /* Name of attached database */</span>
<span class='curline'><a href='../S/185.html#L88358'>db</a>               88358 libdb/sqlite3.c   rc = db-&gt;xAuth(db-&gt;pAuthArg, SQLITE_READ, zTab,zCol,zDb,pParse-&gt;zAuthContext</span>
<span class='curline'><a href='../S/185.html#L88360'>db</a>               88360 libdb/sqlite3.c                  ,db-&gt;auth.zAuthUser</span>
<span class='curline'><a href='../S/185.html#L88364'>db</a>               88364 libdb/sqlite3.c     if( db-&gt;nDb&gt;2 || iDb!=0 ){</span>
<span class='curline'><a href='../S/185.html#L88391'>db</a>               88391 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L88398'>db</a>               88398 libdb/sqlite3.c   if( db-&gt;xAuth==0 ) return;</span>
<span class='curline'><a href='../S/185.html#L88399'>db</a>               88399 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pSchema);</span>
<span class='curline'><a href='../S/185.html#L88430'>db</a>               88430 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L88449'>db</a>               88449 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L88455'>db</a>               88455 libdb/sqlite3.c   if( db-&gt;init.busy || IN_DECLARE_VTAB ){</span>
<span class='curline'><a href='../S/185.html#L88459'>db</a>               88459 libdb/sqlite3.c   if( db-&gt;xAuth==0 ){</span>
<span class='curline'><a href='../S/185.html#L88462'>db</a>               88462 libdb/sqlite3.c   rc = db-&gt;xAuth(db-&gt;pAuthArg, code, zArg1, zArg2, zArg3, pParse-&gt;zAuthContext</span>
<span class='curline'><a href='../S/185.html#L88464'>db</a>               88464 libdb/sqlite3.c                  ,db-&gt;auth.zAuthUser</span>
<span class='curline'><a href='../S/185.html#L88587'>db</a>               88587 libdb/sqlite3.c       sqlite3DbReallocOrFree(pToplevel-&gt;db, pToplevel-&gt;aTableLock, nBytes);</span>
<span class='curline'><a href='../S/185.html#L88596'>db</a>               88596 libdb/sqlite3.c     pToplevel-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L88646'>db</a>               88646 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L88650'>db</a>               88650 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L88651'>db</a>               88651 libdb/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L88666'>db</a>               88666 libdb/sqlite3.c     if( pParse-&gt;nTableLock&gt;0 &amp;&amp; db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/185.html#L88667'>db</a>               88667 libdb/sqlite3.c       sqlite3UserAuthInit(db);</span>
<span class='curline'><a href='../S/185.html#L88668'>db</a>               88668 libdb/sqlite3.c       if( db-&gt;auth.authLevel&lt;UAUTH_User ){</span>
<span class='curline'><a href='../S/185.html#L88682'>db</a>               88682 libdb/sqlite3.c     if( db-&gt;mallocFailed==0 </span>
<span class='curline'><a href='../S/185.html#L88688'>db</a>               88688 libdb/sqlite3.c       for(iDb=0; iDb&lt;db-&gt;nDb; iDb++){</span>
<span class='curline'><a href='../S/185.html#L88696'>db</a>               88696 libdb/sqlite3.c           db-&gt;aDb[iDb].pSchema-&gt;iGeneration  /* P4 */</span>
<span class='curline'><a href='../S/185.html#L88698'>db</a>               88698 libdb/sqlite3.c         if( db-&gt;init.busy==0 ) sqlite3VdbeChangeP5(v, 1);</span>
<span class='curline'><a href='../S/185.html#L88702'>db</a>               88702 libdb/sqlite3.c         char *vtab = (char *)sqlite3GetVTable(db, pParse-&gt;apVtabLock[i]);</span>
<span class='curline'><a href='../S/185.html#L88735'>db</a>               88735 libdb/sqlite3.c   if( v &amp;&amp; ALWAYS(pParse-&gt;nErr==0) &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L88769'>db</a>               88769 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L88776'>db</a>               88776 libdb/sqlite3.c   zSql = sqlite3VMPrintf(db, zFormat, ap);</span>
<span class='curline'><a href='../S/185.html#L88785'>db</a>               88785 libdb/sqlite3.c   sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L88786'>db</a>               88786 libdb/sqlite3.c   sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/185.html#L88813'>db</a>               88813 libdb/sqlite3.c SQLITE_PRIVATE Table *sqlite3FindTable(sqlite3 *db, const char *zName, const char *zDatabase){</span>
<span class='curline'><a href='../S/185.html#L88818'>db</a>               88818 libdb/sqlite3.c   assert( zDatabase!=0 || sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L88822'>db</a>               88822 libdb/sqlite3.c   if( db-&gt;auth.authLevel&lt;UAUTH_Admin &amp;&amp; sqlite3UserAuthTable(zName)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L88826'>db</a>               88826 libdb/sqlite3.c   for(i=OMIT_TEMPDB; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L88828'>db</a>               88828 libdb/sqlite3.c     if( zDatabase!=0 &amp;&amp; sqlite3StrICmp(zDatabase, db-&gt;aDb[j].zName) ) continue;</span>
<span class='curline'><a href='../S/185.html#L88829'>db</a>               88829 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, j, 0) );</span>
<span class='curline'><a href='../S/185.html#L88830'>db</a>               88830 libdb/sqlite3.c     p = sqlite3HashFind(&amp;db-&gt;aDb[j].pSchema-&gt;tblHash, zName);</span>
<span class='curline'><a href='../S/185.html#L88860'>db</a>               88860 libdb/sqlite3.c   p = sqlite3FindTable(pParse-&gt;db, zName, zDbase);</span>
<span class='curline'><a href='../S/185.html#L88871'>db</a>               88871 libdb/sqlite3.c   else if( pParse-&gt;db-&gt;auth.authLevel&lt;UAUTH_User ){</span>
<span class='curline'><a href='../S/185.html#L88896'>db</a>               88896 libdb/sqlite3.c     int iDb = sqlite3SchemaToIndex(pParse-&gt;db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L88897'>db</a>               88897 libdb/sqlite3.c     zDb = pParse-&gt;db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L88916'>db</a>               88916 libdb/sqlite3.c SQLITE_PRIVATE Index *sqlite3FindIndex(sqlite3 *db, const char *zName, const char *zDb){</span>
<span class='curline'><a href='../S/185.html#L88920'>db</a>               88920 libdb/sqlite3.c   assert( zDb!=0 || sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L88921'>db</a>               88921 libdb/sqlite3.c   for(i=OMIT_TEMPDB; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L88923'>db</a>               88923 libdb/sqlite3.c     Schema *pSchema = db-&gt;aDb[j].pSchema;</span>
<span class='curline'><a href='../S/185.html#L88925'>db</a>               88925 libdb/sqlite3.c     if( zDb &amp;&amp; sqlite3StrICmp(zDb, db-&gt;aDb[j].zName) ) continue;</span>
<span class='curline'><a href='../S/185.html#L88926'>db</a>               88926 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, j, 0) );</span>
<span class='curline'><a href='../S/185.html#L88936'>db</a>               88936 libdb/sqlite3.c static void freeIndex(sqlite3 *db, Index *p){</span>
<span class='curline'><a href='../S/185.html#L88938'>db</a>               88938 libdb/sqlite3.c   sqlite3DeleteIndexSamples(db, p);</span>
<span class='curline'><a href='../S/185.html#L88940'>db</a>               88940 libdb/sqlite3.c   if( db==0 || db-&gt;pnBytesFreed==0 ) sqlite3KeyInfoUnref(p-&gt;pKeyInfo);</span>
<span class='curline'><a href='../S/185.html#L88941'>db</a>               88941 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pPartIdxWhere);</span>
<span class='curline'><a href='../S/185.html#L88942'>db</a>               88942 libdb/sqlite3.c   sqlite3DbFree(db, p-&gt;zColAff);</span>
<span class='curline'><a href='../S/185.html#L88943'>db</a>               88943 libdb/sqlite3.c   if( p-&gt;isResized ) sqlite3DbFree(db, p-&gt;azColl);</span>
<span class='curline'><a href='../S/185.html#L88947'>db</a>               88947 libdb/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L88956'>db</a>               88956 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3UnlinkAndDeleteIndex(sqlite3 *db, int iDb, const char *zIdxName){</span>
<span class='curline'><a href='../S/185.html#L88960'>db</a>               88960 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L88961'>db</a>               88961 libdb/sqlite3.c   pHash = &amp;db-&gt;aDb[iDb].pSchema-&gt;idxHash;</span>
<span class='curline'><a href='../S/185.html#L88976'>db</a>               88976 libdb/sqlite3.c     freeIndex(db, pIndex);</span>
<span class='curline'><a href='../S/185.html#L88978'>db</a>               88978 libdb/sqlite3.c   db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L88989'>db</a>               88989 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3CollapseDatabaseArray(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L88991'>db</a>               88991 libdb/sqlite3.c   for(i=j=2; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L88992'>db</a>               88992 libdb/sqlite3.c     struct Db *pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/185.html#L88994'>db</a>               88994 libdb/sqlite3.c       sqlite3DbFree(db, pDb-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L88999'>db</a>               88999 libdb/sqlite3.c       db-&gt;aDb[j] = db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/185.html#L89003'>db</a>               89003 libdb/sqlite3.c   memset(&amp;db-&gt;aDb[j], 0, (db-&gt;nDb-j)*sizeof(db-&gt;aDb[j]));</span>
<span class='curline'><a href='../S/185.html#L89004'>db</a>               89004 libdb/sqlite3.c   db-&gt;nDb = j;</span>
<span class='curline'><a href='../S/185.html#L89005'>db</a>               89005 libdb/sqlite3.c   if( db-&gt;nDb&lt;=2 &amp;&amp; db-&gt;aDb!=db-&gt;aDbStatic ){</span>
<span class='curline'><a href='../S/185.html#L89006'>db</a>               89006 libdb/sqlite3.c     memcpy(db-&gt;aDbStatic, db-&gt;aDb, 2*sizeof(db-&gt;aDb[0]));</span>
<span class='curline'><a href='../S/185.html#L89007'>db</a>               89007 libdb/sqlite3.c     sqlite3DbFree(db, db-&gt;aDb);</span>
<span class='curline'><a href='../S/185.html#L89008'>db</a>               89008 libdb/sqlite3.c     db-&gt;aDb = db-&gt;aDbStatic;</span>
<span class='curline'><a href='../S/185.html#L89016'>db</a>               89016 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ResetOneSchema(sqlite3 *db, int iDb){</span>
<span class='curline'><a href='../S/185.html#L89018'>db</a>               89018 libdb/sqlite3.c   assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L89021'>db</a>               89021 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L89022'>db</a>               89022 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L89031'>db</a>               89031 libdb/sqlite3.c     pDb = &amp;db-&gt;aDb[1];</span>
<span class='curline'><a href='../S/185.html#L89042'>db</a>               89042 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ResetAllSchemasOfConnection(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L89044'>db</a>               89044 libdb/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L89045'>db</a>               89045 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L89046'>db</a>               89046 libdb/sqlite3.c     Db *pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/185.html#L89051'>db</a>               89051 libdb/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L89052'>db</a>               89052 libdb/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/185.html#L89053'>db</a>               89053 libdb/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L89054'>db</a>               89054 libdb/sqlite3.c   sqlite3CollapseDatabaseArray(db);</span>
<span class='curline'><a href='../S/185.html#L89060'>db</a>               89060 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3CommitInternalChanges(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L89061'>db</a>               89061 libdb/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L89068'>db</a>               89068 libdb/sqlite3.c static void sqliteDeleteColumnNames(sqlite3 *db, Table *pTable){</span>
<span class='curline'><a href='../S/185.html#L89074'>db</a>               89074 libdb/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L89075'>db</a>               89075 libdb/sqlite3.c       sqlite3ExprDelete(db, pCol-&gt;pDflt);</span>
<span class='curline'><a href='../S/185.html#L89076'>db</a>               89076 libdb/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zDflt);</span>
<span class='curline'><a href='../S/185.html#L89077'>db</a>               89077 libdb/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zType);</span>
<span class='curline'><a href='../S/185.html#L89078'>db</a>               89078 libdb/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zColl);</span>
<span class='curline'><a href='../S/185.html#L89080'>db</a>               89080 libdb/sqlite3.c     sqlite3DbFree(db, pTable-&gt;aCol);</span>
<span class='curline'><a href='../S/185.html#L89099'>db</a>               89099 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteTable(sqlite3 *db, Table *pTable){</span>
<span class='curline'><a href='../S/185.html#L89107'>db</a>               89107 libdb/sqlite3.c   if( ((!db || db-&gt;pnBytesFreed==0) &amp;&amp; (--pTable-&gt;nRef)&gt;0) ) return;</span>
<span class='curline'><a href='../S/185.html#L89112'>db</a>               89112 libdb/sqlite3.c   TESTONLY( nLookaside = (db &amp;&amp; (pTable-&gt;tabFlags &amp; TF_Ephemeral)==0) ?</span>
<span class='curline'><a href='../S/185.html#L89113'>db</a>               89113 libdb/sqlite3.c                          db-&gt;lookaside.nOut : 0 );</span>
<span class='curline'><a href='../S/185.html#L89119'>db</a>               89119 libdb/sqlite3.c     if( !db || db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/185.html#L89124'>db</a>               89124 libdb/sqlite3.c       assert( db==0 || sqlite3SchemaMutexHeld(db, 0, pIndex-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L89127'>db</a>               89127 libdb/sqlite3.c     freeIndex(db, pIndex);</span>
<span class='curline'><a href='../S/185.html#L89131'>db</a>               89131 libdb/sqlite3.c   sqlite3FkDelete(db, pTable);</span>
<span class='curline'><a href='../S/185.html#L89135'>db</a>               89135 libdb/sqlite3.c   sqliteDeleteColumnNames(db, pTable);</span>
<span class='curline'><a href='../S/185.html#L89136'>db</a>               89136 libdb/sqlite3.c   sqlite3DbFree(db, pTable-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L89137'>db</a>               89137 libdb/sqlite3.c   sqlite3DbFree(db, pTable-&gt;zColAff);</span>
<span class='curline'><a href='../S/185.html#L89138'>db</a>               89138 libdb/sqlite3.c   sqlite3SelectDelete(db, pTable-&gt;pSelect);</span>
<span class='curline'><a href='../S/185.html#L89140'>db</a>               89140 libdb/sqlite3.c   sqlite3ExprListDelete(db, pTable-&gt;pCheck);</span>
<span class='curline'><a href='../S/185.html#L89143'>db</a>               89143 libdb/sqlite3.c   sqlite3VtabClear(db, pTable);</span>
<span class='curline'><a href='../S/185.html#L89145'>db</a>               89145 libdb/sqlite3.c   sqlite3DbFree(db, pTable);</span>
<span class='curline'><a href='../S/185.html#L89148'>db</a>               89148 libdb/sqlite3.c   assert( nLookaside==0 || nLookaside==db-&gt;lookaside.nOut );</span>
<span class='curline'><a href='../S/185.html#L89155'>db</a>               89155 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3UnlinkAndDeleteTable(sqlite3 *db, int iDb, const char *zTabName){</span>
<span class='curline'><a href='../S/185.html#L89159'>db</a>               89159 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L89160'>db</a>               89160 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L89162'>db</a>               89162 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L89164'>db</a>               89164 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L89166'>db</a>               89166 libdb/sqlite3.c   sqlite3DeleteTable(db, p);</span>
<span class='curline'><a href='../S/185.html#L89167'>db</a>               89167 libdb/sqlite3.c   db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L89183'>db</a>               89183 libdb/sqlite3.c SQLITE_PRIVATE char *sqlite3NameFromToken(sqlite3 *db, Token *pName){</span>
<span class='curline'><a href='../S/185.html#L89186'>db</a>               89186 libdb/sqlite3.c     zName = sqlite3DbStrNDup(db, (char*)pName-&gt;z, pName-&gt;n);</span>
<span class='curline'><a href='../S/185.html#L89213'>db</a>               89213 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3FindDbName(sqlite3 *db, const char *zName){</span>
<span class='curline'><a href='../S/185.html#L89218'>db</a>               89218 libdb/sqlite3.c     for(i=(db-&gt;nDb-1), pDb=&amp;db-&gt;aDb[i]; i&gt;=0; i--, pDb--){</span>
<span class='curline'><a href='../S/185.html#L89234'>db</a>               89234 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3FindDb(sqlite3 *db, Token *pName){</span>
<span class='curline'><a href='../S/185.html#L89237'>db</a>               89237 libdb/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/185.html#L89238'>db</a>               89238 libdb/sqlite3.c   i = sqlite3FindDbName(db, zName);</span>
<span class='curline'><a href='../S/185.html#L89239'>db</a>               89239 libdb/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L89266'>db</a>               89266 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89269'>db</a>               89269 libdb/sqlite3.c     if( db-&gt;init.busy ) {</span>
<span class='curline'><a href='../S/185.html#L89275'>db</a>               89275 libdb/sqlite3.c     iDb = sqlite3FindDb(db, pName1);</span>
<span class='curline'><a href='../S/185.html#L89282'>db</a>               89282 libdb/sqlite3.c     assert( db-&gt;init.iDb==0 || db-&gt;init.busy );</span>
<span class='curline'><a href='../S/185.html#L89283'>db</a>               89283 libdb/sqlite3.c     iDb = db-&gt;init.iDb;</span>
<span class='curline'><a href='../S/185.html#L89297'>db</a>               89297 libdb/sqlite3.c   if( !pParse-&gt;db-&gt;init.busy &amp;&amp; pParse-&gt;nested==0 </span>
<span class='curline'><a href='../S/185.html#L89298'>db</a>               89298 libdb/sqlite3.c           &amp;&amp; (pParse-&gt;db-&gt;flags &amp; SQLITE_WriteSchema)==0</span>
<span class='curline'><a href='../S/185.html#L89354'>db</a>               89354 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89387'>db</a>               89387 libdb/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/185.html#L89392'>db</a>               89392 libdb/sqlite3.c   if( db-&gt;init.iDb==1 ) isTemp = 1;</span>
<span class='curline'><a href='../S/185.html#L89397'>db</a>               89397 libdb/sqlite3.c     char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L89428'>db</a>               89428 libdb/sqlite3.c     char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L89432'>db</a>               89432 libdb/sqlite3.c     pTable = sqlite3FindTable(db, zName, zDb);</span>
<span class='curline'><a href='../S/185.html#L89437'>db</a>               89437 libdb/sqlite3.c         assert( !db-&gt;init.busy );</span>
<span class='curline'><a href='../S/185.html#L89442'>db</a>               89442 libdb/sqlite3.c     if( sqlite3FindIndex(db, zName, zDb)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L89448'>db</a>               89448 libdb/sqlite3.c   pTable = sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/185.html#L89450'>db</a>               89450 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L89457'>db</a>               89457 libdb/sqlite3.c   pTable-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L89469'>db</a>               89469 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L89482'>db</a>               89482 libdb/sqlite3.c   if( !db-&gt;init.busy &amp;&amp; (v = sqlite3GetVdbe(pParse))!=0 ){</span>
<span class='curline'><a href='../S/185.html#L89503'>db</a>               89503 libdb/sqlite3.c     fileFormat = (db-&gt;flags &amp; SQLITE_LegacyFileFmt)!=0 ?</span>
<span class='curline'><a href='../S/185.html#L89507'>db</a>               89507 libdb/sqlite3.c     sqlite3VdbeAddOp2(v, OP_Integer, ENC(db), reg3);</span>
<span class='curline'><a href='../S/185.html#L89541'>db</a>               89541 libdb/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L89571'>db</a>               89571 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89574'>db</a>               89574 libdb/sqlite3.c   if( p-&gt;nCol+1&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/185.html#L89579'>db</a>               89579 libdb/sqlite3.c   z = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/185.html#L89584'>db</a>               89584 libdb/sqlite3.c       sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L89590'>db</a>               89590 libdb/sqlite3.c     aNew = sqlite3DbRealloc(db,p-&gt;aCol,(p-&gt;nCol+8)*sizeof(p-&gt;aCol[0]));</span>
<span class='curline'><a href='../S/185.html#L89592'>db</a>               89592 libdb/sqlite3.c       sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L89727'>db</a>               89727 libdb/sqlite3.c   pCol-&gt;zType = sqlite3NameFromToken(pParse-&gt;db, pType);</span>
<span class='curline'><a href='../S/185.html#L89744'>db</a>               89744 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89748'>db</a>               89748 libdb/sqlite3.c     if( !sqlite3ExprIsConstantOrFunction(pSpan-&gt;pExpr, db-&gt;init.busy) ){</span>
<span class='curline'><a href='../S/185.html#L89756'>db</a>               89756 libdb/sqlite3.c       sqlite3ExprDelete(db, pCol-&gt;pDflt);</span>
<span class='curline'><a href='../S/185.html#L89757'>db</a>               89757 libdb/sqlite3.c       pCol-&gt;pDflt = sqlite3ExprDup(db, pSpan-&gt;pExpr, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L89758'>db</a>               89758 libdb/sqlite3.c       sqlite3DbFree(db, pCol-&gt;zDflt);</span>
<span class='curline'><a href='../S/185.html#L89759'>db</a>               89759 libdb/sqlite3.c       pCol-&gt;zDflt = sqlite3DbStrNDup(db, (char*)pSpan-&gt;zStart,</span>
<span class='curline'><a href='../S/185.html#L89763'>db</a>               89763 libdb/sqlite3.c   sqlite3ExprDelete(db, pSpan-&gt;pExpr);</span>
<span class='curline'><a href='../S/185.html#L89847'>db</a>               89847 libdb/sqlite3.c   sqlite3ExprListDelete(pParse-&gt;db, pList);</span>
<span class='curline'><a href='../S/185.html#L89860'>db</a>               89860 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89862'>db</a>               89862 libdb/sqlite3.c    &amp;&amp; !sqlite3BtreeIsReadonly(db-&gt;aDb[db-&gt;init.iDb].pBt)</span>
<span class='curline'><a href='../S/185.html#L89871'>db</a>               89871 libdb/sqlite3.c     sqlite3ExprDelete(pParse-&gt;db, pCheckExpr);</span>
<span class='curline'><a href='../S/185.html#L89883'>db</a>               89883 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L89887'>db</a>               89887 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89888'>db</a>               89888 libdb/sqlite3.c   zColl = sqlite3NameFromToken(db, pToken);</span>
<span class='curline'><a href='../S/185.html#L89893'>db</a>               89893 libdb/sqlite3.c     sqlite3DbFree(db, p-&gt;aCol[i].zColl);</span>
<span class='curline'><a href='../S/185.html#L89907'>db</a>               89907 libdb/sqlite3.c     sqlite3DbFree(db, zColl);</span>
<span class='curline'><a href='../S/185.html#L89932'>db</a>               89932 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89933'>db</a>               89933 libdb/sqlite3.c   u8 enc = ENC(db);</span>
<span class='curline'><a href='../S/185.html#L89934'>db</a>               89934 libdb/sqlite3.c   u8 initbusy = db-&gt;init.busy;</span>
<span class='curline'><a href='../S/185.html#L89937'>db</a>               89937 libdb/sqlite3.c   pColl = sqlite3FindCollSeq(db, enc, zName, initbusy);</span>
<span class='curline'><a href='../S/185.html#L89964'>db</a>               89964 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L89966'>db</a>               89966 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L89967'>db</a>               89967 libdb/sqlite3.c   sqlite3VdbeAddOp2(v, OP_Integer, db-&gt;aDb[iDb].pSchema-&gt;schema_cookie+1, r1);</span>
<span class='curline'><a href='../S/185.html#L90029'>db</a>               90029 libdb/sqlite3.c static char *createTableStmt(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/185.html#L90051'>db</a>               90051 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L90097'>db</a>               90097 libdb/sqlite3.c static int resizeIndexObject(sqlite3 *db, Index *pIdx, int N){</span>
<span class='curline'><a href='../S/185.html#L90103'>db</a>               90103 libdb/sqlite3.c   zExtra = sqlite3DbMallocZero(db, nByte);</span>
<span class='curline'><a href='../S/185.html#L90182'>db</a>               90182 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L90209'>db</a>               90209 libdb/sqlite3.c     pList-&gt;a[0].zName = sqlite3DbStrDup(pParse-&gt;db,</span>
<span class='curline'><a href='../S/185.html#L90247'>db</a>               90247 libdb/sqlite3.c     if( resizeIndexObject(db, pIdx, pIdx-&gt;nKeyCol+n) ) return;</span>
<span class='curline'><a href='../S/185.html#L90262'>db</a>               90262 libdb/sqlite3.c     if( resizeIndexObject(db, pPk, pTab-&gt;nCol) ) return;</span>
<span class='curline'><a href='../S/185.html#L90306'>db</a>               90306 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L90310'>db</a>               90310 libdb/sqlite3.c   if( (pEnd==0 &amp;&amp; pSelect==0) || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L90316'>db</a>               90316 libdb/sqlite3.c   assert( !db-&gt;init.busy || !pSelect );</span>
<span class='curline'><a href='../S/185.html#L90324'>db</a>               90324 libdb/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L90325'>db</a>               90325 libdb/sqlite3.c     p-&gt;tnum = db-&gt;init.newTnum;</span>
<span class='curline'><a href='../S/185.html#L90343'>db</a>               90343 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90365'>db</a>               90365 libdb/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L90424'>db</a>               90424 libdb/sqlite3.c         sqlite3DeleteTable(db, pSelTab);</span>
<span class='curline'><a href='../S/185.html#L90430'>db</a>               90430 libdb/sqlite3.c       zStmt = createTableStmt(db, p);</span>
<span class='curline'><a href='../S/185.html#L90435'>db</a>               90435 libdb/sqlite3.c       zStmt = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/185.html#L90448'>db</a>               90448 libdb/sqlite3.c       db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb),</span>
<span class='curline'><a href='../S/185.html#L90456'>db</a>               90456 libdb/sqlite3.c     sqlite3DbFree(db, zStmt);</span>
<span class='curline'><a href='../S/185.html#L90464'>db</a>               90464 libdb/sqlite3.c       Db *pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L90465'>db</a>               90465 libdb/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L90477'>db</a>               90477 libdb/sqlite3.c            sqlite3MPrintf(db, "tbl_name='%q' AND type!='trigger'", p-&gt;zName));</span>
<span class='curline'><a href='../S/185.html#L90483'>db</a>               90483 libdb/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L90486'>db</a>               90486 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L90490'>db</a>               90490 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L90494'>db</a>               90494 libdb/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L90531'>db</a>               90531 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L90535'>db</a>               90535 libdb/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L90541'>db</a>               90541 libdb/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L90545'>db</a>               90545 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, p-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90548'>db</a>               90548 libdb/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L90557'>db</a>               90557 libdb/sqlite3.c   p-&gt;pSelect = sqlite3SelectDup(db, pSelect, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L90558'>db</a>               90558 libdb/sqlite3.c   sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L90559'>db</a>               90559 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L90562'>db</a>               90562 libdb/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L90597'>db</a>               90597 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* Database connection for malloc errors */</span>
<span class='curline'><a href='../S/185.html#L90644'>db</a>               90644 libdb/sqlite3.c   pSel = sqlite3SelectDup(db, pTable-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/185.html#L90646'>db</a>               90646 libdb/sqlite3.c     u8 enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L90650'>db</a>               90650 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L90652'>db</a>               90652 libdb/sqlite3.c     xAuth = db-&gt;xAuth;</span>
<span class='curline'><a href='../S/185.html#L90653'>db</a>               90653 libdb/sqlite3.c     db-&gt;xAuth = 0;</span>
<span class='curline'><a href='../S/185.html#L90655'>db</a>               90655 libdb/sqlite3.c     db-&gt;xAuth = xAuth;</span>
<span class='curline'><a href='../S/185.html#L90659'>db</a>               90659 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/185.html#L90667'>db</a>               90667 libdb/sqlite3.c       sqlite3DeleteTable(db, pSelTab);</span>
<span class='curline'><a href='../S/185.html#L90668'>db</a>               90668 libdb/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, 0, pTable-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L90674'>db</a>               90674 libdb/sqlite3.c     sqlite3SelectDelete(db, pSel);</span>
<span class='curline'><a href='../S/185.html#L90687'>db</a>               90687 libdb/sqlite3.c static void sqliteViewResetAll(sqlite3 *db, int idx){</span>
<span class='curline'><a href='../S/185.html#L90689'>db</a>               90689 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, idx, 0) );</span>
<span class='curline'><a href='../S/185.html#L90690'>db</a>               90690 libdb/sqlite3.c   if( !DbHasProperty(db, idx, DB_UnresetViews) ) return;</span>
<span class='curline'><a href='../S/185.html#L90691'>db</a>               90691 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aDb[idx].pSchema-&gt;tblHash); i;i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L90694'>db</a>               90694 libdb/sqlite3.c       sqliteDeleteColumnNames(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L90699'>db</a>               90699 libdb/sqlite3.c   DbClearProperty(db, idx, DB_UnresetViews);</span>
<span class='curline'><a href='../S/185.html#L90723'>db</a>               90723 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3RootPageMoved(sqlite3 *db, int iDb, int iFrom, int iTo){</span>
<span class='curline'><a href='../S/185.html#L90728'>db</a>               90728 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L90729'>db</a>               90729 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L90770'>db</a>               90770 libdb/sqlite3.c      pParse-&gt;db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb), iTable, r1, r1);</span>
<span class='curline'><a href='../S/185.html#L90784'>db</a>               90784 libdb/sqlite3.c   int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90826'>db</a>               90826 libdb/sqlite3.c       int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90827'>db</a>               90827 libdb/sqlite3.c       assert( iDb&gt;=0 &amp;&amp; iDb&lt;pParse-&gt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L90846'>db</a>               90846 libdb/sqlite3.c   const char *zDbName = pParse-&gt;db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L90850'>db</a>               90850 libdb/sqlite3.c     if( sqlite3FindTable(pParse-&gt;db, zTab, zDbName) ){</span>
<span class='curline'><a href='../S/185.html#L90864'>db</a>               90864 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L90866'>db</a>               90866 libdb/sqlite3.c   Db *pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L90885'>db</a>               90885 libdb/sqlite3.c         pTrigger-&gt;pSchema==db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/185.html#L90926'>db</a>               90926 libdb/sqlite3.c   sqliteViewResetAll(db, iDb);</span>
<span class='curline'><a href='../S/185.html#L90936'>db</a>               90936 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L90939'>db</a>               90939 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L90944'>db</a>               90944 libdb/sqlite3.c   if( noErr ) db-&gt;suppressErr++;</span>
<span class='curline'><a href='../S/185.html#L90946'>db</a>               90946 libdb/sqlite3.c   if( noErr ) db-&gt;suppressErr--;</span>
<span class='curline'><a href='../S/185.html#L90952'>db</a>               90952 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L90953'>db</a>               90953 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L90965'>db</a>               90965 libdb/sqlite3.c     const char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L90979'>db</a>               90979 libdb/sqlite3.c       zArg2 = sqlite3GetVTable(db, pTab)-&gt;pMod-&gt;zName;</span>
<span class='curline'><a href='../S/185.html#L91028'>db</a>               91028 libdb/sqlite3.c   sqlite3SrcListDelete(db, pName);</span>
<span class='curline'><a href='../S/185.html#L91054'>db</a>               91054 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L91090'>db</a>               91090 libdb/sqlite3.c   pFKey = sqlite3DbMallocZero(db, nByte );</span>
<span class='curline'><a href='../S/185.html#L91135'>db</a>               91135 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, 0, p-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L91140'>db</a>               91140 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L91155'>db</a>               91155 libdb/sqlite3.c   sqlite3DbFree(db, pFKey);</span>
<span class='curline'><a href='../S/185.html#L91157'>db</a>               91157 libdb/sqlite3.c   sqlite3ExprListDelete(db, pFromCol);</span>
<span class='curline'><a href='../S/185.html#L91158'>db</a>               91158 libdb/sqlite3.c   sqlite3ExprListDelete(db, pToCol);</span>
<span class='curline'><a href='../S/185.html#L91201'>db</a>               91201 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;      /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L91202'>db</a>               91202 libdb/sqlite3.c   int iDb = sqlite3SchemaToIndex(db, pIndex-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L91206'>db</a>               91206 libdb/sqlite3.c       db-&gt;aDb[iDb].zName ) ){</span>
<span class='curline'><a href='../S/185.html#L91245'>db</a>               91245 libdb/sqlite3.c   assert( pKey!=0 || db-&gt;mallocFailed || pParse-&gt;nErr );</span>
<span class='curline'><a href='../S/185.html#L91276'>db</a>               91276 libdb/sqlite3.c   sqlite3 *db,         /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L91289'>db</a>               91289 libdb/sqlite3.c   p = sqlite3DbMallocZero(db, nByte + nExtra);</span>
<span class='curline'><a href='../S/185.html#L91339'>db</a>               91339 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L91351'>db</a>               91351 libdb/sqlite3.c   if( db-&gt;mallocFailed || IN_DECLARE_VTAB ){</span>
<span class='curline'><a href='../S/185.html#L91377'>db</a>               91377 libdb/sqlite3.c     if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L91379'>db</a>               91379 libdb/sqlite3.c       if( pName2-&gt;n==0 &amp;&amp; pTab &amp;&amp; pTab-&gt;pSchema==db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L91392'>db</a>               91392 libdb/sqlite3.c     assert( db-&gt;mallocFailed==0 || pTab==0 );</span>
<span class='curline'><a href='../S/185.html#L91394'>db</a>               91394 libdb/sqlite3.c     if( iDb==1 &amp;&amp; db-&gt;aDb[iDb].pSchema!=pTab-&gt;pSchema ){</span>
<span class='curline'><a href='../S/185.html#L91406'>db</a>               91406 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L91408'>db</a>               91408 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L91413'>db</a>               91413 libdb/sqlite3.c        &amp;&amp; db-&gt;init.busy==0</span>
<span class='curline'><a href='../S/185.html#L91448'>db</a>               91448 libdb/sqlite3.c     zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/185.html#L91454'>db</a>               91454 libdb/sqlite3.c     if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L91455'>db</a>               91455 libdb/sqlite3.c       if( sqlite3FindTable(db, zName, 0)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L91460'>db</a>               91460 libdb/sqlite3.c     if( sqlite3FindIndex(db, zName, pDb-&gt;zName)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L91464'>db</a>               91464 libdb/sqlite3.c         assert( !db-&gt;init.busy );</span>
<span class='curline'><a href='../S/185.html#L91473'>db</a>               91473 libdb/sqlite3.c     zName = sqlite3MPrintf(db, "sqlite_autoindex_%s_%d", pTab-&gt;zName, n);</span>
<span class='curline'><a href='../S/185.html#L91502'>db</a>               91502 libdb/sqlite3.c     pList-&gt;a[0].zName = sqlite3DbStrDup(pParse-&gt;db,</span>
<span class='curline'><a href='../S/185.html#L91523'>db</a>               91523 libdb/sqlite3.c   pIndex = sqlite3AllocateIndexObject(db, pList-&gt;nExpr + nExtraCol,</span>
<span class='curline'><a href='../S/185.html#L91525'>db</a>               91525 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L91537'>db</a>               91537 libdb/sqlite3.c   pIndex-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L91544'>db</a>               91544 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L91594'>db</a>               91594 libdb/sqlite3.c     if( !db-&gt;init.busy &amp;&amp; !sqlite3LocateCollSeq(pParse, zColl) ){</span>
<span class='curline'><a href='../S/185.html#L91685'>db</a>               91685 libdb/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L91687'>db</a>               91687 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pIndex-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L91692'>db</a>               91692 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L91695'>db</a>               91695 libdb/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L91697'>db</a>               91697 libdb/sqlite3.c       pIndex-&gt;tnum = db-&gt;init.newTnum;</span>
<span class='curline'><a href='../S/185.html#L91735'>db</a>               91735 libdb/sqlite3.c       zStmt = sqlite3MPrintf(db, "CREATE%s INDEX %.*s",</span>
<span class='curline'><a href='../S/185.html#L91747'>db</a>               91747 libdb/sqlite3.c         db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb),</span>
<span class='curline'><a href='../S/185.html#L91753'>db</a>               91753 libdb/sqlite3.c     sqlite3DbFree(db, zStmt);</span>
<span class='curline'><a href='../S/185.html#L91762'>db</a>               91762 libdb/sqlite3.c          sqlite3MPrintf(db, "name='%q' AND type='index'", pIndex-&gt;zName));</span>
<span class='curline'><a href='../S/185.html#L91773'>db</a>               91773 libdb/sqlite3.c   if( db-&gt;init.busy || pTblName==0 ){</span>
<span class='curline'><a href='../S/185.html#L91792'>db</a>               91792 libdb/sqlite3.c   if( pIndex ) freeIndex(db, pIndex);</span>
<span class='curline'><a href='../S/185.html#L91793'>db</a>               91793 libdb/sqlite3.c   sqlite3ExprDelete(db, pPIWhere);</span>
<span class='curline'><a href='../S/185.html#L91794'>db</a>               91794 libdb/sqlite3.c   sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L91795'>db</a>               91795 libdb/sqlite3.c   sqlite3SrcListDelete(db, pTblName);</span>
<span class='curline'><a href='../S/185.html#L91796'>db</a>               91796 libdb/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L91849'>db</a>               91849 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L91853'>db</a>               91853 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L91860'>db</a>               91860 libdb/sqlite3.c   pIndex = sqlite3FindIndex(db, pName-&gt;a[0].zName, pName-&gt;a[0].zDatabase);</span>
<span class='curline'><a href='../S/185.html#L91875'>db</a>               91875 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pIndex-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L91880'>db</a>               91880 libdb/sqlite3.c     const char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L91898'>db</a>               91898 libdb/sqlite3.c        db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb), pIndex-&gt;zName</span>
<span class='curline'><a href='../S/185.html#L91907'>db</a>               91907 libdb/sqlite3.c   sqlite3SrcListDelete(db, pName);</span>
<span class='curline'><a href='../S/185.html#L91928'>db</a>               91928 libdb/sqlite3.c   sqlite3 *db,      /* Connection to notify of malloc failures */</span>
<span class='curline'><a href='../S/185.html#L91938'>db</a>               91938 libdb/sqlite3.c     void *pNew = sqlite3DbRealloc(db, pArray, sz*szEntry);</span>
<span class='curline'><a href='../S/185.html#L91958'>db</a>               91958 libdb/sqlite3.c SQLITE_PRIVATE IdList *sqlite3IdListAppend(sqlite3 *db, IdList *pList, Token *pToken){</span>
<span class='curline'><a href='../S/185.html#L91961'>db</a>               91961 libdb/sqlite3.c     pList = sqlite3DbMallocZero(db, sizeof(IdList) );</span>
<span class='curline'><a href='../S/185.html#L91965'>db</a>               91965 libdb/sqlite3.c       db,</span>
<span class='curline'><a href='../S/185.html#L91972'>db</a>               91972 libdb/sqlite3.c     sqlite3IdListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L91975'>db</a>               91975 libdb/sqlite3.c   pList-&gt;a[i].zName = sqlite3NameFromToken(db, pToken);</span>
<span class='curline'><a href='../S/185.html#L91982'>db</a>               91982 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3IdListDelete(sqlite3 *db, IdList *pList){</span>
<span class='curline'><a href='../S/185.html#L91986'>db</a>               91986 libdb/sqlite3.c     sqlite3DbFree(db, pList-&gt;a[i].zName);</span>
<span class='curline'><a href='../S/185.html#L91988'>db</a>               91988 libdb/sqlite3.c   sqlite3DbFree(db, pList-&gt;a);</span>
<span class='curline'><a href='../S/185.html#L91989'>db</a>               91989 libdb/sqlite3.c   sqlite3DbFree(db, pList);</span>
<span class='curline'><a href='../S/185.html#L92025'>db</a>               92025 libdb/sqlite3.c   sqlite3 *db,       /* Database connection to notify of OOM errors */</span>
<span class='curline'><a href='../S/185.html#L92043'>db</a>               92043 libdb/sqlite3.c     pNew = sqlite3DbRealloc(db, pSrc,</span>
<span class='curline'><a href='../S/185.html#L92046'>db</a>               92046 libdb/sqlite3.c       assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L92050'>db</a>               92050 libdb/sqlite3.c     nGot = (sqlite3DbMallocSize(db, pNew) - sizeof(*pSrc))/sizeof(pSrc-&gt;a[0])+1;</span>
<span class='curline'><a href='../S/185.html#L92107'>db</a>               92107 libdb/sqlite3.c   sqlite3 *db,        /* Connection to notify of malloc failures */</span>
<span class='curline'><a href='../S/185.html#L92115'>db</a>               92115 libdb/sqlite3.c     pList = sqlite3DbMallocZero(db, sizeof(SrcList) );</span>
<span class='curline'><a href='../S/185.html#L92119'>db</a>               92119 libdb/sqlite3.c   pList = sqlite3SrcListEnlarge(db, pList, 1, pList-&gt;nSrc);</span>
<span class='curline'><a href='../S/185.html#L92120'>db</a>               92120 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L92121'>db</a>               92121 libdb/sqlite3.c     sqlite3SrcListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L92133'>db</a>               92133 libdb/sqlite3.c   pItem-&gt;zName = sqlite3NameFromToken(db, pTable);</span>
<span class='curline'><a href='../S/185.html#L92134'>db</a>               92134 libdb/sqlite3.c   pItem-&gt;zDatabase = sqlite3NameFromToken(db, pDatabase);</span>
<span class='curline'><a href='../S/185.html#L92144'>db</a>               92144 libdb/sqlite3.c   assert(pList || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L92159'>db</a>               92159 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3SrcListDelete(sqlite3 *db, SrcList *pList){</span>
<span class='curline'><a href='../S/185.html#L92164'>db</a>               92164 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/185.html#L92165'>db</a>               92165 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L92166'>db</a>               92166 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zAlias);</span>
<span class='curline'><a href='../S/185.html#L92167'>db</a>               92167 libdb/sqlite3.c     sqlite3DbFree(db, pItem-&gt;zIndex);</span>
<span class='curline'><a href='../S/185.html#L92168'>db</a>               92168 libdb/sqlite3.c     sqlite3DeleteTable(db, pItem-&gt;pTab);</span>
<span class='curline'><a href='../S/185.html#L92169'>db</a>               92169 libdb/sqlite3.c     sqlite3SelectDelete(db, pItem-&gt;pSelect);</span>
<span class='curline'><a href='../S/185.html#L92170'>db</a>               92170 libdb/sqlite3.c     sqlite3ExprDelete(db, pItem-&gt;pOn);</span>
<span class='curline'><a href='../S/185.html#L92171'>db</a>               92171 libdb/sqlite3.c     sqlite3IdListDelete(db, pItem-&gt;pUsing);</span>
<span class='curline'><a href='../S/185.html#L92173'>db</a>               92173 libdb/sqlite3.c   sqlite3DbFree(db, pList);</span>
<span class='curline'><a href='../S/185.html#L92203'>db</a>               92203 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92210'>db</a>               92210 libdb/sqlite3.c   p = sqlite3SrcListAppend(db, p, pTable, pDatabase);</span>
<span class='curline'><a href='../S/185.html#L92217'>db</a>               92217 libdb/sqlite3.c     pItem-&gt;zAlias = sqlite3NameFromToken(db, pAlias);</span>
<span class='curline'><a href='../S/185.html#L92226'>db</a>               92226 libdb/sqlite3.c   sqlite3ExprDelete(db, pOn);</span>
<span class='curline'><a href='../S/185.html#L92227'>db</a>               92227 libdb/sqlite3.c   sqlite3IdListDelete(db, pUsing);</span>
<span class='curline'><a href='../S/185.html#L92228'>db</a>               92228 libdb/sqlite3.c   sqlite3SelectDelete(db, pSubquery);</span>
<span class='curline'><a href='../S/185.html#L92246'>db</a>               92246 libdb/sqlite3.c       pItem-&gt;zIndex = sqlite3NameFromToken(pParse-&gt;db, pIndexedBy);</span>
<span class='curline'><a href='../S/185.html#L92281'>db</a>               92281 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L92286'>db</a>               92286 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92287'>db</a>               92287 libdb/sqlite3.c   assert( db!=0 );</span>
<span class='curline'><a href='../S/185.html#L92295'>db</a>               92295 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L92310'>db</a>               92310 libdb/sqlite3.c   assert( pParse-&gt;db!=0 );</span>
<span class='curline'><a href='../S/185.html#L92327'>db</a>               92327 libdb/sqlite3.c   assert( pParse-&gt;db!=0 );</span>
<span class='curline'><a href='../S/185.html#L92342'>db</a>               92342 libdb/sqlite3.c   char *zName = sqlite3NameFromToken(pParse-&gt;db, pName);</span>
<span class='curline'><a href='../S/185.html#L92350'>db</a>               92350 libdb/sqlite3.c       sqlite3DbFree(pParse-&gt;db, zName);</span>
<span class='curline'><a href='../S/185.html#L92362'>db</a>               92362 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92363'>db</a>               92363 libdb/sqlite3.c   if( db-&gt;aDb[1].pBt==0 &amp;&amp; !pParse-&gt;explain ){</span>
<span class='curline'><a href='../S/185.html#L92373'>db</a>               92373 libdb/sqlite3.c     rc = sqlite3BtreeOpen(db-&gt;pVfs, 0, db, &amp;pBt, 0, flags);</span>
<span class='curline'><a href='../S/185.html#L92380'>db</a>               92380 libdb/sqlite3.c     db-&gt;aDb[1].pBt = pBt;</span>
<span class='curline'><a href='../S/185.html#L92381'>db</a>               92381 libdb/sqlite3.c     assert( db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/185.html#L92382'>db</a>               92382 libdb/sqlite3.c     if( SQLITE_NOMEM==sqlite3BtreeSetPageSize(pBt, db-&gt;nextPagesize, -1, 0) ){</span>
<span class='curline'><a href='../S/185.html#L92383'>db</a>               92383 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L92398'>db</a>               92398 libdb/sqlite3.c   sqlite3 *db = pToplevel-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92400'>db</a>               92400 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L92401'>db</a>               92401 libdb/sqlite3.c   assert( db-&gt;aDb[iDb].pBt!=0 || iDb==1 );</span>
<span class='curline'><a href='../S/185.html#L92403'>db</a>               92403 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L92406'>db</a>               92406 libdb/sqlite3.c     pToplevel-&gt;cookieValue[iDb] = db-&gt;aDb[iDb].pSchema-&gt;schema_cookie;</span>
<span class='curline'><a href='../S/185.html#L92418'>db</a>               92418 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92420'>db</a>               92420 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L92421'>db</a>               92421 libdb/sqlite3.c     Db *pDb = &amp;db-&gt;aDb[i];</span>
<span class='curline'><a href='../S/185.html#L92517'>db</a>               92517 libdb/sqlite3.c   errMsg.db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92544'>db</a>               92544 libdb/sqlite3.c     zMsg = sqlite3MPrintf(pParse-&gt;db, "%s.%s", pTab-&gt;zName,</span>
<span class='curline'><a href='../S/185.html#L92548'>db</a>               92548 libdb/sqlite3.c     zMsg = sqlite3MPrintf(pParse-&gt;db, "%s.rowid", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L92584'>db</a>               92584 libdb/sqlite3.c       int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L92601'>db</a>               92601 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L92605'>db</a>               92605 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );  /* Needed for schema access */</span>
<span class='curline'><a href='../S/185.html#L92606'>db</a>               92606 libdb/sqlite3.c   for(iDb=0, pDb=db-&gt;aDb; iDb&lt;db-&gt;nDb; iDb++, pDb++){</span>
<span class='curline'><a href='../S/185.html#L92637'>db</a>               92637 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L92652'>db</a>               92652 libdb/sqlite3.c     zColl = sqlite3NameFromToken(pParse-&gt;db, pName1);</span>
<span class='curline'><a href='../S/185.html#L92654'>db</a>               92654 libdb/sqlite3.c     pColl = sqlite3FindCollSeq(db, ENC(db), zColl, 0);</span>
<span class='curline'><a href='../S/185.html#L92657'>db</a>               92657 libdb/sqlite3.c       sqlite3DbFree(db, zColl);</span>
<span class='curline'><a href='../S/185.html#L92660'>db</a>               92660 libdb/sqlite3.c     sqlite3DbFree(db, zColl);</span>
<span class='curline'><a href='../S/185.html#L92664'>db</a>               92664 libdb/sqlite3.c   z = sqlite3NameFromToken(db, pObjName);</span>
<span class='curline'><a href='../S/185.html#L92666'>db</a>               92666 libdb/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L92667'>db</a>               92667 libdb/sqlite3.c   pTab = sqlite3FindTable(db, z, zDb);</span>
<span class='curline'><a href='../S/185.html#L92670'>db</a>               92670 libdb/sqlite3.c     sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L92673'>db</a>               92673 libdb/sqlite3.c   pIndex = sqlite3FindIndex(db, z, zDb);</span>
<span class='curline'><a href='../S/185.html#L92674'>db</a>               92674 libdb/sqlite3.c   sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L92697'>db</a>               92697 libdb/sqlite3.c   if( pIdx-&gt;pKeyInfo &amp;&amp; pIdx-&gt;pKeyInfo-&gt;db!=pParse-&gt;db ){</span>
<span class='curline'><a href='../S/185.html#L92708'>db</a>               92708 libdb/sqlite3.c       pKey = sqlite3KeyInfoAlloc(pParse-&gt;db, nKey, nCol-nKey);</span>
<span class='curline'><a href='../S/185.html#L92710'>db</a>               92710 libdb/sqlite3.c       pKey = sqlite3KeyInfoAlloc(pParse-&gt;db, nCol, 0);</span>
<span class='curline'><a href='../S/185.html#L92743'>db</a>               92743 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92749'>db</a>               92749 libdb/sqlite3.c   zName = sqlite3NameFromToken(pParse-&gt;db, pName);</span>
<span class='curline'><a href='../S/185.html#L92761'>db</a>               92761 libdb/sqlite3.c     pNew = sqlite3DbRealloc(db, pWith, nByte);</span>
<span class='curline'><a href='../S/185.html#L92763'>db</a>               92763 libdb/sqlite3.c     pNew = sqlite3DbMallocZero(db, sizeof(*pWith));</span>
<span class='curline'><a href='../S/185.html#L92766'>db</a>               92766 libdb/sqlite3.c   assert( db-&gt;mallocFailed==0 || pNew==0 );</span>
<span class='curline'><a href='../S/185.html#L92769'>db</a>               92769 libdb/sqlite3.c     sqlite3ExprListDelete(db, pArglist);</span>
<span class='curline'><a href='../S/185.html#L92770'>db</a>               92770 libdb/sqlite3.c     sqlite3SelectDelete(db, pQuery);</span>
<span class='curline'><a href='../S/185.html#L92771'>db</a>               92771 libdb/sqlite3.c     sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L92787'>db</a>               92787 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3WithDelete(sqlite3 *db, With *pWith){</span>
<span class='curline'><a href='../S/185.html#L92792'>db</a>               92792 libdb/sqlite3.c       sqlite3ExprListDelete(db, pCte-&gt;pCols);</span>
<span class='curline'><a href='../S/185.html#L92793'>db</a>               92793 libdb/sqlite3.c       sqlite3SelectDelete(db, pCte-&gt;pSelect);</span>
<span class='curline'><a href='../S/185.html#L92794'>db</a>               92794 libdb/sqlite3.c       sqlite3DbFree(db, pCte-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L92796'>db</a>               92796 libdb/sqlite3.c     sqlite3DbFree(db, pWith);</span>
<span class='curline'><a href='../S/185.html#L92824'>db</a>               92824 libdb/sqlite3.c static void callCollNeeded(sqlite3 *db, int enc, const char *zName){</span>
<span class='curline'><a href='../S/185.html#L92825'>db</a>               92825 libdb/sqlite3.c   assert( !db-&gt;xCollNeeded || !db-&gt;xCollNeeded16 );</span>
<span class='curline'><a href='../S/185.html#L92826'>db</a>               92826 libdb/sqlite3.c   if( db-&gt;xCollNeeded ){</span>
<span class='curline'><a href='../S/185.html#L92827'>db</a>               92827 libdb/sqlite3.c     char *zExternal = sqlite3DbStrDup(db, zName);</span>
<span class='curline'><a href='../S/185.html#L92829'>db</a>               92829 libdb/sqlite3.c     db-&gt;xCollNeeded(db-&gt;pCollNeededArg, db, enc, zExternal);</span>
<span class='curline'><a href='../S/185.html#L92830'>db</a>               92830 libdb/sqlite3.c     sqlite3DbFree(db, zExternal);</span>
<span class='curline'><a href='../S/185.html#L92833'>db</a>               92833 libdb/sqlite3.c   if( db-&gt;xCollNeeded16 ){</span>
<span class='curline'><a href='../S/185.html#L92835'>db</a>               92835 libdb/sqlite3.c     sqlite3_value *pTmp = sqlite3ValueNew(db);</span>
<span class='curline'><a href='../S/185.html#L92839'>db</a>               92839 libdb/sqlite3.c       db-&gt;xCollNeeded16(db-&gt;pCollNeededArg, db, (int)ENC(db), zExternal);</span>
<span class='curline'><a href='../S/185.html#L92853'>db</a>               92853 libdb/sqlite3.c static int synthCollSeq(sqlite3 *db, CollSeq *pColl){</span>
<span class='curline'><a href='../S/185.html#L92859'>db</a>               92859 libdb/sqlite3.c     pColl2 = sqlite3FindCollSeq(db, aEnc[i], z, 0);</span>
<span class='curline'><a href='../S/185.html#L92890'>db</a>               92890 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92894'>db</a>               92894 libdb/sqlite3.c     p = sqlite3FindCollSeq(db, enc, zName, 0);</span>
<span class='curline'><a href='../S/185.html#L92900'>db</a>               92900 libdb/sqlite3.c     callCollNeeded(db, enc, zName);</span>
<span class='curline'><a href='../S/185.html#L92901'>db</a>               92901 libdb/sqlite3.c     p = sqlite3FindCollSeq(db, enc, zName, 0);</span>
<span class='curline'><a href='../S/185.html#L92903'>db</a>               92903 libdb/sqlite3.c   if( p &amp;&amp; !p-&gt;xCmp &amp;&amp; synthCollSeq(db, p) ){</span>
<span class='curline'><a href='../S/185.html#L92927'>db</a>               92927 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L92928'>db</a>               92928 libdb/sqlite3.c     CollSeq *p = sqlite3GetCollSeq(pParse, ENC(db), pColl, zName);</span>
<span class='curline'><a href='../S/185.html#L92953'>db</a>               92953 libdb/sqlite3.c   sqlite3 *db,          /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L92958'>db</a>               92958 libdb/sqlite3.c   pColl = sqlite3HashFind(&amp;db-&gt;aCollSeq, zName);</span>
<span class='curline'><a href='../S/185.html#L92962'>db</a>               92962 libdb/sqlite3.c     pColl = sqlite3DbMallocZero(db, 3*sizeof(*pColl) + nName + 1);</span>
<span class='curline'><a href='../S/185.html#L92973'>db</a>               92973 libdb/sqlite3.c       pDel = sqlite3HashInsert(&amp;db-&gt;aCollSeq, pColl[0].zName, pColl);</span>
<span class='curline'><a href='../S/185.html#L92981'>db</a>               92981 libdb/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L92982'>db</a>               92982 libdb/sqlite3.c         sqlite3DbFree(db, pDel);</span>
<span class='curline'><a href='../S/185.html#L93006'>db</a>               93006 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L93013'>db</a>               93013 libdb/sqlite3.c     pColl = findCollSeqEntry(db, zName, create);</span>
<span class='curline'><a href='../S/185.html#L93015'>db</a>               93015 libdb/sqlite3.c     pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L93147'>db</a>               93147 libdb/sqlite3.c   sqlite3 *db,       /* An open database */</span>
<span class='curline'><a href='../S/185.html#L93161'>db</a>               93161 libdb/sqlite3.c   h = (sqlite3UpperToLower[(u8)zName[0]] + nName) % ArraySize(db-&gt;aFunc.a);</span>
<span class='curline'><a href='../S/185.html#L93165'>db</a>               93165 libdb/sqlite3.c   p = functionSearch(&amp;db-&gt;aFunc, h, zName, nName);</span>
<span class='curline'><a href='../S/185.html#L93187'>db</a>               93187 libdb/sqlite3.c   if( !createFlag &amp;&amp; (pBest==0 || (db-&gt;flags &amp; SQLITE_PreferBuiltin)!=0) ){</span>
<span class='curline'><a href='../S/185.html#L93206'>db</a>               93206 libdb/sqlite3.c       (pBest = sqlite3DbMallocZero(db, sizeof(*pBest)+nName+1))!=0 ){</span>
<span class='curline'><a href='../S/185.html#L93212'>db</a>               93212 libdb/sqlite3.c     sqlite3FuncDefInsert(&amp;db-&gt;aFunc, pBest);</span>
<span class='curline'><a href='../S/185.html#L93261'>db</a>               93261 libdb/sqlite3.c SQLITE_PRIVATE Schema *sqlite3SchemaGet(sqlite3 *db, Btree *pBt){</span>
<span class='curline'><a href='../S/185.html#L93269'>db</a>               93269 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L93316'>db</a>               93316 libdb/sqlite3.c   sqlite3DeleteTable(pParse-&gt;db, pItem-&gt;pTab);</span>
<span class='curline'><a href='../S/185.html#L93344'>db</a>               93344 libdb/sqlite3.c      &amp;&amp; sqlite3GetVTable(pParse-&gt;db, pTab)-&gt;pMod-&gt;pModule-&gt;xUpdate==0 )</span>
<span class='curline'><a href='../S/185.html#L93346'>db</a>               93346 libdb/sqlite3.c      &amp;&amp; (pParse-&gt;db-&gt;flags &amp; SQLITE_WriteSchema)==0</span>
<span class='curline'><a href='../S/185.html#L93378'>db</a>               93378 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L93379'>db</a>               93379 libdb/sqlite3.c   int iDb = sqlite3SchemaToIndex(db, pView-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L93380'>db</a>               93380 libdb/sqlite3.c   pWhere = sqlite3ExprDup(db, pWhere, 0);</span>
<span class='curline'><a href='../S/185.html#L93381'>db</a>               93381 libdb/sqlite3.c   pFrom = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L93384'>db</a>               93384 libdb/sqlite3.c     pFrom-&gt;a[0].zName = sqlite3DbStrDup(db, pView-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L93385'>db</a>               93385 libdb/sqlite3.c     pFrom-&gt;a[0].zDatabase = sqlite3DbStrDup(db, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L93392'>db</a>               93392 libdb/sqlite3.c   sqlite3SelectDelete(db, pSel);</span>
<span class='curline'><a href='../S/185.html#L93453'>db</a>               93453 libdb/sqlite3.c   pSelectSrc = sqlite3SrcListDup(pParse-&gt;db, pSrc, 0);</span>
<span class='curline'><a href='../S/185.html#L93455'>db</a>               93455 libdb/sqlite3.c     sqlite3ExprListDelete(pParse-&gt;db, pEList);</span>
<span class='curline'><a href='../S/185.html#L93477'>db</a>               93477 libdb/sqlite3.c   sqlite3SelectDelete(pParse-&gt;db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L93481'>db</a>               93481 libdb/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L93482'>db</a>               93482 libdb/sqlite3.c   sqlite3ExprListDelete(pParse-&gt;db, pOrderBy);</span>
<span class='curline'><a href='../S/185.html#L93483'>db</a>               93483 libdb/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pLimit);</span>
<span class='curline'><a href='../S/185.html#L93484'>db</a>               93484 libdb/sqlite3.c   sqlite3ExprDelete(pParse-&gt;db, pOffset);</span>
<span class='curline'><a href='../S/185.html#L93512'>db</a>               93512 libdb/sqlite3.c   sqlite3 *db;           /* Main database structure */</span>
<span class='curline'><a href='../S/185.html#L93539'>db</a>               93539 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L93540'>db</a>               93540 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L93577'>db</a>               93577 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L93578'>db</a>               93578 libdb/sqlite3.c   assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L93579'>db</a>               93579 libdb/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L93632'>db</a>               93632 libdb/sqlite3.c   if( db-&gt;flags &amp; SQLITE_CountRows ){</span>
<span class='curline'><a href='../S/185.html#L93687'>db</a>               93687 libdb/sqlite3.c     if( db-&gt;flags &amp; SQLITE_CountRows ){</span>
<span class='curline'><a href='../S/185.html#L93710'>db</a>               93710 libdb/sqlite3.c       aToOpen = sqlite3DbMallocRaw(db, nIdx+2);</span>
<span class='curline'><a href='../S/185.html#L93781'>db</a>               93781 libdb/sqlite3.c       const char *pVTab = (const char *)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L93826'>db</a>               93826 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_CountRows) &amp;&amp; !pParse-&gt;nested &amp;&amp; !pParse-&gt;pTriggerTab ){</span>
<span class='curline'><a href='../S/185.html#L93834'>db</a>               93834 libdb/sqlite3.c   sqlite3SrcListDelete(db, pTabList);</span>
<span class='curline'><a href='../S/185.html#L93835'>db</a>               93835 libdb/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L93836'>db</a>               93836 libdb/sqlite3.c   sqlite3DbFree(db, aToOpen);</span>
<span class='curline'><a href='../S/185.html#L94359'>db</a>               94359 libdb/sqlite3.c     str.db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L94509'>db</a>               94509 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L94511'>db</a>               94511 libdb/sqlite3.c   testcase( nByte==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/185.html#L94512'>db</a>               94512 libdb/sqlite3.c   testcase( nByte==db-&gt;aLimit[SQLITE_LIMIT_LENGTH]+1 );</span>
<span class='curline'><a href='../S/185.html#L94513'>db</a>               94513 libdb/sqlite3.c   if( nByte&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L94635'>db</a>               94635 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L94640'>db</a>               94640 libdb/sqlite3.c   sqlite3_result_int64(context, sqlite3_last_insert_rowid(db));</span>
<span class='curline'><a href='../S/185.html#L94655'>db</a>               94655 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L94657'>db</a>               94657 libdb/sqlite3.c   sqlite3_result_int(context, sqlite3_changes(db));</span>
<span class='curline'><a href='../S/185.html#L94669'>db</a>               94669 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L94673'>db</a>               94673 libdb/sqlite3.c   sqlite3_result_int(context, sqlite3_total_changes(db));</span>
<span class='curline'><a href='../S/185.html#L94909'>db</a>               94909 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L94918'>db</a>               94918 libdb/sqlite3.c   testcase( nPat==db-&gt;aLimit[SQLITE_LIMIT_LIKE_PATTERN_LENGTH] );</span>
<span class='curline'><a href='../S/185.html#L94919'>db</a>               94919 libdb/sqlite3.c   testcase( nPat==db-&gt;aLimit[SQLITE_LIMIT_LIKE_PATTERN_LENGTH]+1 );</span>
<span class='curline'><a href='../S/185.html#L94920'>db</a>               94920 libdb/sqlite3.c   if( nPat &gt; db-&gt;aLimit[SQLITE_LIMIT_LIKE_PATTERN_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L95238'>db</a>               95238 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L95242'>db</a>               95242 libdb/sqlite3.c   testcase( n==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/185.html#L95243'>db</a>               95243 libdb/sqlite3.c   testcase( n==db-&gt;aLimit[SQLITE_LIMIT_LENGTH]+1 );</span>
<span class='curline'><a href='../S/185.html#L95244'>db</a>               95244 libdb/sqlite3.c   if( n&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L95308'>db</a>               95308 libdb/sqlite3.c       sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L95310'>db</a>               95310 libdb/sqlite3.c       testcase( nOut-1==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/185.html#L95311'>db</a>               95311 libdb/sqlite3.c       testcase( nOut-2==db-&gt;aLimit[SQLITE_LIMIT_LENGTH] );</span>
<span class='curline'><a href='../S/185.html#L95312'>db</a>               95312 libdb/sqlite3.c       if( nOut-1&gt;db-&gt;aLimit[SQLITE_LIMIT_LENGTH] ){</span>
<span class='curline'><a href='../S/185.html#L95489'>db</a>               95489 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L95497'>db</a>               95497 libdb/sqlite3.c   if( zFile &amp;&amp; sqlite3_load_extension(db, zFile, zProc, &amp;zErrMsg) ){</span>
<span class='curline'><a href='../S/185.html#L95647'>db</a>               95647 libdb/sqlite3.c     pBest-&gt;db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L95679'>db</a>               95679 libdb/sqlite3.c     sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L95682'>db</a>               95682 libdb/sqlite3.c     pAccum-&gt;mxAlloc = db-&gt;aLimit[SQLITE_LIMIT_LENGTH];</span>
<span class='curline'><a href='../S/185.html#L95718'>db</a>               95718 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3RegisterBuiltinFunctions(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L95719'>db</a>               95719 libdb/sqlite3.c   int rc = sqlite3_overload_function(db, "MATCH", 2);</span>
<span class='curline'><a href='../S/185.html#L95722'>db</a>               95722 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L95729'>db</a>               95729 libdb/sqlite3.c static void setLikeOptFlag(sqlite3 *db, const char *zName, u8 flagVal){</span>
<span class='curline'><a href='../S/185.html#L95731'>db</a>               95731 libdb/sqlite3.c   pDef = sqlite3FindFunction(db, zName, sqlite3Strlen30(zName),</span>
<span class='curline'><a href='../S/185.html#L95743'>db</a>               95743 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3RegisterLikeFunctions(sqlite3 *db, int caseSensitive){</span>
<span class='curline'><a href='../S/185.html#L95750'>db</a>               95750 libdb/sqlite3.c   sqlite3CreateFunc(db, "like", 2, SQLITE_UTF8, pInfo, likeFunc, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L95751'>db</a>               95751 libdb/sqlite3.c   sqlite3CreateFunc(db, "like", 3, SQLITE_UTF8, pInfo, likeFunc, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L95752'>db</a>               95752 libdb/sqlite3.c   sqlite3CreateFunc(db, "glob", 2, SQLITE_UTF8, </span>
<span class='curline'><a href='../S/185.html#L95754'>db</a>               95754 libdb/sqlite3.c   setLikeOptFlag(db, "glob", SQLITE_FUNC_LIKE | SQLITE_FUNC_CASE);</span>
<span class='curline'><a href='../S/185.html#L95755'>db</a>               95755 libdb/sqlite3.c   setLikeOptFlag(db, "like", </span>
<span class='curline'><a href='../S/185.html#L95766'>db</a>               95766 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3IsLikeFunction(sqlite3 *db, Expr *pExpr, int *pIsNocase, char *aWc){</span>
<span class='curline'><a href='../S/185.html#L95775'>db</a>               95775 libdb/sqlite3.c   pDef = sqlite3FindFunction(db, pExpr-&gt;u.zToken, </span>
<span class='curline'><a href='../S/185.html#L96131'>db</a>               96131 libdb/sqlite3.c     aiCol = (int *)sqlite3DbMallocRaw(pParse-&gt;db, nCol*sizeof(int));</span>
<span class='curline'><a href='../S/185.html#L96193'>db</a>               96193 libdb/sqlite3.c     sqlite3DbFree(pParse-&gt;db, aiCol);</span>
<span class='curline'><a href='../S/185.html#L96336'>db</a>               96336 libdb/sqlite3.c   if( !pFKey-&gt;isDeferred &amp;&amp; !(pParse-&gt;db-&gt;flags &amp; SQLITE_DeferFKs)</span>
<span class='curline'><a href='../S/185.html#L96376'>db</a>               96376 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L96378'>db</a>               96378 libdb/sqlite3.c   pExpr = sqlite3Expr(db, TK_REGISTER, 0);</span>
<span class='curline'><a href='../S/185.html#L96385'>db</a>               96385 libdb/sqlite3.c       if( zColl==0 ) zColl = db-&gt;pDfltColl-&gt;zName;</span>
<span class='curline'><a href='../S/185.html#L96400'>db</a>               96400 libdb/sqlite3.c   sqlite3 *db,      /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L96405'>db</a>               96405 libdb/sqlite3.c   Expr *pExpr = sqlite3Expr(db, TK_COLUMN, 0);</span>
<span class='curline'><a href='../S/185.html#L96452'>db</a>               96452 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L96490'>db</a>               96490 libdb/sqlite3.c     pRight = sqlite3Expr(db, TK_ID, zCol);</span>
<span class='curline'><a href='../S/185.html#L96492'>db</a>               96492 libdb/sqlite3.c     pWhere = sqlite3ExprAnd(db, pWhere, pEq);</span>
<span class='curline'><a href='../S/185.html#L96512'>db</a>               96512 libdb/sqlite3.c       pRight = exprTableColumn(db, pTab, pSrc-&gt;a[0].iCursor, -1);</span>
<span class='curline'><a href='../S/185.html#L96521'>db</a>               96521 libdb/sqlite3.c         pRight = exprTableColumn(db, pTab, pSrc-&gt;a[0].iCursor, iCol);</span>
<span class='curline'><a href='../S/185.html#L96523'>db</a>               96523 libdb/sqlite3.c         pAll = sqlite3ExprAnd(db, pAll, pEq);</span>
<span class='curline'><a href='../S/185.html#L96527'>db</a>               96527 libdb/sqlite3.c     pWhere = sqlite3ExprAnd(db, pWhere, pNe);</span>
<span class='curline'><a href='../S/185.html#L96550'>db</a>               96550 libdb/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L96611'>db</a>               96611 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L96612'>db</a>               96612 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_ForeignKeys) &amp;&amp; !IsVirtual(pTab) &amp;&amp; !pTab-&gt;pSelect ){</span>
<span class='curline'><a href='../S/185.html#L96625'>db</a>               96625 libdb/sqlite3.c         if( p-&gt;isDeferred || (db-&gt;flags &amp; SQLITE_DeferFKs) ) break;</span>
<span class='curline'><a href='../S/185.html#L96633'>db</a>               96633 libdb/sqlite3.c     sqlite3DeleteFrom(pParse, sqlite3SrcListDup(db, pName, 0), 0);</span>
<span class='curline'><a href='../S/185.html#L96645'>db</a>               96645 libdb/sqlite3.c     if( (db-&gt;flags &amp; SQLITE_DeferFKs)==0 ){</span>
<span class='curline'><a href='../S/185.html#L96750'>db</a>               96750 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L96760'>db</a>               96760 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_ForeignKeys)==0 ) return;</span>
<span class='curline'><a href='../S/185.html#L96762'>db</a>               96762 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L96763'>db</a>               96763 libdb/sqlite3.c   zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L96788'>db</a>               96788 libdb/sqlite3.c       pTo = sqlite3FindTable(db, pFKey-&gt;zTo, zDb);</span>
<span class='curline'><a href='../S/185.html#L96794'>db</a>               96794 libdb/sqlite3.c       if( !isIgnoreErrors || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L96829'>db</a>               96829 libdb/sqlite3.c       if( db-&gt;xAuth ){</span>
<span class='curline'><a href='../S/185.html#L96856'>db</a>               96856 libdb/sqlite3.c     sqlite3DbFree(db, aiFree);</span>
<span class='curline'><a href='../S/185.html#L96870'>db</a>               96870 libdb/sqlite3.c     if( !pFKey-&gt;isDeferred &amp;&amp; !(db-&gt;flags &amp; SQLITE_DeferFKs) </span>
<span class='curline'><a href='../S/185.html#L96880'>db</a>               96880 libdb/sqlite3.c       if( !isIgnoreErrors || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L96887'>db</a>               96887 libdb/sqlite3.c     pSrc = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L96908'>db</a>               96908 libdb/sqlite3.c       sqlite3SrcListDelete(db, pSrc);</span>
<span class='curline'><a href='../S/185.html#L96910'>db</a>               96910 libdb/sqlite3.c     sqlite3DbFree(db, aiCol);</span>
<span class='curline'><a href='../S/185.html#L96925'>db</a>               96925 libdb/sqlite3.c   if( pParse-&gt;db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/185.html#L96963'>db</a>               96963 libdb/sqlite3.c   if( pParse-&gt;db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/185.html#L97023'>db</a>               97023 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L97074'>db</a>               97074 libdb/sqlite3.c       pWhere = sqlite3ExprAnd(db, pWhere, pEq);</span>
<span class='curline'><a href='../S/185.html#L97092'>db</a>               97092 libdb/sqlite3.c         pWhen = sqlite3ExprAnd(db, pWhen, pEq);</span>
<span class='curline'><a href='../S/185.html#L97105'>db</a>               97105 libdb/sqlite3.c             pNew = sqlite3ExprDup(db, pDflt, 0);</span>
<span class='curline'><a href='../S/185.html#L97116'>db</a>               97116 libdb/sqlite3.c     sqlite3DbFree(db, aiCol);</span>
<span class='curline'><a href='../S/185.html#L97127'>db</a>               97127 libdb/sqlite3.c       pRaise = sqlite3Expr(db, TK_RAISE, "FOREIGN KEY constraint failed");</span>
<span class='curline'><a href='../S/185.html#L97133'>db</a>               97133 libdb/sqlite3.c           sqlite3SrcListAppend(db, 0, &amp;tFrom, 0),</span>
<span class='curline'><a href='../S/185.html#L97141'>db</a>               97141 libdb/sqlite3.c     enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L97142'>db</a>               97142 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L97144'>db</a>               97144 libdb/sqlite3.c     pTrigger = (Trigger *)sqlite3DbMallocZero(db, </span>
<span class='curline'><a href='../S/185.html#L97155'>db</a>               97155 libdb/sqlite3.c       pStep-&gt;pWhere = sqlite3ExprDup(db, pWhere, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L97156'>db</a>               97156 libdb/sqlite3.c       pStep-&gt;pExprList = sqlite3ExprListDup(db, pList, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L97157'>db</a>               97157 libdb/sqlite3.c       pStep-&gt;pSelect = sqlite3SelectDup(db, pSelect, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L97160'>db</a>               97160 libdb/sqlite3.c         pTrigger-&gt;pWhen = sqlite3ExprDup(db, pWhen, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L97165'>db</a>               97165 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/185.html#L97167'>db</a>               97167 libdb/sqlite3.c     sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L97168'>db</a>               97168 libdb/sqlite3.c     sqlite3ExprDelete(db, pWhen);</span>
<span class='curline'><a href='../S/185.html#L97169'>db</a>               97169 libdb/sqlite3.c     sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L97170'>db</a>               97170 libdb/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L97171'>db</a>               97171 libdb/sqlite3.c     if( db-&gt;mallocFailed==1 ){</span>
<span class='curline'><a href='../S/185.html#L97172'>db</a>               97172 libdb/sqlite3.c       fkTriggerDelete(db, pTrigger);</span>
<span class='curline'><a href='../S/185.html#L97215'>db</a>               97215 libdb/sqlite3.c   if( pParse-&gt;db-&gt;flags&amp;SQLITE_ForeignKeys ){</span>
<span class='curline'><a href='../S/185.html#L97235'>db</a>               97235 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3FkDelete(sqlite3 *db, Table *pTab){</span>
<span class='curline'><a href='../S/185.html#L97239'>db</a>               97239 libdb/sqlite3.c   assert( db==0 || sqlite3SchemaMutexHeld(db, 0, pTab-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L97243'>db</a>               97243 libdb/sqlite3.c     if( !db || db-&gt;pnBytesFreed==0 ){</span>
<span class='curline'><a href='../S/185.html#L97263'>db</a>               97263 libdb/sqlite3.c     fkTriggerDelete(db, pFKey-&gt;apTrigger[0]);</span>
<span class='curline'><a href='../S/185.html#L97264'>db</a>               97264 libdb/sqlite3.c     fkTriggerDelete(db, pFKey-&gt;apTrigger[1]);</span>
<span class='curline'><a href='../S/185.html#L97268'>db</a>               97268 libdb/sqlite3.c     sqlite3DbFree(db, pFKey);</span>
<span class='curline'><a href='../S/185.html#L97357'>db</a>               97357 libdb/sqlite3.c     sqlite3 *db = sqlite3VdbeDb(v);</span>
<span class='curline'><a href='../S/185.html#L97360'>db</a>               97360 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L97397'>db</a>               97397 libdb/sqlite3.c     sqlite3 *db = sqlite3VdbeDb(v);</span>
<span class='curline'><a href='../S/185.html#L97400'>db</a>               97400 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L97433'>db</a>               97433 libdb/sqlite3.c   VTable *pVTab = IsVirtual(pTab) ? sqlite3GetVTable(p-&gt;db, pTab) : 0;</span>
<span class='curline'><a href='../S/185.html#L97496'>db</a>               97496 libdb/sqlite3.c       pInfo = sqlite3DbMallocRaw(pParse-&gt;db, sizeof(*pInfo));</span>
<span class='curline'><a href='../S/185.html#L97517'>db</a>               97517 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L97530'>db</a>               97530 libdb/sqlite3.c     pDb = &amp;db-&gt;aDb[p-&gt;iDb];</span>
<span class='curline'><a href='../S/185.html#L97532'>db</a>               97532 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pDb-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L97574'>db</a>               97574 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L97578'>db</a>               97578 libdb/sqlite3.c     Db *pDb = &amp;db-&gt;aDb[p-&gt;iDb];</span>
<span class='curline'><a href='../S/185.html#L97584'>db</a>               97584 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pDb-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L97716'>db</a>               97716 libdb/sqlite3.c   sqlite3 *db;          /* The main database structure */</span>
<span class='curline'><a href='../S/185.html#L97756'>db</a>               97756 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L97758'>db</a>               97758 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L97769'>db</a>               97769 libdb/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L97782'>db</a>               97782 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L97783'>db</a>               97783 libdb/sqlite3.c   assert( iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L97784'>db</a>               97784 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L97921'>db</a>               97921 libdb/sqlite3.c     if( rc || db-&gt;mallocFailed ) goto insert_cleanup;</span>
<span class='curline'><a href='../S/185.html#L98014'>db</a>               98014 libdb/sqlite3.c   if( db-&gt;flags &amp; SQLITE_CountRows ){</span>
<span class='curline'><a href='../S/185.html#L98024'>db</a>               98024 libdb/sqlite3.c     aRegIdx = sqlite3DbMallocRaw(db, sizeof(int)*(nIdx+1));</span>
<span class='curline'><a href='../S/185.html#L98223'>db</a>               98223 libdb/sqlite3.c       const char *pVTab = (const char *)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L98243'>db</a>               98243 libdb/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L98288'>db</a>               98288 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_CountRows) &amp;&amp; !pParse-&gt;nested &amp;&amp; !pParse-&gt;pTriggerTab ){</span>
<span class='curline'><a href='../S/185.html#L98295'>db</a>               98295 libdb/sqlite3.c   sqlite3SrcListDelete(db, pTabList);</span>
<span class='curline'><a href='../S/185.html#L98296'>db</a>               98296 libdb/sqlite3.c   sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L98297'>db</a>               98297 libdb/sqlite3.c   sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L98298'>db</a>               98298 libdb/sqlite3.c   sqlite3IdListDelete(db, pColumn);</span>
<span class='curline'><a href='../S/185.html#L98299'>db</a>               98299 libdb/sqlite3.c   sqlite3DbFree(db, aRegIdx);</span>
<span class='curline'><a href='../S/185.html#L98414'>db</a>               98414 libdb/sqlite3.c   sqlite3 *db;         /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L98429'>db</a>               98429 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L98475'>db</a>               98475 libdb/sqlite3.c         char *zMsg = sqlite3MPrintf(db, "%s.%s", pTab-&gt;zName,</span>
<span class='curline'><a href='../S/185.html#L98501'>db</a>               98501 libdb/sqlite3.c   if( pTab-&gt;pCheck &amp;&amp; (db-&gt;flags &amp; SQLITE_IgnoreChecks)==0 ){</span>
<span class='curline'><a href='../S/185.html#L98601'>db</a>               98601 libdb/sqlite3.c         if( db-&gt;flags&amp;SQLITE_RecTriggers ){</span>
<span class='curline'><a href='../S/185.html#L98777'>db</a>               98777 libdb/sqlite3.c         if( db-&gt;flags&amp;SQLITE_RecTriggers ){</span>
<span class='curline'><a href='../S/185.html#L98914'>db</a>               98914 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L99188'>db</a>               99188 libdb/sqlite3.c   if( (pParse-&gt;db-&gt;flags &amp; SQLITE_ForeignKeys)!=0 &amp;&amp; pDest-&gt;pFKey!=0 ){</span>
<span class='curline'><a href='../S/185.html#L99192'>db</a>               99192 libdb/sqlite3.c   if( (pParse-&gt;db-&gt;flags &amp; SQLITE_CountRows)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L99203'>db</a>               99203 libdb/sqlite3.c   iDbSrc = sqlite3SchemaToIndex(pParse-&gt;db, pSrc-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L99327'>db</a>               99327 libdb/sqlite3.c   sqlite3 *db,                /* The database on which the SQL executes */</span>
<span class='curline'><a href='../S/185.html#L99339'>db</a>               99339 libdb/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ) return SQLITE_MISUSE_BKPT;</span>
<span class='curline'><a href='../S/185.html#L99342'>db</a>               99342 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L99343'>db</a>               99343 libdb/sqlite3.c   sqlite3Error(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L99349'>db</a>               99349 libdb/sqlite3.c     rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, &amp;zLeftover);</span>
<span class='curline'><a href='../S/185.html#L99370'>db</a>               99370 libdb/sqlite3.c                            &amp;&amp; db-&gt;flags&amp;SQLITE_NullCallback)) ){</span>
<span class='curline'><a href='../S/185.html#L99372'>db</a>               99372 libdb/sqlite3.c           azCols = sqlite3DbMallocZero(db, 2*nCol*sizeof(const char*) + 1);</span>
<span class='curline'><a href='../S/185.html#L99389'>db</a>               99389 libdb/sqlite3.c               db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L99401'>db</a>               99401 libdb/sqlite3.c           sqlite3Error(db, SQLITE_ABORT);</span>
<span class='curline'><a href='../S/185.html#L99415'>db</a>               99415 libdb/sqlite3.c     sqlite3DbFree(db, azCols);</span>
<span class='curline'><a href='../S/185.html#L99421'>db</a>               99421 libdb/sqlite3.c   sqlite3DbFree(db, azCols);</span>
<span class='curline'><a href='../S/185.html#L99423'>db</a>               99423 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L99425'>db</a>               99425 libdb/sqlite3.c     int nErrMsg = 1 + sqlite3Strlen30(sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L99428'>db</a>               99428 libdb/sqlite3.c       memcpy(*pzErrMsg, sqlite3_errmsg(db), nErrMsg);</span>
<span class='curline'><a href='../S/185.html#L99431'>db</a>               99431 libdb/sqlite3.c       sqlite3Error(db, SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/185.html#L99437'>db</a>               99437 libdb/sqlite3.c   assert( (rc&amp;db-&gt;errMask)==rc );</span>
<span class='curline'><a href='../S/185.html#L99438'>db</a>               99438 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L99559'>db</a>               99559 libdb/sqlite3.c   int  (*errcode)(sqlite3*db);</span>
<span class='curline'><a href='../S/185.html#L100384'>db</a>               100384 libdb/sqlite3.c   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/185.html#L100389'>db</a>               100389 libdb/sqlite3.c   sqlite3_vfs *pVfs = db-&gt;pVfs;</span>
<span class='curline'><a href='../S/185.html#L100419'>db</a>               100419 libdb/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_LoadExtension)==0 ){</span>
<span class='curline'><a href='../S/185.html#L100499'>db</a>               100499 libdb/sqlite3.c   if( xInit(db, &amp;zErrmsg, &amp;sqlite3Apis) ){</span>
<span class='curline'><a href='../S/185.html#L100509'>db</a>               100509 libdb/sqlite3.c   aHandle = sqlite3DbMallocZero(db, sizeof(handle)*(db-&gt;nExtension+1));</span>
<span class='curline'><a href='../S/185.html#L100513'>db</a>               100513 libdb/sqlite3.c   if( db-&gt;nExtension&gt;0 ){</span>
<span class='curline'><a href='../S/185.html#L100514'>db</a>               100514 libdb/sqlite3.c     memcpy(aHandle, db-&gt;aExtension, sizeof(handle)*db-&gt;nExtension);</span>
<span class='curline'><a href='../S/185.html#L100516'>db</a>               100516 libdb/sqlite3.c   sqlite3DbFree(db, db-&gt;aExtension);</span>
<span class='curline'><a href='../S/185.html#L100517'>db</a>               100517 libdb/sqlite3.c   db-&gt;aExtension = aHandle;</span>
<span class='curline'><a href='../S/185.html#L100519'>db</a>               100519 libdb/sqlite3.c   db-&gt;aExtension[db-&gt;nExtension++] = handle;</span>
<span class='curline'><a href='../S/185.html#L100523'>db</a>               100523 libdb/sqlite3.c   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/185.html#L100529'>db</a>               100529 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L100530'>db</a>               100530 libdb/sqlite3.c   rc = sqlite3LoadExtension(db, zFile, zProc, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L100531'>db</a>               100531 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L100532'>db</a>               100532 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L100540'>db</a>               100540 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3CloseExtensions(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L100542'>db</a>               100542 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L100543'>db</a>               100543 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nExtension; i++){</span>
<span class='curline'><a href='../S/185.html#L100544'>db</a>               100544 libdb/sqlite3.c     sqlite3OsDlClose(db-&gt;pVfs, db-&gt;aExtension[i]);</span>
<span class='curline'><a href='../S/185.html#L100546'>db</a>               100546 libdb/sqlite3.c   sqlite3DbFree(db, db-&gt;aExtension);</span>
<span class='curline'><a href='../S/185.html#L100553'>db</a>               100553 libdb/sqlite3.c SQLITE_API int sqlite3_enable_load_extension(sqlite3 *db, int onoff){</span>
<span class='curline'><a href='../S/185.html#L100554'>db</a>               100554 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L100556'>db</a>               100556 libdb/sqlite3.c     db-&gt;flags |= SQLITE_LoadExtension;</span>
<span class='curline'><a href='../S/185.html#L100558'>db</a>               100558 libdb/sqlite3.c     db-&gt;flags &amp;= ~SQLITE_LoadExtension;</span>
<span class='curline'><a href='../S/185.html#L100560'>db</a>               100560 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L100700'>db</a>               100700 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3AutoLoadExtensions(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L100726'>db</a>               100726 libdb/sqlite3.c     if( xInit &amp;&amp; (rc = xInit(db, &amp;zErrmsg, &amp;sqlite3Apis))!=0 ){</span>
<span class='curline'><a href='../S/185.html#L100727'>db</a>               100727 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, rc,</span>
<span class='curline'><a href='../S/185.html#L101308'>db</a>               101308 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L101309'>db</a>               101309 libdb/sqlite3.c   if( db-&gt;aDb[1].pBt!=0 ){</span>
<span class='curline'><a href='../S/185.html#L101310'>db</a>               101310 libdb/sqlite3.c     if( !db-&gt;autoCommit || sqlite3BtreeIsInReadTrans(db-&gt;aDb[1].pBt) ){</span>
<span class='curline'><a href='../S/185.html#L101315'>db</a>               101315 libdb/sqlite3.c     sqlite3BtreeClose(db-&gt;aDb[1].pBt);</span>
<span class='curline'><a href='../S/185.html#L101316'>db</a>               101316 libdb/sqlite3.c     db-&gt;aDb[1].pBt = 0;</span>
<span class='curline'><a href='../S/185.html#L101317'>db</a>               101317 libdb/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L101331'>db</a>               101331 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L101332'>db</a>               101332 libdb/sqlite3.c   if( db-&gt;temp_store==ts ) return SQLITE_OK;</span>
<span class='curline'><a href='../S/185.html#L101336'>db</a>               101336 libdb/sqlite3.c   db-&gt;temp_store = (u8)ts;</span>
<span class='curline'><a href='../S/185.html#L101347'>db</a>               101347 libdb/sqlite3.c   i64 *pI64 = sqlite3DbMallocRaw(pParse-&gt;db, sizeof(value));</span>
<span class='curline'><a href='../S/185.html#L101363'>db</a>               101363 libdb/sqlite3.c static void setAllPagerFlags(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L101364'>db</a>               101364 libdb/sqlite3.c   if( db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L101365'>db</a>               101365 libdb/sqlite3.c     Db *pDb = db-&gt;aDb;</span>
<span class='curline'><a href='../S/185.html#L101366'>db</a>               101366 libdb/sqlite3.c     int n = db-&gt;nDb;</span>
<span class='curline'><a href='../S/185.html#L101376'>db</a>               101376 libdb/sqlite3.c                  pDb-&gt;safety_level | (db-&gt;flags &amp; PAGER_FLAGS_MASK) );</span>
<span class='curline'><a href='../S/185.html#L101460'>db</a>               101460 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;    /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L101472'>db</a>               101472 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L101481'>db</a>               101481 libdb/sqlite3.c   zLeft = sqlite3NameFromToken(db, pId);</span>
<span class='curline'><a href='../S/185.html#L101484'>db</a>               101484 libdb/sqlite3.c     zRight = sqlite3MPrintf(db, "-%T", pValue);</span>
<span class='curline'><a href='../S/185.html#L101486'>db</a>               101486 libdb/sqlite3.c     zRight = sqlite3NameFromToken(db, pValue);</span>
<span class='curline'><a href='../S/185.html#L101503'>db</a>               101503 libdb/sqlite3.c   db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/185.html#L101504'>db</a>               101504 libdb/sqlite3.c   rc = sqlite3_file_control(db, zDb, SQLITE_FCNTL_PRAGMA, (void*)aFcntl);</span>
<span class='curline'><a href='../S/185.html#L101594'>db</a>               101594 libdb/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L101622'>db</a>               101622 libdb/sqlite3.c       db-&gt;nextPagesize = sqlite3Atoi(zRight);</span>
<span class='curline'><a href='../S/185.html#L101623'>db</a>               101623 libdb/sqlite3.c       if( SQLITE_NOMEM==sqlite3BtreeSetPageSize(pBt, db-&gt;nextPagesize,-1,0) ){</span>
<span class='curline'><a href='../S/185.html#L101624'>db</a>               101624 libdb/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L101647'>db</a>               101647 libdb/sqlite3.c       for(ii=0; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/185.html#L101648'>db</a>               101648 libdb/sqlite3.c         sqlite3BtreeSecureDelete(db-&gt;aDb[ii].pBt, b);</span>
<span class='curline'><a href='../S/185.html#L101702'>db</a>               101702 libdb/sqlite3.c       eMode = db-&gt;dfltLockMode;</span>
<span class='curline'><a href='../S/185.html#L101715'>db</a>               101715 libdb/sqlite3.c         assert(pDb==&amp;db-&gt;aDb[0]);</span>
<span class='curline'><a href='../S/185.html#L101716'>db</a>               101716 libdb/sqlite3.c         for(ii=2; ii&lt;db-&gt;nDb; ii++){</span>
<span class='curline'><a href='../S/185.html#L101717'>db</a>               101717 libdb/sqlite3.c           pPager = sqlite3BtreePager(db-&gt;aDb[ii].pBt);</span>
<span class='curline'><a href='../S/185.html#L101720'>db</a>               101720 libdb/sqlite3.c         db-&gt;dfltLockMode = (u8)eMode;</span>
<span class='curline'><a href='../S/185.html#L101771'>db</a>               101771 libdb/sqlite3.c     for(ii=db-&gt;nDb-1; ii&gt;=0; ii--){</span>
<span class='curline'><a href='../S/185.html#L101772'>db</a>               101772 libdb/sqlite3.c       if( db-&gt;aDb[ii].pBt &amp;&amp; (ii==iDb || pId2-&gt;n==0) ){</span>
<span class='curline'><a href='../S/185.html#L101817'>db</a>               101817 libdb/sqlite3.c       db-&gt;nextAutovac = (u8)eAuto;</span>
<span class='curline'><a href='../S/185.html#L101888'>db</a>               101888 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L101916'>db</a>               101916 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L101921'>db</a>               101921 libdb/sqlite3.c       if( pId2-&gt;n==0 ) db-&gt;szMmap = sz;</span>
<span class='curline'><a href='../S/185.html#L101922'>db</a>               101922 libdb/sqlite3.c       for(ii=db-&gt;nDb-1; ii&gt;=0; ii--){</span>
<span class='curline'><a href='../S/185.html#L101923'>db</a>               101923 libdb/sqlite3.c         if( db-&gt;aDb[ii].pBt &amp;&amp; (ii==iDb || pId2-&gt;n==0) ){</span>
<span class='curline'><a href='../S/185.html#L101924'>db</a>               101924 libdb/sqlite3.c           sqlite3BtreeSetMmapLimit(db-&gt;aDb[ii].pBt, sz);</span>
<span class='curline'><a href='../S/185.html#L101929'>db</a>               101929 libdb/sqlite3.c     rc = sqlite3_file_control(db, zDb, SQLITE_FCNTL_MMAP_SIZE, &amp;sz);</span>
<span class='curline'><a href='../S/185.html#L101956'>db</a>               101956 libdb/sqlite3.c       returnSingleInt(pParse, "temp_store", db-&gt;temp_store);</span>
<span class='curline'><a href='../S/185.html#L101986'>db</a>               101986 libdb/sqlite3.c         rc = sqlite3OsAccess(db-&gt;pVfs, zRight, SQLITE_ACCESS_READWRITE, &amp;res);</span>
<span class='curline'><a href='../S/185.html#L101993'>db</a>               101993 libdb/sqlite3.c        || (SQLITE_TEMP_STORE==1 &amp;&amp; db-&gt;temp_store&lt;=1)</span>
<span class='curline'><a href='../S/185.html#L101994'>db</a>               101994 libdb/sqlite3.c        || (SQLITE_TEMP_STORE==2 &amp;&amp; db-&gt;temp_store==1)</span>
<span class='curline'><a href='../S/185.html#L102036'>db</a>               102036 libdb/sqlite3.c         rc = sqlite3OsAccess(db-&gt;pVfs, zRight, SQLITE_ACCESS_READWRITE, &amp;res);</span>
<span class='curline'><a href='../S/185.html#L102111'>db</a>               102111 libdb/sqlite3.c       if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L102116'>db</a>               102116 libdb/sqlite3.c         setAllPagerFlags(db);</span>
<span class='curline'><a href='../S/185.html#L102127'>db</a>               102127 libdb/sqlite3.c                      (db-&gt;flags &amp; aPragmaNames[mid].iArg)!=0 );</span>
<span class='curline'><a href='../S/185.html#L102130'>db</a>               102130 libdb/sqlite3.c       if( db-&gt;autoCommit==0 ){</span>
<span class='curline'><a href='../S/185.html#L102136'>db</a>               102136 libdb/sqlite3.c       if( db-&gt;auth.authLevel==UAUTH_User ){</span>
<span class='curline'><a href='../S/185.html#L102143'>db</a>               102143 libdb/sqlite3.c         db-&gt;flags |= mask;</span>
<span class='curline'><a href='../S/185.html#L102145'>db</a>               102145 libdb/sqlite3.c         db-&gt;flags &amp;= ~mask;</span>
<span class='curline'><a href='../S/185.html#L102146'>db</a>               102146 libdb/sqlite3.c         if( mask==SQLITE_DeferFKs ) db-&gt;nDeferredImmCons = 0;</span>
<span class='curline'><a href='../S/185.html#L102154'>db</a>               102154 libdb/sqlite3.c       setAllPagerFlags(db);</span>
<span class='curline'><a href='../S/185.html#L102175'>db</a>               102175 libdb/sqlite3.c     pTab = sqlite3FindTable(db, zRight, zDb);</span>
<span class='curline'><a href='../S/185.html#L102255'>db</a>               102255 libdb/sqlite3.c     pIdx = sqlite3FindIndex(db, zRight, zDb);</span>
<span class='curline'><a href='../S/185.html#L102281'>db</a>               102281 libdb/sqlite3.c     pTab = sqlite3FindTable(db, zRight, zDb);</span>
<span class='curline'><a href='../S/185.html#L102307'>db</a>               102307 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L102308'>db</a>               102308 libdb/sqlite3.c       if( db-&gt;aDb[i].pBt==0 ) continue;</span>
<span class='curline'><a href='../S/185.html#L102309'>db</a>               102309 libdb/sqlite3.c       assert( db-&gt;aDb[i].zName!=0 );</span>
<span class='curline'><a href='../S/185.html#L102311'>db</a>               102311 libdb/sqlite3.c       sqlite3VdbeAddOp4(v, OP_String8, 0, 2, 0, db-&gt;aDb[i].zName, 0);</span>
<span class='curline'><a href='../S/185.html#L102313'>db</a>               102313 libdb/sqlite3.c            sqlite3BtreeGetFilename(db-&gt;aDb[i].pBt), 0);</span>
<span class='curline'><a href='../S/185.html#L102326'>db</a>               102326 libdb/sqlite3.c     for(p=sqliteHashFirst(&amp;db-&gt;aCollSeq); p; p=sqliteHashNext(p)){</span>
<span class='curline'><a href='../S/185.html#L102340'>db</a>               102340 libdb/sqlite3.c     pTab = sqlite3FindTable(db, zRight, zDb);</span>
<span class='curline'><a href='../S/185.html#L102412'>db</a>               102412 libdb/sqlite3.c     k = sqliteHashFirst(&amp;db-&gt;aDb[iDb].pSchema-&gt;tblHash);</span>
<span class='curline'><a href='../S/185.html#L102428'>db</a>               102428 libdb/sqlite3.c         pParent = sqlite3FindTable(db, pFK-&gt;zTo, zDb);</span>
<span class='curline'><a href='../S/185.html#L102450'>db</a>               102450 libdb/sqlite3.c         pParent = sqlite3FindTable(db, pFK-&gt;zTo, zDb);</span>
<span class='curline'><a href='../S/185.html#L102492'>db</a>               102492 libdb/sqlite3.c         sqlite3DbFree(db, aiCols);</span>
<span class='curline'><a href='../S/185.html#L102520'>db</a>               102520 libdb/sqlite3.c       sqlite3RegisterLikeFunctions(db, sqlite3GetBoolean(zRight, 0));</span>
<span class='curline'><a href='../S/185.html#L102579'>db</a>               102579 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L102598'>db</a>               102598 libdb/sqlite3.c       assert( sqlite3SchemaMutexHeld(db, i, 0) );</span>
<span class='curline'><a href='../S/185.html#L102599'>db</a>               102599 libdb/sqlite3.c       pTbls = &amp;db-&gt;aDb[i].pSchema-&gt;tblHash;</span>
<span class='curline'><a href='../S/185.html#L102623'>db</a>               102623 libdb/sqlite3.c          sqlite3MPrintf(db, "*** in database %s ***\n", db-&gt;aDb[i].zName),</span>
<span class='curline'><a href='../S/185.html#L102666'>db</a>               102666 libdb/sqlite3.c           zErr = sqlite3MPrintf(db, "NULL value in %s.%s", pTab-&gt;zName,</span>
<span class='curline'><a href='../S/185.html#L102804'>db</a>               102804 libdb/sqlite3.c       sqlite3VdbeChangeP4(v, -1, encnames[ENC(pParse-&gt;db)].zName, P4_STATIC);</span>
<span class='curline'><a href='../S/185.html#L102813'>db</a>               102813 libdb/sqlite3.c         !(DbHasProperty(db, 0, DB_SchemaLoaded)) || </span>
<span class='curline'><a href='../S/185.html#L102814'>db</a>               102814 libdb/sqlite3.c         DbHasProperty(db, 0, DB_Empty) </span>
<span class='curline'><a href='../S/185.html#L102818'>db</a>               102818 libdb/sqlite3.c             ENC(pParse-&gt;db) = pEnc-&gt;enc ? pEnc-&gt;enc : SQLITE_UTF16NATIVE;</span>
<span class='curline'><a href='../S/185.html#L102968'>db</a>               102968 libdb/sqlite3.c       sqlite3_wal_autocheckpoint(db, sqlite3Atoi(zRight));</span>
<span class='curline'><a href='../S/185.html#L102971'>db</a>               102971 libdb/sqlite3.c        db-&gt;xWalCallback==sqlite3WalDefaultHook ? </span>
<span class='curline'><a href='../S/185.html#L102972'>db</a>               102972 libdb/sqlite3.c            SQLITE_PTR_TO_INT(db-&gt;pWalArg) : 0);</span>
<span class='curline'><a href='../S/185.html#L102984'>db</a>               102984 libdb/sqlite3.c     sqlite3_db_release_memory(db);</span>
<span class='curline'><a href='../S/185.html#L103000'>db</a>               103000 libdb/sqlite3.c       sqlite3_busy_timeout(db, sqlite3Atoi(zRight));</span>
<span class='curline'><a href='../S/185.html#L103002'>db</a>               103002 libdb/sqlite3.c     returnSingleInt(pParse, "timeout",  db-&gt;busyTimeout);</span>
<span class='curline'><a href='../S/185.html#L103035'>db</a>               103035 libdb/sqlite3.c       sqlite3_limit(db, SQLITE_LIMIT_WORKER_THREADS, (int)(N&amp;0x7fffffff));</span>
<span class='curline'><a href='../S/185.html#L103038'>db</a>               103038 libdb/sqlite3.c                     sqlite3_limit(db, SQLITE_LIMIT_WORKER_THREADS, -1));</span>
<span class='curline'><a href='../S/185.html#L103055'>db</a>               103055 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L103059'>db</a>               103059 libdb/sqlite3.c       if( db-&gt;aDb[i].zName==0 ) continue;</span>
<span class='curline'><a href='../S/185.html#L103060'>db</a>               103060 libdb/sqlite3.c       sqlite3VdbeAddOp4(v, OP_String8, 0, 1, 0, db-&gt;aDb[i].zName, P4_STATIC);</span>
<span class='curline'><a href='../S/185.html#L103061'>db</a>               103061 libdb/sqlite3.c       pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L103064'>db</a>               103064 libdb/sqlite3.c       }else if( sqlite3_file_control(db, i ? db-&gt;aDb[i].zName : 0, </span>
<span class='curline'><a href='../S/185.html#L103077'>db</a>               103077 libdb/sqlite3.c     if( zRight ) sqlite3_key_v2(db, zDb, zRight, sqlite3Strlen30(zRight));</span>
<span class='curline'><a href='../S/185.html#L103081'>db</a>               103081 libdb/sqlite3.c     if( zRight ) sqlite3_rekey_v2(db, zDb, zRight, sqlite3Strlen30(zRight));</span>
<span class='curline'><a href='../S/185.html#L103094'>db</a>               103094 libdb/sqlite3.c         sqlite3_key_v2(db, zDb, zKey, i/2);</span>
<span class='curline'><a href='../S/185.html#L103096'>db</a>               103096 libdb/sqlite3.c         sqlite3_rekey_v2(db, zDb, zKey, i/2);</span>
<span class='curline'><a href='../S/185.html#L103121'>db</a>               103121 libdb/sqlite3.c   sqlite3DbFree(db, zLeft);</span>
<span class='curline'><a href='../S/185.html#L103122'>db</a>               103122 libdb/sqlite3.c   sqlite3DbFree(db, zRight);</span>
<span class='curline'><a href='../S/185.html#L103154'>db</a>               103154 libdb/sqlite3.c   sqlite3 *db = pData-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L103155'>db</a>               103155 libdb/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; (db-&gt;flags &amp; SQLITE_RecoveryMode)==0 ){</span>
<span class='curline'><a href='../S/185.html#L103157'>db</a>               103157 libdb/sqlite3.c     sqlite3SetString(pData-&gt;pzErrMsg, db,</span>
<span class='curline'><a href='../S/185.html#L103160'>db</a>               103160 libdb/sqlite3.c       *pData-&gt;pzErrMsg = sqlite3MAppendf(db, *pData-&gt;pzErrMsg, </span>
<span class='curline'><a href='../S/185.html#L103164'>db</a>               103164 libdb/sqlite3.c   pData-&gt;rc = db-&gt;mallocFailed ? SQLITE_NOMEM : SQLITE_CORRUPT_BKPT;</span>
<span class='curline'><a href='../S/185.html#L103181'>db</a>               103181 libdb/sqlite3.c   sqlite3 *db = pData-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L103186'>db</a>               103186 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103187'>db</a>               103187 libdb/sqlite3.c   DbClearProperty(db, iDb, DB_Empty);</span>
<span class='curline'><a href='../S/185.html#L103188'>db</a>               103188 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L103193'>db</a>               103193 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L103207'>db</a>               103207 libdb/sqlite3.c     assert( db-&gt;init.busy );</span>
<span class='curline'><a href='../S/185.html#L103208'>db</a>               103208 libdb/sqlite3.c     db-&gt;init.iDb = iDb;</span>
<span class='curline'><a href='../S/185.html#L103209'>db</a>               103209 libdb/sqlite3.c     db-&gt;init.newTnum = sqlite3Atoi(argv[1]);</span>
<span class='curline'><a href='../S/185.html#L103210'>db</a>               103210 libdb/sqlite3.c     db-&gt;init.orphanTrigger = 0;</span>
<span class='curline'><a href='../S/185.html#L103211'>db</a>               103211 libdb/sqlite3.c     TESTONLY(rcp = ) sqlite3_prepare(db, argv[2], -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L103212'>db</a>               103212 libdb/sqlite3.c     rc = db-&gt;errCode;</span>
<span class='curline'><a href='../S/185.html#L103214'>db</a>               103214 libdb/sqlite3.c     db-&gt;init.iDb = 0;</span>
<span class='curline'><a href='../S/185.html#L103216'>db</a>               103216 libdb/sqlite3.c       if( db-&gt;init.orphanTrigger ){</span>
<span class='curline'><a href='../S/185.html#L103221'>db</a>               103221 libdb/sqlite3.c           db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L103223'>db</a>               103223 libdb/sqlite3.c           corruptSchema(pData, argv[0], sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L103238'>db</a>               103238 libdb/sqlite3.c     pIndex = sqlite3FindIndex(db, argv[0], db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L103261'>db</a>               103261 libdb/sqlite3.c static int sqlite3InitOne(sqlite3 *db, int iDb, char **pzErrMsg){</span>
<span class='curline'><a href='../S/185.html#L103302'>db</a>               103302 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L103303'>db</a>               103303 libdb/sqlite3.c   assert( db-&gt;aDb[iDb].pSchema );</span>
<span class='curline'><a href='../S/185.html#L103304'>db</a>               103304 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103305'>db</a>               103305 libdb/sqlite3.c   assert( iDb==1 || sqlite3BtreeHoldsMutex(db-&gt;aDb[iDb].pBt) );</span>
<span class='curline'><a href='../S/185.html#L103323'>db</a>               103323 libdb/sqlite3.c   initData.db = db;</span>
<span class='curline'><a href='../S/185.html#L103332'>db</a>               103332 libdb/sqlite3.c   pTab = sqlite3FindTable(db, zMasterName, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L103339'>db</a>               103339 libdb/sqlite3.c   pDb = &amp;db-&gt;aDb[iDb];</span>
<span class='curline'><a href='../S/185.html#L103342'>db</a>               103342 libdb/sqlite3.c       DbSetProperty(db, 1, DB_SchemaLoaded);</span>
<span class='curline'><a href='../S/185.html#L103354'>db</a>               103354 libdb/sqlite3.c       sqlite3SetString(pzErrMsg, db, "%s", sqlite3ErrStr(rc));</span>
<span class='curline'><a href='../S/185.html#L103394'>db</a>               103394 libdb/sqlite3.c       ENC(db) = encoding;</span>
<span class='curline'><a href='../S/185.html#L103396'>db</a>               103396 libdb/sqlite3.c       ENC(db) = SQLITE_UTF8;</span>
<span class='curline'><a href='../S/185.html#L103400'>db</a>               103400 libdb/sqlite3.c       if( meta[BTREE_TEXT_ENCODING-1]!=ENC(db) ){</span>
<span class='curline'><a href='../S/185.html#L103401'>db</a>               103401 libdb/sqlite3.c         sqlite3SetString(pzErrMsg, db, "attached databases must use the same"</span>
<span class='curline'><a href='../S/185.html#L103408'>db</a>               103408 libdb/sqlite3.c     DbSetProperty(db, iDb, DB_Empty);</span>
<span class='curline'><a href='../S/185.html#L103410'>db</a>               103410 libdb/sqlite3.c   pDb-&gt;pSchema-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/185.html#L103434'>db</a>               103434 libdb/sqlite3.c     sqlite3SetString(pzErrMsg, db, "unsupported file format");</span>
<span class='curline'><a href='../S/185.html#L103445'>db</a>               103445 libdb/sqlite3.c     db-&gt;flags &amp;= ~SQLITE_LegacyFileFmt;</span>
<span class='curline'><a href='../S/185.html#L103450'>db</a>               103450 libdb/sqlite3.c   assert( db-&gt;init.busy );</span>
<span class='curline'><a href='../S/185.html#L103453'>db</a>               103453 libdb/sqlite3.c     zSql = sqlite3MPrintf(db, </span>
<span class='curline'><a href='../S/185.html#L103455'>db</a>               103455 libdb/sqlite3.c         db-&gt;aDb[iDb].zName, zMasterName);</span>
<span class='curline'><a href='../S/185.html#L103459'>db</a>               103459 libdb/sqlite3.c       xAuth = db-&gt;xAuth;</span>
<span class='curline'><a href='../S/185.html#L103460'>db</a>               103460 libdb/sqlite3.c       db-&gt;xAuth = 0;</span>
<span class='curline'><a href='../S/185.html#L103462'>db</a>               103462 libdb/sqlite3.c       rc = sqlite3_exec(db, zSql, sqlite3InitCallback, &amp;initData, 0);</span>
<span class='curline'><a href='../S/185.html#L103464'>db</a>               103464 libdb/sqlite3.c       db-&gt;xAuth = xAuth;</span>
<span class='curline'><a href='../S/185.html#L103468'>db</a>               103468 libdb/sqlite3.c     sqlite3DbFree(db, zSql);</span>
<span class='curline'><a href='../S/185.html#L103471'>db</a>               103471 libdb/sqlite3.c       sqlite3AnalysisLoad(db, iDb);</span>
<span class='curline'><a href='../S/185.html#L103475'>db</a>               103475 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L103477'>db</a>               103477 libdb/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L103479'>db</a>               103479 libdb/sqlite3.c   if( rc==SQLITE_OK || (db-&gt;flags&amp;SQLITE_RecoveryMode)){</span>
<span class='curline'><a href='../S/185.html#L103488'>db</a>               103488 libdb/sqlite3.c     DbSetProperty(db, iDb, DB_SchemaLoaded);</span>
<span class='curline'><a href='../S/185.html#L103504'>db</a>               103504 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L103519'>db</a>               103519 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Init(sqlite3 *db, char **pzErrMsg){</span>
<span class='curline'><a href='../S/185.html#L103521'>db</a>               103521 libdb/sqlite3.c   int commit_internal = !(db-&gt;flags&amp;SQLITE_InternChanges);</span>
<span class='curline'><a href='../S/185.html#L103523'>db</a>               103523 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103524'>db</a>               103524 libdb/sqlite3.c   assert( db-&gt;init.busy==0 );</span>
<span class='curline'><a href='../S/185.html#L103526'>db</a>               103526 libdb/sqlite3.c   db-&gt;init.busy = 1;</span>
<span class='curline'><a href='../S/185.html#L103527'>db</a>               103527 libdb/sqlite3.c   for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L103528'>db</a>               103528 libdb/sqlite3.c     if( DbHasProperty(db, i, DB_SchemaLoaded) || i==1 ) continue;</span>
<span class='curline'><a href='../S/185.html#L103529'>db</a>               103529 libdb/sqlite3.c     rc = sqlite3InitOne(db, i, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L103531'>db</a>               103531 libdb/sqlite3.c       sqlite3ResetOneSchema(db, i);</span>
<span class='curline'><a href='../S/185.html#L103540'>db</a>               103540 libdb/sqlite3.c   assert( db-&gt;nDb&gt;1 );</span>
<span class='curline'><a href='../S/185.html#L103541'>db</a>               103541 libdb/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; !DbHasProperty(db, 1, DB_SchemaLoaded) ){</span>
<span class='curline'><a href='../S/185.html#L103542'>db</a>               103542 libdb/sqlite3.c     rc = sqlite3InitOne(db, 1, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L103544'>db</a>               103544 libdb/sqlite3.c       sqlite3ResetOneSchema(db, 1);</span>
<span class='curline'><a href='../S/185.html#L103549'>db</a>               103549 libdb/sqlite3.c   db-&gt;init.busy = 0;</span>
<span class='curline'><a href='../S/185.html#L103551'>db</a>               103551 libdb/sqlite3.c     sqlite3CommitInternalChanges(db);</span>
<span class='curline'><a href='../S/185.html#L103563'>db</a>               103563 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L103564'>db</a>               103564 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103565'>db</a>               103565 libdb/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L103566'>db</a>               103566 libdb/sqlite3.c     rc = sqlite3Init(db, &amp;pParse-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L103582'>db</a>               103582 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L103588'>db</a>               103588 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103589'>db</a>               103589 libdb/sqlite3.c   for(iDb=0; iDb&lt;db-&gt;nDb; iDb++){</span>
<span class='curline'><a href='../S/185.html#L103591'>db</a>               103591 libdb/sqlite3.c     Btree *pBt = db-&gt;aDb[iDb].pBt;     /* Btree database to read cookie from */</span>
<span class='curline'><a href='../S/185.html#L103600'>db</a>               103600 libdb/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L103610'>db</a>               103610 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L103611'>db</a>               103611 libdb/sqlite3.c     if( cookie!=db-&gt;aDb[iDb].pSchema-&gt;schema_cookie ){</span>
<span class='curline'><a href='../S/185.html#L103612'>db</a>               103612 libdb/sqlite3.c       sqlite3ResetOneSchema(db, iDb);</span>
<span class='curline'><a href='../S/185.html#L103630'>db</a>               103630 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3SchemaToIndex(sqlite3 *db, Schema *pSchema){</span>
<span class='curline'><a href='../S/185.html#L103643'>db</a>               103643 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103645'>db</a>               103645 libdb/sqlite3.c     for(i=0; ALWAYS(i&lt;db-&gt;nDb); i++){</span>
<span class='curline'><a href='../S/185.html#L103646'>db</a>               103646 libdb/sqlite3.c       if( db-&gt;aDb[i].pSchema==pSchema ){</span>
<span class='curline'><a href='../S/185.html#L103650'>db</a>               103650 libdb/sqlite3.c     assert( i&gt;=0 &amp;&amp; i&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L103660'>db</a>               103660 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L103661'>db</a>               103661 libdb/sqlite3.c     sqlite3DbFree(db, pParse-&gt;aLabel);</span>
<span class='curline'><a href='../S/185.html#L103662'>db</a>               103662 libdb/sqlite3.c     sqlite3ExprListDelete(db, pParse-&gt;pConstExpr);</span>
<span class='curline'><a href='../S/185.html#L103670'>db</a>               103670 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/185.html#L103684'>db</a>               103684 libdb/sqlite3.c   pParse = sqlite3StackAllocZero(db, sizeof(*pParse));</span>
<span class='curline'><a href='../S/185.html#L103691'>db</a>               103691 libdb/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L103692'>db</a>               103692 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103717'>db</a>               103717 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++) {</span>
<span class='curline'><a href='../S/185.html#L103718'>db</a>               103718 libdb/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L103723'>db</a>               103723 libdb/sqlite3.c         const char *zDb = db-&gt;aDb[i].zName;</span>
<span class='curline'><a href='../S/185.html#L103724'>db</a>               103724 libdb/sqlite3.c         sqlite3ErrorWithMsg(db, rc, "database schema is locked: %s", zDb);</span>
<span class='curline'><a href='../S/185.html#L103725'>db</a>               103725 libdb/sqlite3.c         testcase( db-&gt;flags &amp; SQLITE_ReadUncommitted );</span>
<span class='curline'><a href='../S/185.html#L103731'>db</a>               103731 libdb/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/185.html#L103733'>db</a>               103733 libdb/sqlite3.c   pParse-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L103737'>db</a>               103737 libdb/sqlite3.c     int mxLen = db-&gt;aLimit[SQLITE_LIMIT_SQL_LENGTH];</span>
<span class='curline'><a href='../S/185.html#L103741'>db</a>               103741 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_TOOBIG, "statement too long");</span>
<span class='curline'><a href='../S/185.html#L103742'>db</a>               103742 libdb/sqlite3.c       rc = sqlite3ApiExit(db, SQLITE_TOOBIG);</span>
<span class='curline'><a href='../S/185.html#L103745'>db</a>               103745 libdb/sqlite3.c     zSqlCopy = sqlite3DbStrNDup(db, zSql, nBytes);</span>
<span class='curline'><a href='../S/185.html#L103748'>db</a>               103748 libdb/sqlite3.c       sqlite3DbFree(db, zSqlCopy);</span>
<span class='curline'><a href='../S/185.html#L103758'>db</a>               103758 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L103765'>db</a>               103765 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L103796'>db</a>               103796 libdb/sqlite3.c   if( db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/185.html#L103800'>db</a>               103800 libdb/sqlite3.c   if( pParse-&gt;pVdbe &amp;&amp; (rc!=SQLITE_OK || db-&gt;mallocFailed) ){</span>
<span class='curline'><a href='../S/185.html#L103808'>db</a>               103808 libdb/sqlite3.c     sqlite3ErrorWithMsg(db, rc, "%s", zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L103809'>db</a>               103809 libdb/sqlite3.c     sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L103811'>db</a>               103811 libdb/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/185.html#L103818'>db</a>               103818 libdb/sqlite3.c     sqlite3DbFree(db, pT);</span>
<span class='curline'><a href='../S/185.html#L103824'>db</a>               103824 libdb/sqlite3.c   sqlite3StackFree(db, pParse);</span>
<span class='curline'><a href='../S/185.html#L103825'>db</a>               103825 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L103826'>db</a>               103826 libdb/sqlite3.c   assert( (rc&amp;db-&gt;errMask)==rc );</span>
<span class='curline'><a href='../S/185.html#L103830'>db</a>               103830 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/185.html#L103841'>db</a>               103841 libdb/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L103844'>db</a>               103844 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L103845'>db</a>               103845 libdb/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L103846'>db</a>               103846 libdb/sqlite3.c   rc = sqlite3Prepare(db, zSql, nBytes, saveSqlFlag, pOld, ppStmt, pzTail);</span>
<span class='curline'><a href='../S/185.html#L103849'>db</a>               103849 libdb/sqlite3.c     rc = sqlite3Prepare(db, zSql, nBytes, saveSqlFlag, pOld, ppStmt, pzTail);</span>
<span class='curline'><a href='../S/185.html#L103851'>db</a>               103851 libdb/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L103852'>db</a>               103852 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L103869'>db</a>               103869 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L103874'>db</a>               103874 libdb/sqlite3.c   db = sqlite3VdbeDb(p);</span>
<span class='curline'><a href='../S/185.html#L103875'>db</a>               103875 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L103876'>db</a>               103876 libdb/sqlite3.c   rc = sqlite3LockAndPrepare(db, zSql, -1, 0, p, &amp;pNew, 0);</span>
<span class='curline'><a href='../S/185.html#L103879'>db</a>               103879 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L103903'>db</a>               103903 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/185.html#L103910'>db</a>               103910 libdb/sqlite3.c   rc = sqlite3LockAndPrepare(db,zSql,nBytes,0,0,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/185.html#L103915'>db</a>               103915 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */</span>
<span class='curline'><a href='../S/185.html#L103922'>db</a>               103922 libdb/sqlite3.c   rc = sqlite3LockAndPrepare(db,zSql,nBytes,1,0,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/185.html#L103933'>db</a>               103933 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */ </span>
<span class='curline'><a href='../S/185.html#L103950'>db</a>               103950 libdb/sqlite3.c   if( !sqlite3SafetyCheckOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L103959'>db</a>               103959 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L103960'>db</a>               103960 libdb/sqlite3.c   zSql8 = sqlite3Utf16to8(db, zSql, nBytes, SQLITE_UTF16NATIVE);</span>
<span class='curline'><a href='../S/185.html#L103962'>db</a>               103962 libdb/sqlite3.c     rc = sqlite3LockAndPrepare(db, zSql8, -1, saveSqlFlag, 0, ppStmt, &amp;zTail8);</span>
<span class='curline'><a href='../S/185.html#L103974'>db</a>               103974 libdb/sqlite3.c   sqlite3DbFree(db, zSql8); </span>
<span class='curline'><a href='../S/185.html#L103975'>db</a>               103975 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L103976'>db</a>               103976 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L103989'>db</a>               103989 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */ </span>
<span class='curline'><a href='../S/185.html#L103996'>db</a>               103996 libdb/sqlite3.c   rc = sqlite3Prepare16(db,zSql,nBytes,0,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/185.html#L104001'>db</a>               104001 libdb/sqlite3.c   sqlite3 *db,              /* Database handle. */ </span>
<span class='curline'><a href='../S/185.html#L104008'>db</a>               104008 libdb/sqlite3.c   rc = sqlite3Prepare16(db,zSql,nBytes,1,ppStmt,pzTail);</span>
<span class='curline'><a href='../S/185.html#L104079'>db</a>               104079 libdb/sqlite3.c static void clearSelect(sqlite3 *db, Select *p){</span>
<span class='curline'><a href='../S/185.html#L104080'>db</a>               104080 libdb/sqlite3.c   sqlite3ExprListDelete(db, p-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L104081'>db</a>               104081 libdb/sqlite3.c   sqlite3SrcListDelete(db, p-&gt;pSrc);</span>
<span class='curline'><a href='../S/185.html#L104082'>db</a>               104082 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pWhere);</span>
<span class='curline'><a href='../S/185.html#L104083'>db</a>               104083 libdb/sqlite3.c   sqlite3ExprListDelete(db, p-&gt;pGroupBy);</span>
<span class='curline'><a href='../S/185.html#L104084'>db</a>               104084 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pHaving);</span>
<span class='curline'><a href='../S/185.html#L104085'>db</a>               104085 libdb/sqlite3.c   sqlite3ExprListDelete(db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/185.html#L104086'>db</a>               104086 libdb/sqlite3.c   sqlite3SelectDelete(db, p-&gt;pPrior);</span>
<span class='curline'><a href='../S/185.html#L104087'>db</a>               104087 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/185.html#L104088'>db</a>               104088 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pOffset);</span>
<span class='curline'><a href='../S/185.html#L104089'>db</a>               104089 libdb/sqlite3.c   sqlite3WithDelete(db, p-&gt;pWith);</span>
<span class='curline'><a href='../S/185.html#L104122'>db</a>               104122 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L104123'>db</a>               104123 libdb/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/185.html#L104124'>db</a>               104124 libdb/sqlite3.c   assert( db-&gt;mallocFailed || !pOffset || pLimit ); /* OFFSET implies LIMIT */</span>
<span class='curline'><a href='../S/185.html#L104126'>db</a>               104126 libdb/sqlite3.c     assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L104131'>db</a>               104131 libdb/sqlite3.c     pEList = sqlite3ExprListAppend(pParse, 0, sqlite3Expr(db,TK_ALL,0));</span>
<span class='curline'><a href='../S/185.html#L104134'>db</a>               104134 libdb/sqlite3.c   if( pSrc==0 ) pSrc = sqlite3DbMallocZero(db, sizeof(*pSrc));</span>
<span class='curline'><a href='../S/185.html#L104147'>db</a>               104147 libdb/sqlite3.c   if( db-&gt;mallocFailed ) {</span>
<span class='curline'><a href='../S/185.html#L104148'>db</a>               104148 libdb/sqlite3.c     clearSelect(db, pNew);</span>
<span class='curline'><a href='../S/185.html#L104149'>db</a>               104149 libdb/sqlite3.c     if( pNew!=&amp;standin ) sqlite3DbFree(db, pNew);</span>
<span class='curline'><a href='../S/185.html#L104173'>db</a>               104173 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3SelectDelete(sqlite3 *db, Select *p){</span>
<span class='curline'><a href='../S/185.html#L104175'>db</a>               104175 libdb/sqlite3.c     clearSelect(db, p);</span>
<span class='curline'><a href='../S/185.html#L104176'>db</a>               104176 libdb/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L104328'>db</a>               104328 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L104338'>db</a>               104338 libdb/sqlite3.c   pE1 = sqlite3CreateColumnExpr(db, pSrc, iLeft, iColLeft);</span>
<span class='curline'><a href='../S/185.html#L104339'>db</a>               104339 libdb/sqlite3.c   pE2 = sqlite3CreateColumnExpr(db, pSrc, iRight, iColRight);</span>
<span class='curline'><a href='../S/185.html#L104348'>db</a>               104348 libdb/sqlite3.c   *ppWhere = sqlite3ExprAnd(db, *ppWhere, pEq);</span>
<span class='curline'><a href='../S/185.html#L104454'>db</a>               104454 libdb/sqlite3.c       p-&gt;pWhere = sqlite3ExprAnd(pParse-&gt;db, p-&gt;pWhere, pRight-&gt;pOn);</span>
<span class='curline'><a href='../S/185.html#L104555'>db</a>               104555 libdb/sqlite3.c     if( pParse-&gt;db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L104776'>db</a>               104776 libdb/sqlite3.c         assert( sqlite3VdbeCurrentAddr(v)==iJump || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L104996'>db</a>               104996 libdb/sqlite3.c SQLITE_PRIVATE KeyInfo *sqlite3KeyInfoAlloc(sqlite3 *db, int N, int X){</span>
<span class='curline'><a href='../S/185.html#L105003'>db</a>               105003 libdb/sqlite3.c     p-&gt;enc = ENC(db);</span>
<span class='curline'><a href='../S/185.html#L105004'>db</a>               105004 libdb/sqlite3.c     p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L105007'>db</a>               105007 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L105067'>db</a>               105067 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L105071'>db</a>               105071 libdb/sqlite3.c   pInfo = sqlite3KeyInfoAlloc(db, nExpr+nExtra-iStart, 1);</span>
<span class='curline'><a href='../S/185.html#L105077'>db</a>               105077 libdb/sqlite3.c       if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L105115'>db</a>               105115 libdb/sqlite3.c     char *zMsg = sqlite3MPrintf(pParse-&gt;db, "USE TEMP B-TREE FOR %s", zUsage);</span>
<span class='curline'><a href='../S/185.html#L105161'>db</a>               105161 libdb/sqlite3.c         pParse-&gt;db, "COMPOUND SUBQUERIES %d AND %d %s(%s)", iSub1, iSub2,</span>
<span class='curline'><a href='../S/185.html#L105427'>db</a>               105427 libdb/sqlite3.c           int iDb = sqlite3SchemaToIndex(pNC-&gt;pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L105428'>db</a>               105428 libdb/sqlite3.c           zOrigDb = pNC-&gt;pParse-&gt;db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L105523'>db</a>               105523 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L105533'>db</a>               105533 libdb/sqlite3.c   if( pParse-&gt;colNamesSet || NEVER(v==0) || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L105535'>db</a>               105535 libdb/sqlite3.c   fullNames = (db-&gt;flags &amp; SQLITE_FullColNames)!=0;</span>
<span class='curline'><a href='../S/185.html#L105536'>db</a>               105536 libdb/sqlite3.c   shortNames = (db-&gt;flags &amp; SQLITE_ShortColNames)!=0;</span>
<span class='curline'><a href='../S/185.html#L105563'>db</a>               105563 libdb/sqlite3.c             sqlite3DbStrDup(db, pEList-&gt;a[i].zSpan), SQLITE_DYNAMIC);</span>
<span class='curline'><a href='../S/185.html#L105566'>db</a>               105566 libdb/sqlite3.c         zName = sqlite3MPrintf(db, "%s.%s", pTab-&gt;zName, zCol);</span>
<span class='curline'><a href='../S/185.html#L105573'>db</a>               105573 libdb/sqlite3.c       z = z==0 ? sqlite3MPrintf(db, "column%d", i+1) : sqlite3DbStrDup(db, z);</span>
<span class='curline'><a href='../S/185.html#L105599'>db</a>               105599 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L105610'>db</a>               105610 libdb/sqlite3.c     aCol = sqlite3DbMallocZero(db, sizeof(aCol[0])*nCol);</span>
<span class='curline'><a href='../S/185.html#L105625'>db</a>               105625 libdb/sqlite3.c       zName = sqlite3DbStrDup(db, zName);</span>
<span class='curline'><a href='../S/185.html#L105638'>db</a>               105638 libdb/sqlite3.c         zName = sqlite3MPrintf(db, "%s",</span>
<span class='curline'><a href='../S/185.html#L105642'>db</a>               105642 libdb/sqlite3.c         zName = sqlite3MPrintf(db, "%s", pColExpr-&gt;u.zToken);</span>
<span class='curline'><a href='../S/185.html#L105645'>db</a>               105645 libdb/sqlite3.c         zName = sqlite3MPrintf(db, "%s", pEList-&gt;a[i].zSpan);</span>
<span class='curline'><a href='../S/185.html#L105648'>db</a>               105648 libdb/sqlite3.c     if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L105649'>db</a>               105649 libdb/sqlite3.c       sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L105664'>db</a>               105664 libdb/sqlite3.c         zNewName = sqlite3MPrintf(db, "%s:%d", zName, ++cnt);</span>
<span class='curline'><a href='../S/185.html#L105665'>db</a>               105665 libdb/sqlite3.c         sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L105673'>db</a>               105673 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L105675'>db</a>               105675 libdb/sqlite3.c       sqlite3DbFree(db, aCol[j].zName);</span>
<span class='curline'><a href='../S/185.html#L105677'>db</a>               105677 libdb/sqlite3.c     sqlite3DbFree(db, aCol);</span>
<span class='curline'><a href='../S/185.html#L105701'>db</a>               105701 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L105712'>db</a>               105712 libdb/sqlite3.c   assert( pTab-&gt;nCol==pSelect-&gt;pEList-&gt;nExpr || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L105713'>db</a>               105713 libdb/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L105719'>db</a>               105719 libdb/sqlite3.c     pCol-&gt;zType = sqlite3DbStrDup(db, columnType(&amp;sNC, p,0,0,0, &amp;pCol-&gt;szEst));</span>
<span class='curline'><a href='../S/185.html#L105725'>db</a>               105725 libdb/sqlite3.c       pCol-&gt;zColl = sqlite3DbStrDup(db, pColl-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L105737'>db</a>               105737 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L105740'>db</a>               105740 libdb/sqlite3.c   savedFlags = db-&gt;flags;</span>
<span class='curline'><a href='../S/185.html#L105741'>db</a>               105741 libdb/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_FullColNames;</span>
<span class='curline'><a href='../S/185.html#L105742'>db</a>               105742 libdb/sqlite3.c   db-&gt;flags |= SQLITE_ShortColNames;</span>
<span class='curline'><a href='../S/185.html#L105746'>db</a>               105746 libdb/sqlite3.c   db-&gt;flags = savedFlags;</span>
<span class='curline'><a href='../S/185.html#L105747'>db</a>               105747 libdb/sqlite3.c   pTab = sqlite3DbMallocZero(db, sizeof(Table) );</span>
<span class='curline'><a href='../S/185.html#L105753'>db</a>               105753 libdb/sqlite3.c   assert( db-&gt;lookaside.bEnabled==0 );</span>
<span class='curline'><a href='../S/185.html#L105760'>db</a>               105760 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L105761'>db</a>               105761 libdb/sqlite3.c     sqlite3DeleteTable(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L105777'>db</a>               105777 libdb/sqlite3.c      &amp;&amp; OptimizationEnabled(pParse-&gt;db,SQLITE_FactorOutConst)</span>
<span class='curline'><a href='../S/185.html#L105896'>db</a>               105896 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L105897'>db</a>               105897 libdb/sqlite3.c   KeyInfo *pRet = sqlite3KeyInfoAlloc(db, nOrderBy+nExtra, 1);</span>
<span class='curline'><a href='../S/185.html#L105909'>db</a>               105909 libdb/sqlite3.c         if( pColl==0 ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L106078'>db</a>               106078 libdb/sqlite3.c   sqlite3ExprListDelete(pParse-&gt;db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/185.html#L106135'>db</a>               106135 libdb/sqlite3.c   sqlite3 *db;          /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L106146'>db</a>               106146 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L106304'>db</a>               106304 libdb/sqlite3.c       sqlite3ExprListDelete(db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/185.html#L106309'>db</a>               106309 libdb/sqlite3.c       sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/185.html#L106389'>db</a>               106389 libdb/sqlite3.c       sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/185.html#L106441'>db</a>               106441 libdb/sqlite3.c     pKeyInfo = sqlite3KeyInfoAlloc(db, nCol, 1);</span>
<span class='curline'><a href='../S/185.html#L106449'>db</a>               106449 libdb/sqlite3.c         *apColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L106474'>db</a>               106474 libdb/sqlite3.c   sqlite3SelectDelete(db, pDelete);</span>
<span class='curline'><a href='../S/185.html#L106528'>db</a>               106528 libdb/sqlite3.c   if( pParse-&gt;db-&gt;mallocFailed ) return 0;</span>
<span class='curline'><a href='../S/185.html#L106756'>db</a>               106756 libdb/sqlite3.c   sqlite3 *db;          /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L106767'>db</a>               106767 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L106788'>db</a>               106788 libdb/sqlite3.c     for(i=1; db-&gt;mallocFailed==0 &amp;&amp; i&lt;=p-&gt;pEList-&gt;nExpr; i++){</span>
<span class='curline'><a href='../S/185.html#L106795'>db</a>               106795 libdb/sqlite3.c         Expr *pNew = sqlite3Expr(db, TK_INTEGER, 0);</span>
<span class='curline'><a href='../S/185.html#L106812'>db</a>               106812 libdb/sqlite3.c   aPermute = sqlite3DbMallocRaw(db, sizeof(int)*nOrderBy);</span>
<span class='curline'><a href='../S/185.html#L106828'>db</a>               106828 libdb/sqlite3.c   pPrior-&gt;pOrderBy = sqlite3ExprListDup(pParse-&gt;db, pOrderBy, 0);</span>
<span class='curline'><a href='../S/185.html#L106838'>db</a>               106838 libdb/sqlite3.c     assert( nOrderBy&gt;=nExpr || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L106842'>db</a>               106842 libdb/sqlite3.c     pKeyDup = sqlite3KeyInfoAlloc(db, nExpr, 1);</span>
<span class='curline'><a href='../S/185.html#L106872'>db</a>               106872 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pLimit);</span>
<span class='curline'><a href='../S/185.html#L106874'>db</a>               106874 libdb/sqlite3.c   sqlite3ExprDelete(db, p-&gt;pOffset);</span>
<span class='curline'><a href='../S/185.html#L107019'>db</a>               107019 libdb/sqlite3.c     sqlite3SelectDelete(db, p-&gt;pPrior);</span>
<span class='curline'><a href='../S/185.html#L107050'>db</a>               107050 libdb/sqlite3.c   sqlite3 *db,        /* Report malloc errors to this connection */</span>
<span class='curline'><a href='../S/185.html#L107063'>db</a>               107063 libdb/sqlite3.c       pNew = sqlite3ExprDup(db, pEList-&gt;a[pExpr-&gt;iColumn].pExpr, 0);</span>
<span class='curline'><a href='../S/185.html#L107064'>db</a>               107064 libdb/sqlite3.c       sqlite3ExprDelete(db, pExpr);</span>
<span class='curline'><a href='../S/185.html#L107068'>db</a>               107068 libdb/sqlite3.c     pExpr-&gt;pLeft = substExpr(db, pExpr-&gt;pLeft, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107069'>db</a>               107069 libdb/sqlite3.c     pExpr-&gt;pRight = substExpr(db, pExpr-&gt;pRight, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107071'>db</a>               107071 libdb/sqlite3.c       substSelect(db, pExpr-&gt;x.pSelect, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107073'>db</a>               107073 libdb/sqlite3.c       substExprList(db, pExpr-&gt;x.pList, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107079'>db</a>               107079 libdb/sqlite3.c   sqlite3 *db,         /* Report malloc errors here */</span>
<span class='curline'><a href='../S/185.html#L107087'>db</a>               107087 libdb/sqlite3.c     pList-&gt;a[i].pExpr = substExpr(db, pList-&gt;a[i].pExpr, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107091'>db</a>               107091 libdb/sqlite3.c   sqlite3 *db,         /* Report malloc errors here */</span>
<span class='curline'><a href='../S/185.html#L107100'>db</a>               107100 libdb/sqlite3.c   substExprList(db, p-&gt;pEList, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107101'>db</a>               107101 libdb/sqlite3.c   substExprList(db, p-&gt;pGroupBy, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107102'>db</a>               107102 libdb/sqlite3.c   substExprList(db, p-&gt;pOrderBy, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107103'>db</a>               107103 libdb/sqlite3.c   p-&gt;pHaving = substExpr(db, p-&gt;pHaving, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107104'>db</a>               107104 libdb/sqlite3.c   p-&gt;pWhere = substExpr(db, p-&gt;pWhere, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107105'>db</a>               107105 libdb/sqlite3.c   substSelect(db, p-&gt;pPrior, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107110'>db</a>               107110 libdb/sqlite3.c       substSelect(db, pItem-&gt;pSelect, iTable, pEList);</span>
<span class='curline'><a href='../S/185.html#L107271'>db</a>               107271 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L107277'>db</a>               107277 libdb/sqlite3.c   if( OptimizationDisabled(db, SQLITE_QueryFlattener) ) return 0;</span>
<span class='curline'><a href='../S/185.html#L107448'>db</a>               107448 libdb/sqlite3.c     pNew = sqlite3SelectDup(db, p, 0);</span>
<span class='curline'><a href='../S/185.html#L107466'>db</a>               107466 libdb/sqlite3.c     if( db-&gt;mallocFailed ) return 1;</span>
<span class='curline'><a href='../S/185.html#L107477'>db</a>               107477 libdb/sqlite3.c   sqlite3DbFree(db, pSubitem-&gt;zDatabase);</span>
<span class='curline'><a href='../S/185.html#L107478'>db</a>               107478 libdb/sqlite3.c   sqlite3DbFree(db, pSubitem-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L107479'>db</a>               107479 libdb/sqlite3.c   sqlite3DbFree(db, pSubitem-&gt;zAlias);</span>
<span class='curline'><a href='../S/185.html#L107529'>db</a>               107529 libdb/sqlite3.c       pSrc = pParent-&gt;pSrc = sqlite3SrcListAppend(db, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L107531'>db</a>               107531 libdb/sqlite3.c         assert( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L107552'>db</a>               107552 libdb/sqlite3.c       pParent-&gt;pSrc = pSrc = sqlite3SrcListEnlarge(db, pSrc, nSubSrc-1,iFrom+1);</span>
<span class='curline'><a href='../S/185.html#L107553'>db</a>               107553 libdb/sqlite3.c       if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L107562'>db</a>               107562 libdb/sqlite3.c       sqlite3IdListDelete(db, pSrc-&gt;a[i+iFrom].pUsing);</span>
<span class='curline'><a href='../S/185.html#L107583'>db</a>               107583 libdb/sqlite3.c         char *zName = sqlite3DbStrDup(db, pList-&gt;a[i].zSpan);</span>
<span class='curline'><a href='../S/185.html#L107588'>db</a>               107588 libdb/sqlite3.c     substExprList(db, pParent-&gt;pEList, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L107590'>db</a>               107590 libdb/sqlite3.c       substExprList(db, pParent-&gt;pGroupBy, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L107591'>db</a>               107591 libdb/sqlite3.c       pParent-&gt;pHaving = substExpr(db, pParent-&gt;pHaving, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L107613'>db</a>               107613 libdb/sqlite3.c       substExprList(db, pParent-&gt;pOrderBy, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L107616'>db</a>               107616 libdb/sqlite3.c       pWhere = sqlite3ExprDup(db, pSub-&gt;pWhere, 0);</span>
<span class='curline'><a href='../S/185.html#L107624'>db</a>               107624 libdb/sqlite3.c       pParent-&gt;pHaving = substExpr(db, pParent-&gt;pHaving, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L107625'>db</a>               107625 libdb/sqlite3.c       pParent-&gt;pHaving = sqlite3ExprAnd(db, pParent-&gt;pHaving, </span>
<span class='curline'><a href='../S/185.html#L107626'>db</a>               107626 libdb/sqlite3.c                                   sqlite3ExprDup(db, pSub-&gt;pHaving, 0));</span>
<span class='curline'><a href='../S/185.html#L107628'>db</a>               107628 libdb/sqlite3.c       pParent-&gt;pGroupBy = sqlite3ExprListDup(db, pSub-&gt;pGroupBy, 0);</span>
<span class='curline'><a href='../S/185.html#L107630'>db</a>               107630 libdb/sqlite3.c       pParent-&gt;pWhere = substExpr(db, pParent-&gt;pWhere, iParent, pSub-&gt;pEList);</span>
<span class='curline'><a href='../S/185.html#L107631'>db</a>               107631 libdb/sqlite3.c       pParent-&gt;pWhere = sqlite3ExprAnd(db, pParent-&gt;pWhere, pWhere);</span>
<span class='curline'><a href='../S/185.html#L107654'>db</a>               107654 libdb/sqlite3.c   sqlite3SelectDelete(db, pSub1);</span>
<span class='curline'><a href='../S/185.html#L107792'>db</a>               107792 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L107811'>db</a>               107811 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L107812'>db</a>               107812 libdb/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(*pNew) );</span>
<span class='curline'><a href='../S/185.html#L107819'>db</a>               107819 libdb/sqlite3.c   p-&gt;pEList = sqlite3ExprListAppend(pParse, 0, sqlite3Expr(db, TK_ALL, 0));</span>
<span class='curline'><a href='../S/185.html#L107906'>db</a>               107906 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L107931'>db</a>               107931 libdb/sqlite3.c     pFrom-&gt;pTab = pTab = sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/185.html#L107934'>db</a>               107934 libdb/sqlite3.c     pTab-&gt;zName = sqlite3DbStrDup(db, pCte-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L107938'>db</a>               107938 libdb/sqlite3.c     pFrom-&gt;pSelect = sqlite3SelectDup(db, pCte-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/185.html#L107939'>db</a>               107939 libdb/sqlite3.c     if( db-&gt;mallocFailed ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/185.html#L108057'>db</a>               108057 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L108062'>db</a>               108062 libdb/sqlite3.c   if( db-&gt;mallocFailed  ){</span>
<span class='curline'><a href='../S/185.html#L108105'>db</a>               108105 libdb/sqlite3.c       pFrom-&gt;pTab = pTab = sqlite3DbMallocZero(db, sizeof(Table));</span>
<span class='curline'><a href='../S/185.html#L108108'>db</a>               108108 libdb/sqlite3.c       pTab-&gt;zName = sqlite3MPrintf(db, "sqlite_sq_%p", (void*)pTab);</span>
<span class='curline'><a href='../S/185.html#L108132'>db</a>               108132 libdb/sqlite3.c         pFrom-&gt;pSelect = sqlite3SelectDup(db, pTab-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/185.html#L108147'>db</a>               108147 libdb/sqlite3.c   if( db-&gt;mallocFailed || sqliteProcessJoin(pParse, p) ){</span>
<span class='curline'><a href='../S/185.html#L108176'>db</a>               108176 libdb/sqlite3.c     int flags = pParse-&gt;db-&gt;flags;</span>
<span class='curline'><a href='../S/185.html#L108221'>db</a>               108221 libdb/sqlite3.c           if( db-&gt;mallocFailed ) break;</span>
<span class='curline'><a href='../S/185.html#L108227'>db</a>               108227 libdb/sqlite3.c             iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L108228'>db</a>               108228 libdb/sqlite3.c             zSchemaName = iDb&gt;=0 ? db-&gt;aDb[iDb].zName : "*";</span>
<span class='curline'><a href='../S/185.html#L108267'>db</a>               108267 libdb/sqlite3.c             pRight = sqlite3Expr(db, TK_ID, zName);</span>
<span class='curline'><a href='../S/185.html#L108272'>db</a>               108272 libdb/sqlite3.c               pLeft = sqlite3Expr(db, TK_ID, zTabName);</span>
<span class='curline'><a href='../S/185.html#L108275'>db</a>               108275 libdb/sqlite3.c                 pLeft = sqlite3Expr(db, TK_ID, zSchemaName);</span>
<span class='curline'><a href='../S/185.html#L108279'>db</a>               108279 libdb/sqlite3.c                 zColname = sqlite3MPrintf(db, "%s.%s", zTabName, zName);</span>
<span class='curline'><a href='../S/185.html#L108292'>db</a>               108292 libdb/sqlite3.c                 pX-&gt;zSpan = sqlite3DbStrDup(db, pSub-&gt;pEList-&gt;a[j].zSpan);</span>
<span class='curline'><a href='../S/185.html#L108295'>db</a>               108295 libdb/sqlite3.c                 pX-&gt;zSpan = sqlite3MPrintf(db, "%s.%s.%s",</span>
<span class='curline'><a href='../S/185.html#L108301'>db</a>               108301 libdb/sqlite3.c             sqlite3DbFree(db, zToFree);</span>
<span class='curline'><a href='../S/185.html#L108313'>db</a>               108313 libdb/sqlite3.c     sqlite3ExprListDelete(db, pEList);</span>
<span class='curline'><a href='../S/185.html#L108317'>db</a>               108317 libdb/sqlite3.c   if( p-&gt;pEList &amp;&amp; p-&gt;pEList-&gt;nExpr&gt;db-&gt;aLimit[SQLITE_LIMIT_COLUMN] ){</span>
<span class='curline'><a href='../S/185.html#L108443'>db</a>               108443 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L108445'>db</a>               108445 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L108446'>db</a>               108446 libdb/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L108449'>db</a>               108449 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L108451'>db</a>               108451 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L108557'>db</a>               108557 libdb/sqlite3.c         pColl = pParse-&gt;db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L108609'>db</a>               108609 libdb/sqlite3.c     char *zEqp = sqlite3MPrintf(pParse-&gt;db, "SCAN TABLE %s%s%s",</span>
<span class='curline'><a href='../S/185.html#L108655'>db</a>               108655 libdb/sqlite3.c   sqlite3 *db;           /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L108662'>db</a>               108662 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L108663'>db</a>               108663 libdb/sqlite3.c   if( p==0 || db-&gt;mallocFailed || pParse-&gt;nErr ){</span>
<span class='curline'><a href='../S/185.html#L108687'>db</a>               108687 libdb/sqlite3.c     sqlite3ExprListDelete(db, p-&gt;pOrderBy);</span>
<span class='curline'><a href='../S/185.html#L108696'>db</a>               108696 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L108758'>db</a>               108758 libdb/sqlite3.c            &amp;&amp; OptimizationEnabled(db, SQLITE_SubqCoroutine)</span>
<span class='curline'><a href='../S/185.html#L108809'>db</a>               108809 libdb/sqlite3.c     if( /*pParse-&gt;nErr ||*/ db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L108858'>db</a>               108858 libdb/sqlite3.c     p-&gt;pGroupBy = sqlite3ExprListDup(db, p-&gt;pEList, 0);</span>
<span class='curline'><a href='../S/185.html#L109028'>db</a>               109028 libdb/sqlite3.c     if( db-&gt;mallocFailed ) goto select_end;</span>
<span class='curline'><a href='../S/185.html#L109155'>db</a>               109155 libdb/sqlite3.c       if( orderByGrp &amp;&amp; OptimizationEnabled(db, SQLITE_GroupByOrder) </span>
<span class='curline'><a href='../S/185.html#L109278'>db</a>               109278 libdb/sqlite3.c         const int iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L109359'>db</a>               109359 libdb/sqlite3.c           pMinMax = sqlite3ExprListDup(db, pMinMax, 0);</span>
<span class='curline'><a href='../S/185.html#L109361'>db</a>               109361 libdb/sqlite3.c           if( pMinMax &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L109374'>db</a>               109374 libdb/sqlite3.c           sqlite3ExprListDelete(db, pDel);</span>
<span class='curline'><a href='../S/185.html#L109392'>db</a>               109392 libdb/sqlite3.c       sqlite3ExprListDelete(db, pDel);</span>
<span class='curline'><a href='../S/185.html#L109431'>db</a>               109431 libdb/sqlite3.c   sqlite3DbFree(db, sAggInfo.aCol);</span>
<span class='curline'><a href='../S/185.html#L109432'>db</a>               109432 libdb/sqlite3.c   sqlite3DbFree(db, sAggInfo.aFunc);</span>
<span class='curline'><a href='../S/185.html#L109653'>db</a>               109653 libdb/sqlite3.c   sqlite3 *db,                /* The database on which the SQL executes */</span>
<span class='curline'><a href='../S/185.html#L109675'>db</a>               109675 libdb/sqlite3.c      db-&gt;errCode = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/185.html#L109679'>db</a>               109679 libdb/sqlite3.c   rc = sqlite3_exec(db, zSql, sqlite3_get_table_cb, &amp;res, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L109691'>db</a>               109691 libdb/sqlite3.c     db-&gt;errCode = res.rc;  /* Assume 32-bit assignment is atomic */</span>
<span class='curline'><a href='../S/185.html#L109704'>db</a>               109704 libdb/sqlite3.c       db-&gt;errCode = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/185.html#L109752'>db</a>               109752 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteTriggerStep(sqlite3 *db, TriggerStep *pTriggerStep){</span>
<span class='curline'><a href='../S/185.html#L109757'>db</a>               109757 libdb/sqlite3.c     sqlite3ExprDelete(db, pTmp-&gt;pWhere);</span>
<span class='curline'><a href='../S/185.html#L109758'>db</a>               109758 libdb/sqlite3.c     sqlite3ExprListDelete(db, pTmp-&gt;pExprList);</span>
<span class='curline'><a href='../S/185.html#L109759'>db</a>               109759 libdb/sqlite3.c     sqlite3SelectDelete(db, pTmp-&gt;pSelect);</span>
<span class='curline'><a href='../S/185.html#L109760'>db</a>               109760 libdb/sqlite3.c     sqlite3IdListDelete(db, pTmp-&gt;pIdList);</span>
<span class='curline'><a href='../S/185.html#L109762'>db</a>               109762 libdb/sqlite3.c     sqlite3DbFree(db, pTmp);</span>
<span class='curline'><a href='../S/185.html#L109781'>db</a>               109781 libdb/sqlite3.c   Schema * const pTmpSchema = pParse-&gt;db-&gt;aDb[1].pSchema;</span>
<span class='curline'><a href='../S/185.html#L109790'>db</a>               109790 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(pParse-&gt;db, 0, pTmpSchema) );</span>
<span class='curline'><a href='../S/185.html#L109828'>db</a>               109828 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L109853'>db</a>               109853 libdb/sqlite3.c   if( !pTableName || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L109865'>db</a>               109865 libdb/sqlite3.c   if( db-&gt;init.busy &amp;&amp; iDb!=1 ){</span>
<span class='curline'><a href='../S/185.html#L109866'>db</a>               109866 libdb/sqlite3.c     sqlite3DbFree(db, pTableName-&gt;a[0].zDatabase);</span>
<span class='curline'><a href='../S/185.html#L109876'>db</a>               109876 libdb/sqlite3.c   if( db-&gt;init.busy==0 &amp;&amp; pName2-&gt;n==0 &amp;&amp; pTab</span>
<span class='curline'><a href='../S/185.html#L109877'>db</a>               109877 libdb/sqlite3.c         &amp;&amp; pTab-&gt;pSchema==db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L109882'>db</a>               109882 libdb/sqlite3.c   if( db-&gt;mallocFailed ) goto trigger_cleanup;</span>
<span class='curline'><a href='../S/185.html#L109891'>db</a>               109891 libdb/sqlite3.c     if( db-&gt;init.iDb==1 ){</span>
<span class='curline'><a href='../S/185.html#L109900'>db</a>               109900 libdb/sqlite3.c       db-&gt;init.orphanTrigger = 1;</span>
<span class='curline'><a href='../S/185.html#L109911'>db</a>               109911 libdb/sqlite3.c   zName = sqlite3NameFromToken(db, pName);</span>
<span class='curline'><a href='../S/185.html#L109915'>db</a>               109915 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L109916'>db</a>               109916 libdb/sqlite3.c   if( sqlite3HashFind(&amp;(db-&gt;aDb[iDb].pSchema-&gt;trigHash),zName) ){</span>
<span class='curline'><a href='../S/185.html#L109920'>db</a>               109920 libdb/sqlite3.c       assert( !db-&gt;init.busy );</span>
<span class='curline'><a href='../S/185.html#L109946'>db</a>               109946 libdb/sqlite3.c   iTabDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L109951'>db</a>               109951 libdb/sqlite3.c     const char *zDb = db-&gt;aDb[iTabDb].zName;</span>
<span class='curline'><a href='../S/185.html#L109952'>db</a>               109952 libdb/sqlite3.c     const char *zDbTrig = isTemp ? db-&gt;aDb[1].zName : zDb;</span>
<span class='curline'><a href='../S/185.html#L109973'>db</a>               109973 libdb/sqlite3.c   pTrigger = (Trigger*)sqlite3DbMallocZero(db, sizeof(Trigger));</span>
<span class='curline'><a href='../S/185.html#L109977'>db</a>               109977 libdb/sqlite3.c   pTrigger-&gt;table = sqlite3DbStrDup(db, pTableName-&gt;a[0].zName);</span>
<span class='curline'><a href='../S/185.html#L109978'>db</a>               109978 libdb/sqlite3.c   pTrigger-&gt;pSchema = db-&gt;aDb[iDb].pSchema;</span>
<span class='curline'><a href='../S/185.html#L109982'>db</a>               109982 libdb/sqlite3.c   pTrigger-&gt;pWhen = sqlite3ExprDup(db, pWhen, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L109983'>db</a>               109983 libdb/sqlite3.c   pTrigger-&gt;pColumns = sqlite3IdListDup(db, pColumns);</span>
<span class='curline'><a href='../S/185.html#L109988'>db</a>               109988 libdb/sqlite3.c   sqlite3DbFree(db, zName);</span>
<span class='curline'><a href='../S/185.html#L109989'>db</a>               109989 libdb/sqlite3.c   sqlite3SrcListDelete(db, pTableName);</span>
<span class='curline'><a href='../S/185.html#L109990'>db</a>               109990 libdb/sqlite3.c   sqlite3IdListDelete(db, pColumns);</span>
<span class='curline'><a href='../S/185.html#L109991'>db</a>               109991 libdb/sqlite3.c   sqlite3ExprDelete(db, pWhen);</span>
<span class='curline'><a href='../S/185.html#L109993'>db</a>               109993 libdb/sqlite3.c     sqlite3DeleteTrigger(db, pTrigger);</span>
<span class='curline'><a href='../S/185.html#L110010'>db</a>               110010 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;               /* The database */</span>
<span class='curline'><a href='../S/185.html#L110018'>db</a>               110018 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L110036'>db</a>               110036 libdb/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L110044'>db</a>               110044 libdb/sqlite3.c     z = sqlite3DbStrNDup(db, (char*)pAll-&gt;z, pAll-&gt;n);</span>
<span class='curline'><a href='../S/185.html#L110047'>db</a>               110047 libdb/sqlite3.c        db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb), zName,</span>
<span class='curline'><a href='../S/185.html#L110049'>db</a>               110049 libdb/sqlite3.c     sqlite3DbFree(db, z);</span>
<span class='curline'><a href='../S/185.html#L110052'>db</a>               110052 libdb/sqlite3.c         sqlite3MPrintf(db, "type='trigger' AND name='%q'", zName));</span>
<span class='curline'><a href='../S/185.html#L110055'>db</a>               110055 libdb/sqlite3.c   if( db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L110057'>db</a>               110057 libdb/sqlite3.c     Hash *pHash = &amp;db-&gt;aDb[iDb].pSchema-&gt;trigHash;</span>
<span class='curline'><a href='../S/185.html#L110058'>db</a>               110058 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L110061'>db</a>               110061 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L110072'>db</a>               110072 libdb/sqlite3.c   sqlite3DeleteTrigger(db, pTrig);</span>
<span class='curline'><a href='../S/185.html#L110074'>db</a>               110074 libdb/sqlite3.c   sqlite3DeleteTriggerStep(db, pStepList);</span>
<span class='curline'><a href='../S/185.html#L110084'>db</a>               110084 libdb/sqlite3.c SQLITE_PRIVATE TriggerStep *sqlite3TriggerSelectStep(sqlite3 *db, Select *pSelect){</span>
<span class='curline'><a href='../S/185.html#L110085'>db</a>               110085 libdb/sqlite3.c   TriggerStep *pTriggerStep = sqlite3DbMallocZero(db, sizeof(TriggerStep));</span>
<span class='curline'><a href='../S/185.html#L110087'>db</a>               110087 libdb/sqlite3.c     sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L110103'>db</a>               110103 libdb/sqlite3.c   sqlite3 *db,                /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L110109'>db</a>               110109 libdb/sqlite3.c   pTriggerStep = sqlite3DbMallocZero(db, sizeof(TriggerStep) + pName-&gt;n);</span>
<span class='curline'><a href='../S/185.html#L110128'>db</a>               110128 libdb/sqlite3.c   sqlite3 *db,        /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L110136'>db</a>               110136 libdb/sqlite3.c   assert(pSelect != 0 || db-&gt;mallocFailed);</span>
<span class='curline'><a href='../S/185.html#L110138'>db</a>               110138 libdb/sqlite3.c   pTriggerStep = triggerStepAllocate(db, TK_INSERT, pTableName);</span>
<span class='curline'><a href='../S/185.html#L110140'>db</a>               110140 libdb/sqlite3.c     pTriggerStep-&gt;pSelect = sqlite3SelectDup(db, pSelect, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L110144'>db</a>               110144 libdb/sqlite3.c     sqlite3IdListDelete(db, pColumn);</span>
<span class='curline'><a href='../S/185.html#L110146'>db</a>               110146 libdb/sqlite3.c   sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L110157'>db</a>               110157 libdb/sqlite3.c   sqlite3 *db,         /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L110165'>db</a>               110165 libdb/sqlite3.c   pTriggerStep = triggerStepAllocate(db, TK_UPDATE, pTableName);</span>
<span class='curline'><a href='../S/185.html#L110167'>db</a>               110167 libdb/sqlite3.c     pTriggerStep-&gt;pExprList = sqlite3ExprListDup(db, pEList, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L110168'>db</a>               110168 libdb/sqlite3.c     pTriggerStep-&gt;pWhere = sqlite3ExprDup(db, pWhere, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L110171'>db</a>               110171 libdb/sqlite3.c   sqlite3ExprListDelete(db, pEList);</span>
<span class='curline'><a href='../S/185.html#L110172'>db</a>               110172 libdb/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L110182'>db</a>               110182 libdb/sqlite3.c   sqlite3 *db,            /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L110188'>db</a>               110188 libdb/sqlite3.c   pTriggerStep = triggerStepAllocate(db, TK_DELETE, pTableName);</span>
<span class='curline'><a href='../S/185.html#L110190'>db</a>               110190 libdb/sqlite3.c     pTriggerStep-&gt;pWhere = sqlite3ExprDup(db, pWhere, EXPRDUP_REDUCE);</span>
<span class='curline'><a href='../S/185.html#L110193'>db</a>               110193 libdb/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L110200'>db</a>               110200 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3DeleteTrigger(sqlite3 *db, Trigger *pTrigger){</span>
<span class='curline'><a href='../S/185.html#L110202'>db</a>               110202 libdb/sqlite3.c   sqlite3DeleteTriggerStep(db, pTrigger-&gt;step_list);</span>
<span class='curline'><a href='../S/185.html#L110203'>db</a>               110203 libdb/sqlite3.c   sqlite3DbFree(db, pTrigger-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L110204'>db</a>               110204 libdb/sqlite3.c   sqlite3DbFree(db, pTrigger-&gt;table);</span>
<span class='curline'><a href='../S/185.html#L110205'>db</a>               110205 libdb/sqlite3.c   sqlite3ExprDelete(db, pTrigger-&gt;pWhen);</span>
<span class='curline'><a href='../S/185.html#L110206'>db</a>               110206 libdb/sqlite3.c   sqlite3IdListDelete(db, pTrigger-&gt;pColumns);</span>
<span class='curline'><a href='../S/185.html#L110207'>db</a>               110207 libdb/sqlite3.c   sqlite3DbFree(db, pTrigger);</span>
<span class='curline'><a href='../S/185.html#L110223'>db</a>               110223 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L110225'>db</a>               110225 libdb/sqlite3.c   if( db-&gt;mallocFailed ) goto drop_trigger_cleanup;</span>
<span class='curline'><a href='../S/185.html#L110233'>db</a>               110233 libdb/sqlite3.c   assert( zDb!=0 || sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L110234'>db</a>               110234 libdb/sqlite3.c   for(i=OMIT_TEMPDB; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L110236'>db</a>               110236 libdb/sqlite3.c     if( zDb &amp;&amp; sqlite3StrICmp(db-&gt;aDb[j].zName, zDb) ) continue;</span>
<span class='curline'><a href='../S/185.html#L110237'>db</a>               110237 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, j, 0) );</span>
<span class='curline'><a href='../S/185.html#L110238'>db</a>               110238 libdb/sqlite3.c     pTrigger = sqlite3HashFind(&amp;(db-&gt;aDb[j].pSchema-&gt;trigHash), zName);</span>
<span class='curline'><a href='../S/185.html#L110253'>db</a>               110253 libdb/sqlite3.c   sqlite3SrcListDelete(db, pName);</span>
<span class='curline'><a href='../S/185.html#L110271'>db</a>               110271 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L110274'>db</a>               110274 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTrigger-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L110275'>db</a>               110275 libdb/sqlite3.c   assert( iDb&gt;=0 &amp;&amp; iDb&lt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L110282'>db</a>               110282 libdb/sqlite3.c     const char *zDb = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L110327'>db</a>               110327 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3UnlinkAndDeleteTrigger(sqlite3 *db, int iDb, const char *zName){</span>
<span class='curline'><a href='../S/185.html#L110331'>db</a>               110331 libdb/sqlite3.c   assert( sqlite3SchemaMutexHeld(db, iDb, 0) );</span>
<span class='curline'><a href='../S/185.html#L110332'>db</a>               110332 libdb/sqlite3.c   pHash = &amp;(db-&gt;aDb[iDb].pSchema-&gt;trigHash);</span>
<span class='curline'><a href='../S/185.html#L110341'>db</a>               110341 libdb/sqlite3.c     sqlite3DeleteTrigger(db, pTrigger);</span>
<span class='curline'><a href='../S/185.html#L110342'>db</a>               110342 libdb/sqlite3.c     db-&gt;flags |= SQLITE_InternChanges;</span>
<span class='curline'><a href='../S/185.html#L110381'>db</a>               110381 libdb/sqlite3.c   if( (pParse-&gt;db-&gt;flags &amp; SQLITE_EnableTrigger)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L110413'>db</a>               110413 libdb/sqlite3.c   pSrc = sqlite3SrcListAppend(pParse-&gt;db, 0, &amp;pStep-&gt;target, 0);</span>
<span class='curline'><a href='../S/185.html#L110417'>db</a>               110417 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(pParse-&gt;db, pStep-&gt;pTrig-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L110419'>db</a>               110419 libdb/sqlite3.c       sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L110420'>db</a>               110420 libdb/sqlite3.c       assert( iDb&lt;pParse-&gt;db-&gt;nDb );</span>
<span class='curline'><a href='../S/185.html#L110421'>db</a>               110421 libdb/sqlite3.c       pSrc-&gt;a[pSrc-&gt;nSrc-1].zDatabase = sqlite3DbStrDup(db, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L110438'>db</a>               110438 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L110464'>db</a>               110464 libdb/sqlite3.c           sqlite3ExprListDup(db, pStep-&gt;pExprList, 0), </span>
<span class='curline'><a href='../S/185.html#L110465'>db</a>               110465 libdb/sqlite3.c           sqlite3ExprDup(db, pStep-&gt;pWhere, 0), </span>
<span class='curline'><a href='../S/185.html#L110473'>db</a>               110473 libdb/sqlite3.c           sqlite3SelectDup(db, pStep-&gt;pSelect, 0), </span>
<span class='curline'><a href='../S/185.html#L110474'>db</a>               110474 libdb/sqlite3.c           sqlite3IdListDup(db, pStep-&gt;pIdList), </span>
<span class='curline'><a href='../S/185.html#L110482'>db</a>               110482 libdb/sqlite3.c           sqlite3ExprDup(db, pStep-&gt;pWhere, 0)</span>
<span class='curline'><a href='../S/185.html#L110488'>db</a>               110488 libdb/sqlite3.c         Select *pSelect = sqlite3SelectDup(db, pStep-&gt;pSelect, 0);</span>
<span class='curline'><a href='../S/185.html#L110491'>db</a>               110491 libdb/sqlite3.c         sqlite3SelectDelete(db, pSelect);</span>
<span class='curline'><a href='../S/185.html#L110533'>db</a>               110533 libdb/sqlite3.c     sqlite3DbFree(pFrom-&gt;db, pFrom-&gt;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L110548'>db</a>               110548 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;   /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L110563'>db</a>               110563 libdb/sqlite3.c   pPrg = sqlite3DbMallocZero(db, sizeof(TriggerPrg));</span>
<span class='curline'><a href='../S/185.html#L110567'>db</a>               110567 libdb/sqlite3.c   pPrg-&gt;pProgram = pProgram = sqlite3DbMallocZero(db, sizeof(SubProgram));</span>
<span class='curline'><a href='../S/185.html#L110577'>db</a>               110577 libdb/sqlite3.c   pSubParse = sqlite3StackAllocZero(db, sizeof(Parse));</span>
<span class='curline'><a href='../S/185.html#L110581'>db</a>               110581 libdb/sqlite3.c   pSubParse-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L110600'>db</a>               110600 libdb/sqlite3.c       sqlite3MPrintf(db, "-- TRIGGER %s", pTrigger-&gt;zName), P4_DYNAMIC</span>
<span class='curline'><a href='../S/185.html#L110608'>db</a>               110608 libdb/sqlite3.c       pWhen = sqlite3ExprDup(db, pTrigger-&gt;pWhen, 0);</span>
<span class='curline'><a href='../S/185.html#L110610'>db</a>               110610 libdb/sqlite3.c        &amp;&amp; db-&gt;mallocFailed==0 </span>
<span class='curline'><a href='../S/185.html#L110615'>db</a>               110615 libdb/sqlite3.c       sqlite3ExprDelete(db, pWhen);</span>
<span class='curline'><a href='../S/185.html#L110629'>db</a>               110629 libdb/sqlite3.c     if( db-&gt;mallocFailed==0 ){</span>
<span class='curline'><a href='../S/185.html#L110644'>db</a>               110644 libdb/sqlite3.c   sqlite3StackFree(db, pSubParse);</span>
<span class='curline'><a href='../S/185.html#L110700'>db</a>               110700 libdb/sqlite3.c   assert( pPrg || pParse-&gt;nErr || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L110705'>db</a>               110705 libdb/sqlite3.c     int bRecursive = (p-&gt;zName &amp;&amp; 0==(pParse-&gt;db-&gt;flags&amp;SQLITE_RecTriggers));</span>
<span class='curline'><a href='../S/185.html#L110786'>db</a>               110786 libdb/sqlite3.c          || p-&gt;pSchema==pParse-&gt;db-&gt;aDb[1].pSchema );</span>
<span class='curline'><a href='../S/185.html#L110961'>db</a>               110961 libdb/sqlite3.c   sqlite3 *db;           /* The database structure */</span>
<span class='curline'><a href='../S/185.html#L110999'>db</a>               110999 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L111000'>db</a>               111000 libdb/sqlite3.c   if( pParse-&gt;nErr || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L111009'>db</a>               111009 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(pParse-&gt;db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L111054'>db</a>               111054 libdb/sqlite3.c   aXRef = sqlite3DbMallocRaw(db, sizeof(int) * (pTab-&gt;nCol+nIdx) + nIdx+2 );</span>
<span class='curline'><a href='../S/185.html#L111106'>db</a>               111106 libdb/sqlite3.c                             db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L111255'>db</a>               111255 libdb/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows) &amp;&amp; !pParse-&gt;pTriggerTab ){</span>
<span class='curline'><a href='../S/185.html#L111468'>db</a>               111468 libdb/sqlite3.c   if( (db-&gt;flags &amp; SQLITE_CountRows) &amp;&amp; !pParse-&gt;pTriggerTab){</span>
<span class='curline'><a href='../S/185.html#L111510'>db</a>               111510 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_CountRows) &amp;&amp; !pParse-&gt;pTriggerTab &amp;&amp; !pParse-&gt;nested ){</span>
<span class='curline'><a href='../S/185.html#L111518'>db</a>               111518 libdb/sqlite3.c   sqlite3DbFree(db, aXRef); /* Also frees aRegIdx[] and aToOpen[] */</span>
<span class='curline'><a href='../S/185.html#L111519'>db</a>               111519 libdb/sqlite3.c   sqlite3SrcListDelete(db, pTabList);</span>
<span class='curline'><a href='../S/185.html#L111520'>db</a>               111520 libdb/sqlite3.c   sqlite3ExprListDelete(db, pChanges);</span>
<span class='curline'><a href='../S/185.html#L111521'>db</a>               111521 libdb/sqlite3.c   sqlite3ExprDelete(db, pWhere);</span>
<span class='curline'><a href='../S/185.html#L111572'>db</a>               111572 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db; /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L111573'>db</a>               111573 libdb/sqlite3.c   const char *pVTab = (const char*)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L111579'>db</a>               111579 libdb/sqlite3.c   pEList = sqlite3ExprListAppend(pParse, 0, sqlite3Expr(db, TK_ID, "_rowid_"));</span>
<span class='curline'><a href='../S/185.html#L111582'>db</a>               111582 libdb/sqlite3.c                                    sqlite3ExprDup(db, pRowid, 0));</span>
<span class='curline'><a href='../S/185.html#L111587'>db</a>               111587 libdb/sqlite3.c       pExpr = sqlite3ExprDup(db, pChanges-&gt;a[aXRef[i]].pExpr, 0);</span>
<span class='curline'><a href='../S/185.html#L111589'>db</a>               111589 libdb/sqlite3.c       pExpr = sqlite3Expr(db, TK_ID, pTab-&gt;aCol[i].zName);</span>
<span class='curline'><a href='../S/185.html#L111626'>db</a>               111626 libdb/sqlite3.c   sqlite3SelectDelete(db, pSelect);  </span>
<span class='curline'><a href='../S/185.html#L111654'>db</a>               111654 libdb/sqlite3.c static int vacuumFinalize(sqlite3 *db, sqlite3_stmt *pStmt, char **pzErrMsg){</span>
<span class='curline'><a href='../S/185.html#L111658'>db</a>               111658 libdb/sqlite3.c     sqlite3SetString(pzErrMsg, db, sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L111666'>db</a>               111666 libdb/sqlite3.c static int execSql(sqlite3 *db, char **pzErrMsg, const char *zSql){</span>
<span class='curline'><a href='../S/185.html#L111672'>db</a>               111672 libdb/sqlite3.c   if( SQLITE_OK!=sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0) ){</span>
<span class='curline'><a href='../S/185.html#L111673'>db</a>               111673 libdb/sqlite3.c     sqlite3SetString(pzErrMsg, db, sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L111674'>db</a>               111674 libdb/sqlite3.c     return sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/185.html#L111677'>db</a>               111677 libdb/sqlite3.c   assert( rc!=SQLITE_ROW || (db-&gt;flags&amp;SQLITE_CountRows) );</span>
<span class='curline'><a href='../S/185.html#L111678'>db</a>               111678 libdb/sqlite3.c   return vacuumFinalize(db, pStmt, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L111685'>db</a>               111685 libdb/sqlite3.c static int execExecSql(sqlite3 *db, char **pzErrMsg, const char *zSql){</span>
<span class='curline'><a href='../S/185.html#L111689'>db</a>               111689 libdb/sqlite3.c   rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L111693'>db</a>               111693 libdb/sqlite3.c     rc = execSql(db, pzErrMsg, (char*)sqlite3_column_text(pStmt, 0));</span>
<span class='curline'><a href='../S/185.html#L111695'>db</a>               111695 libdb/sqlite3.c       vacuumFinalize(db, pStmt, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L111700'>db</a>               111700 libdb/sqlite3.c   return vacuumFinalize(db, pStmt, pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L111745'>db</a>               111745 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3RunVacuum(char **pzErrMsg, sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L111759'>db</a>               111759 libdb/sqlite3.c   if( !db-&gt;autoCommit ){</span>
<span class='curline'><a href='../S/185.html#L111760'>db</a>               111760 libdb/sqlite3.c     sqlite3SetString(pzErrMsg, db, "cannot VACUUM from within a transaction");</span>
<span class='curline'><a href='../S/185.html#L111763'>db</a>               111763 libdb/sqlite3.c   if( db-&gt;nVdbeActive&gt;1 ){</span>
<span class='curline'><a href='../S/185.html#L111764'>db</a>               111764 libdb/sqlite3.c     sqlite3SetString(pzErrMsg, db,"cannot VACUUM - SQL statements in progress");</span>
<span class='curline'><a href='../S/185.html#L111771'>db</a>               111771 libdb/sqlite3.c   saved_flags = db-&gt;flags;</span>
<span class='curline'><a href='../S/185.html#L111772'>db</a>               111772 libdb/sqlite3.c   saved_nChange = db-&gt;nChange;</span>
<span class='curline'><a href='../S/185.html#L111773'>db</a>               111773 libdb/sqlite3.c   saved_nTotalChange = db-&gt;nTotalChange;</span>
<span class='curline'><a href='../S/185.html#L111774'>db</a>               111774 libdb/sqlite3.c   saved_xTrace = db-&gt;xTrace;</span>
<span class='curline'><a href='../S/185.html#L111775'>db</a>               111775 libdb/sqlite3.c   db-&gt;flags |= SQLITE_WriteSchema | SQLITE_IgnoreChecks | SQLITE_PreferBuiltin;</span>
<span class='curline'><a href='../S/185.html#L111776'>db</a>               111776 libdb/sqlite3.c   db-&gt;flags &amp;= ~(SQLITE_ForeignKeys | SQLITE_ReverseOrder);</span>
<span class='curline'><a href='../S/185.html#L111777'>db</a>               111777 libdb/sqlite3.c   db-&gt;xTrace = 0;</span>
<span class='curline'><a href='../S/185.html#L111779'>db</a>               111779 libdb/sqlite3.c   pMain = db-&gt;aDb[0].pBt;</span>
<span class='curline'><a href='../S/185.html#L111796'>db</a>               111796 libdb/sqlite3.c   nDb = db-&gt;nDb;</span>
<span class='curline'><a href='../S/185.html#L111797'>db</a>               111797 libdb/sqlite3.c   if( sqlite3TempInMemory(db) ){</span>
<span class='curline'><a href='../S/185.html#L111802'>db</a>               111802 libdb/sqlite3.c   rc = execSql(db, pzErrMsg, zSql);</span>
<span class='curline'><a href='../S/185.html#L111803'>db</a>               111803 libdb/sqlite3.c   if( db-&gt;nDb&gt;nDb ){</span>
<span class='curline'><a href='../S/185.html#L111804'>db</a>               111804 libdb/sqlite3.c     pDb = &amp;db-&gt;aDb[db-&gt;nDb-1];</span>
<span class='curline'><a href='../S/185.html#L111808'>db</a>               111808 libdb/sqlite3.c   pTemp = db-&gt;aDb[db-&gt;nDb-1].pBt;</span>
<span class='curline'><a href='../S/185.html#L111820'>db</a>               111820 libdb/sqlite3.c   if( db-&gt;nextPagesize ){</span>
<span class='curline'><a href='../S/185.html#L111824'>db</a>               111824 libdb/sqlite3.c     sqlite3CodecGetKey(db, 0, (void**)&amp;zKey, &amp;nKey);</span>
<span class='curline'><a href='../S/185.html#L111825'>db</a>               111825 libdb/sqlite3.c     if( nKey ) db-&gt;nextPagesize = 0;</span>
<span class='curline'><a href='../S/185.html#L111829'>db</a>               111829 libdb/sqlite3.c   rc = execSql(db, pzErrMsg, "PRAGMA vacuum_db.synchronous=OFF");</span>
<span class='curline'><a href='../S/185.html#L111836'>db</a>               111836 libdb/sqlite3.c   rc = execSql(db, pzErrMsg, "BEGIN;");</span>
<span class='curline'><a href='../S/185.html#L111844'>db</a>               111844 libdb/sqlite3.c     db-&gt;nextPagesize = 0;</span>
<span class='curline'><a href='../S/185.html#L111848'>db</a>               111848 libdb/sqlite3.c    || (!isMemDb &amp;&amp; sqlite3BtreeSetPageSize(pTemp, db-&gt;nextPagesize, nRes, 0))</span>
<span class='curline'><a href='../S/185.html#L111849'>db</a>               111849 libdb/sqlite3.c    || NEVER(db-&gt;mallocFailed)</span>
<span class='curline'><a href='../S/185.html#L111856'>db</a>               111856 libdb/sqlite3.c   sqlite3BtreeSetAutoVacuum(pTemp, db-&gt;nextAutovac&gt;=0 ? db-&gt;nextAutovac :</span>
<span class='curline'><a href='../S/185.html#L111863'>db</a>               111863 libdb/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111869'>db</a>               111869 libdb/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111873'>db</a>               111873 libdb/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111882'>db</a>               111882 libdb/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111893'>db</a>               111893 libdb/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111898'>db</a>               111898 libdb/sqlite3.c   rc = execExecSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111911'>db</a>               111911 libdb/sqlite3.c   rc = execSql(db, pzErrMsg,</span>
<span class='curline'><a href='../S/185.html#L111970'>db</a>               111970 libdb/sqlite3.c   db-&gt;flags = saved_flags;</span>
<span class='curline'><a href='../S/185.html#L111971'>db</a>               111971 libdb/sqlite3.c   db-&gt;nChange = saved_nChange;</span>
<span class='curline'><a href='../S/185.html#L111972'>db</a>               111972 libdb/sqlite3.c   db-&gt;nTotalChange = saved_nTotalChange;</span>
<span class='curline'><a href='../S/185.html#L111973'>db</a>               111973 libdb/sqlite3.c   db-&gt;xTrace = saved_xTrace;</span>
<span class='curline'><a href='../S/185.html#L111983'>db</a>               111983 libdb/sqlite3.c   db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L111993'>db</a>               111993 libdb/sqlite3.c   sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L112035'>db</a>               112035 libdb/sqlite3.c   sqlite3 *db,                    /* Database in which module is registered */</span>
<span class='curline'><a href='../S/185.html#L112044'>db</a>               112044 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L112046'>db</a>               112046 libdb/sqlite3.c   if( sqlite3HashFind(&amp;db-&gt;aModule, zName) ){</span>
<span class='curline'><a href='../S/185.html#L112050'>db</a>               112050 libdb/sqlite3.c     pMod = (Module *)sqlite3DbMallocRaw(db, sizeof(Module) + nName + 1);</span>
<span class='curline'><a href='../S/185.html#L112059'>db</a>               112059 libdb/sqlite3.c       pDel = (Module *)sqlite3HashInsert(&amp;db-&gt;aModule,zCopy,(void*)pMod);</span>
<span class='curline'><a href='../S/185.html#L112062'>db</a>               112062 libdb/sqlite3.c         db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L112063'>db</a>               112063 libdb/sqlite3.c         sqlite3DbFree(db, pDel);</span>
<span class='curline'><a href='../S/185.html#L112067'>db</a>               112067 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L112070'>db</a>               112070 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L112079'>db</a>               112079 libdb/sqlite3.c   sqlite3 *db,                    /* Database in which module is registered */</span>
<span class='curline'><a href='../S/185.html#L112084'>db</a>               112084 libdb/sqlite3.c   return createModule(db, zName, pModule, pAux, 0);</span>
<span class='curline'><a href='../S/185.html#L112091'>db</a>               112091 libdb/sqlite3.c   sqlite3 *db,                    /* Database in which module is registered */</span>
<span class='curline'><a href='../S/185.html#L112097'>db</a>               112097 libdb/sqlite3.c   return createModule(db, zName, pModule, pAux, xDestroy);</span>
<span class='curline'><a href='../S/185.html#L112118'>db</a>               112118 libdb/sqlite3.c SQLITE_PRIVATE VTable *sqlite3GetVTable(sqlite3 *db, Table *pTab){</span>
<span class='curline'><a href='../S/185.html#L112121'>db</a>               112121 libdb/sqlite3.c   for(pVtab=pTab-&gt;pVTable; pVtab &amp;&amp; pVtab-&gt;db!=db; pVtab=pVtab-&gt;pNext);</span>
<span class='curline'><a href='../S/185.html#L112130'>db</a>               112130 libdb/sqlite3.c   sqlite3 *db = pVTab-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L112132'>db</a>               112132 libdb/sqlite3.c   assert( db );</span>
<span class='curline'><a href='../S/185.html#L112134'>db</a>               112134 libdb/sqlite3.c   assert( db-&gt;magic==SQLITE_MAGIC_OPEN || db-&gt;magic==SQLITE_MAGIC_ZOMBIE );</span>
<span class='curline'><a href='../S/185.html#L112142'>db</a>               112142 libdb/sqlite3.c     sqlite3DbFree(db, pVTab);</span>
<span class='curline'><a href='../S/185.html#L112153'>db</a>               112153 libdb/sqlite3.c static VTable *vtabDisconnectAll(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/185.html#L112164'>db</a>               112164 libdb/sqlite3.c   assert( db==0 || sqlite3SchemaMutexHeld(db, 0, p-&gt;pSchema) );</span>
<span class='curline'><a href='../S/185.html#L112167'>db</a>               112167 libdb/sqlite3.c     sqlite3 *db2 = pVTable-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L112170'>db</a>               112170 libdb/sqlite3.c     if( db2==db ){</span>
<span class='curline'><a href='../S/185.html#L112181'>db</a>               112181 libdb/sqlite3.c   assert( !db || pRet );</span>
<span class='curline'><a href='../S/185.html#L112193'>db</a>               112193 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VtabDisconnect(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/185.html#L112197'>db</a>               112197 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L112198'>db</a>               112198 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L112201'>db</a>               112201 libdb/sqlite3.c     if( (*ppVTab)-&gt;db==db  ){</span>
<span class='curline'><a href='../S/185.html#L112231'>db</a>               112231 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VtabUnlockList(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L112232'>db</a>               112232 libdb/sqlite3.c   VTable *p = db-&gt;pDisconnect;</span>
<span class='curline'><a href='../S/185.html#L112233'>db</a>               112233 libdb/sqlite3.c   db-&gt;pDisconnect = 0;</span>
<span class='curline'><a href='../S/185.html#L112235'>db</a>               112235 libdb/sqlite3.c   assert( sqlite3BtreeHoldsAllMutexes(db) );</span>
<span class='curline'><a href='../S/185.html#L112236'>db</a>               112236 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L112239'>db</a>               112239 libdb/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L112262'>db</a>               112262 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3VtabClear(sqlite3 *db, Table *p){</span>
<span class='curline'><a href='../S/185.html#L112263'>db</a>               112263 libdb/sqlite3.c   if( !db || db-&gt;pnBytesFreed==0 ) vtabDisconnectAll(0, p);</span>
<span class='curline'><a href='../S/185.html#L112267'>db</a>               112267 libdb/sqlite3.c       if( i!=1 ) sqlite3DbFree(db, p-&gt;azModuleArg[i]);</span>
<span class='curline'><a href='../S/185.html#L112269'>db</a>               112269 libdb/sqlite3.c     sqlite3DbFree(db, p-&gt;azModuleArg);</span>
<span class='curline'><a href='../S/185.html#L112279'>db</a>               112279 libdb/sqlite3.c static void addModuleArgument(sqlite3 *db, Table *pTable, char *zArg){</span>
<span class='curline'><a href='../S/185.html#L112283'>db</a>               112283 libdb/sqlite3.c   azModuleArg = sqlite3DbRealloc(db, pTable-&gt;azModuleArg, nBytes);</span>
<span class='curline'><a href='../S/185.html#L112287'>db</a>               112287 libdb/sqlite3.c       sqlite3DbFree(db, pTable-&gt;azModuleArg[j]);</span>
<span class='curline'><a href='../S/185.html#L112289'>db</a>               112289 libdb/sqlite3.c     sqlite3DbFree(db, zArg);</span>
<span class='curline'><a href='../S/185.html#L112290'>db</a>               112290 libdb/sqlite3.c     sqlite3DbFree(db, pTable-&gt;azModuleArg);</span>
<span class='curline'><a href='../S/185.html#L112313'>db</a>               112313 libdb/sqlite3.c   sqlite3 *db;          /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L112320'>db</a>               112320 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L112321'>db</a>               112321 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTable-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L112326'>db</a>               112326 libdb/sqlite3.c   addModuleArgument(db, pTable, sqlite3NameFromToken(db, pModuleName));</span>
<span class='curline'><a href='../S/185.html#L112327'>db</a>               112327 libdb/sqlite3.c   addModuleArgument(db, pTable, 0);</span>
<span class='curline'><a href='../S/185.html#L112328'>db</a>               112328 libdb/sqlite3.c   addModuleArgument(db, pTable, sqlite3DbStrDup(db, pTable-&gt;zName));</span>
<span class='curline'><a href='../S/185.html#L112339'>db</a>               112339 libdb/sqlite3.c             pTable-&gt;azModuleArg[0], pParse-&gt;db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L112353'>db</a>               112353 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L112354'>db</a>               112354 libdb/sqlite3.c     addModuleArgument(db, pParse-&gt;pNewTable, sqlite3DbStrNDup(db, z, n));</span>
<span class='curline'><a href='../S/185.html#L112364'>db</a>               112364 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;         /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L112377'>db</a>               112377 libdb/sqlite3.c   if( !db-&gt;init.busy ){</span>
<span class='curline'><a href='../S/185.html#L112387'>db</a>               112387 libdb/sqlite3.c     zStmt = sqlite3MPrintf(db, "CREATE VIRTUAL TABLE %T", &amp;pParse-&gt;sNameToken);</span>
<span class='curline'><a href='../S/185.html#L112397'>db</a>               112397 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L112402'>db</a>               112402 libdb/sqlite3.c       db-&gt;aDb[iDb].zName, SCHEMA_TABLE(iDb),</span>
<span class='curline'><a href='../S/185.html#L112408'>db</a>               112408 libdb/sqlite3.c     sqlite3DbFree(db, zStmt);</span>
<span class='curline'><a href='../S/185.html#L112413'>db</a>               112413 libdb/sqlite3.c     zWhere = sqlite3MPrintf(db, "name='%q' AND type='table'", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L112428'>db</a>               112428 libdb/sqlite3.c     assert( sqlite3SchemaMutexHeld(db, 0, pSchema) );</span>
<span class='curline'><a href='../S/185.html#L112431'>db</a>               112431 libdb/sqlite3.c       db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L112470'>db</a>               112470 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L112482'>db</a>               112482 libdb/sqlite3.c   char *zModuleName = sqlite3MPrintf(db, "%s", pTab-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L112489'>db</a>               112489 libdb/sqlite3.c   pVTable = sqlite3DbMallocZero(db, sizeof(VTable));</span>
<span class='curline'><a href='../S/185.html#L112491'>db</a>               112491 libdb/sqlite3.c     sqlite3DbFree(db, zModuleName);</span>
<span class='curline'><a href='../S/185.html#L112494'>db</a>               112494 libdb/sqlite3.c   pVTable-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L112497'>db</a>               112497 libdb/sqlite3.c   iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L112498'>db</a>               112498 libdb/sqlite3.c   pTab-&gt;azModuleArg[1] = db-&gt;aDb[iDb].zName;</span>
<span class='curline'><a href='../S/185.html#L112501'>db</a>               112501 libdb/sqlite3.c   assert( &amp;db-&gt;pVtabCtx );</span>
<span class='curline'><a href='../S/185.html#L112505'>db</a>               112505 libdb/sqlite3.c   pPriorCtx = db-&gt;pVtabCtx;</span>
<span class='curline'><a href='../S/185.html#L112506'>db</a>               112506 libdb/sqlite3.c   db-&gt;pVtabCtx = &amp;sCtx;</span>
<span class='curline'><a href='../S/185.html#L112507'>db</a>               112507 libdb/sqlite3.c   rc = xConstruct(db, pMod-&gt;pAux, nArg, azArg, &amp;pVTable-&gt;pVtab, &amp;zErr);</span>
<span class='curline'><a href='../S/185.html#L112508'>db</a>               112508 libdb/sqlite3.c   db-&gt;pVtabCtx = pPriorCtx;</span>
<span class='curline'><a href='../S/185.html#L112509'>db</a>               112509 libdb/sqlite3.c   if( rc==SQLITE_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L112513'>db</a>               112513 libdb/sqlite3.c       *pzErr = sqlite3MPrintf(db, "vtable constructor failed: %s", zModuleName);</span>
<span class='curline'><a href='../S/185.html#L112515'>db</a>               112515 libdb/sqlite3.c       *pzErr = sqlite3MPrintf(db, "%s", zErr);</span>
<span class='curline'><a href='../S/185.html#L112518'>db</a>               112518 libdb/sqlite3.c     sqlite3DbFree(db, pVTable);</span>
<span class='curline'><a href='../S/185.html#L112527'>db</a>               112527 libdb/sqlite3.c       *pzErr = sqlite3MPrintf(db, zFormat, pTab-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L112572'>db</a>               112572 libdb/sqlite3.c   sqlite3DbFree(db, zModuleName);</span>
<span class='curline'><a href='../S/185.html#L112584'>db</a>               112584 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L112590'>db</a>               112590 libdb/sqlite3.c   if( (pTab-&gt;tabFlags &amp; TF_Virtual)==0 || sqlite3GetVTable(db, pTab) ){</span>
<span class='curline'><a href='../S/185.html#L112596'>db</a>               112596 libdb/sqlite3.c   pMod = (Module*)sqlite3HashFind(&amp;db-&gt;aModule, zMod);</span>
<span class='curline'><a href='../S/185.html#L112604'>db</a>               112604 libdb/sqlite3.c     rc = vtabCallConstructor(db, pTab, pMod, pMod-&gt;pModule-&gt;xConnect, &amp;zErr);</span>
<span class='curline'><a href='../S/185.html#L112608'>db</a>               112608 libdb/sqlite3.c     sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L112617'>db</a>               112617 libdb/sqlite3.c static int growVTrans(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L112621'>db</a>               112621 libdb/sqlite3.c   if( (db-&gt;nVTrans%ARRAY_INCR)==0 ){</span>
<span class='curline'><a href='../S/185.html#L112623'>db</a>               112623 libdb/sqlite3.c     int nBytes = sizeof(sqlite3_vtab *) * (db-&gt;nVTrans + ARRAY_INCR);</span>
<span class='curline'><a href='../S/185.html#L112624'>db</a>               112624 libdb/sqlite3.c     aVTrans = sqlite3DbRealloc(db, (void *)db-&gt;aVTrans, nBytes);</span>
<span class='curline'><a href='../S/185.html#L112628'>db</a>               112628 libdb/sqlite3.c     memset(&amp;aVTrans[db-&gt;nVTrans], 0, sizeof(sqlite3_vtab *)*ARRAY_INCR);</span>
<span class='curline'><a href='../S/185.html#L112629'>db</a>               112629 libdb/sqlite3.c     db-&gt;aVTrans = aVTrans;</span>
<span class='curline'><a href='../S/185.html#L112639'>db</a>               112639 libdb/sqlite3.c static void addToVTrans(sqlite3 *db, VTable *pVTab){</span>
<span class='curline'><a href='../S/185.html#L112641'>db</a>               112641 libdb/sqlite3.c   db-&gt;aVTrans[db-&gt;nVTrans++] = pVTab;</span>
<span class='curline'><a href='../S/185.html#L112653'>db</a>               112653 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabCallCreate(sqlite3 *db, int iDb, const char *zTab, char **pzErr){</span>
<span class='curline'><a href='../S/185.html#L112659'>db</a>               112659 libdb/sqlite3.c   pTab = sqlite3FindTable(db, zTab, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L112664'>db</a>               112664 libdb/sqlite3.c   pMod = (Module*)sqlite3HashFind(&amp;db-&gt;aModule, zMod);</span>
<span class='curline'><a href='../S/185.html#L112671'>db</a>               112671 libdb/sqlite3.c     *pzErr = sqlite3MPrintf(db, "no such module: %s", zMod);</span>
<span class='curline'><a href='../S/185.html#L112674'>db</a>               112674 libdb/sqlite3.c     rc = vtabCallConstructor(db, pTab, pMod, pMod-&gt;pModule-&gt;xCreate, pzErr);</span>
<span class='curline'><a href='../S/185.html#L112679'>db</a>               112679 libdb/sqlite3.c   if( rc==SQLITE_OK &amp;&amp; ALWAYS(sqlite3GetVTable(db, pTab)) ){</span>
<span class='curline'><a href='../S/185.html#L112680'>db</a>               112680 libdb/sqlite3.c     rc = growVTrans(db);</span>
<span class='curline'><a href='../S/185.html#L112682'>db</a>               112682 libdb/sqlite3.c       addToVTrans(db, sqlite3GetVTable(db, pTab));</span>
<span class='curline'><a href='../S/185.html#L112694'>db</a>               112694 libdb/sqlite3.c SQLITE_API int sqlite3_declare_vtab(sqlite3 *db, const char *zCreateTable){</span>
<span class='curline'><a href='../S/185.html#L112701'>db</a>               112701 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L112702'>db</a>               112702 libdb/sqlite3.c   if( !db-&gt;pVtabCtx || !(pTab = db-&gt;pVtabCtx-&gt;pTab) ){</span>
<span class='curline'><a href='../S/185.html#L112703'>db</a>               112703 libdb/sqlite3.c     sqlite3Error(db, SQLITE_MISUSE);</span>
<span class='curline'><a href='../S/185.html#L112704'>db</a>               112704 libdb/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L112709'>db</a>               112709 libdb/sqlite3.c   pParse = sqlite3StackAllocZero(db, sizeof(*pParse));</span>
<span class='curline'><a href='../S/185.html#L112714'>db</a>               112714 libdb/sqlite3.c     pParse-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L112719'>db</a>               112719 libdb/sqlite3.c      &amp;&amp; !db-&gt;mallocFailed</span>
<span class='curline'><a href='../S/185.html#L112729'>db</a>               112729 libdb/sqlite3.c       db-&gt;pVtabCtx-&gt;pTab = 0;</span>
<span class='curline'><a href='../S/185.html#L112731'>db</a>               112731 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_ERROR, (zErr ? "%s" : 0), zErr);</span>
<span class='curline'><a href='../S/185.html#L112732'>db</a>               112732 libdb/sqlite3.c       sqlite3DbFree(db, zErr);</span>
<span class='curline'><a href='../S/185.html#L112740'>db</a>               112740 libdb/sqlite3.c     sqlite3DeleteTable(db, pParse-&gt;pNewTable);</span>
<span class='curline'><a href='../S/185.html#L112742'>db</a>               112742 libdb/sqlite3.c     sqlite3StackFree(db, pParse);</span>
<span class='curline'><a href='../S/185.html#L112746'>db</a>               112746 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L112747'>db</a>               112747 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L112758'>db</a>               112758 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabCallDestroy(sqlite3 *db, int iDb, const char *zTab){</span>
<span class='curline'><a href='../S/185.html#L112762'>db</a>               112762 libdb/sqlite3.c   pTab = sqlite3FindTable(db, zTab, db-&gt;aDb[iDb].zName);</span>
<span class='curline'><a href='../S/185.html#L112764'>db</a>               112764 libdb/sqlite3.c     VTable *p = vtabDisconnectAll(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L112789'>db</a>               112789 libdb/sqlite3.c static void callFinaliser(sqlite3 *db, int offset){</span>
<span class='curline'><a href='../S/185.html#L112791'>db</a>               112791 libdb/sqlite3.c   if( db-&gt;aVTrans ){</span>
<span class='curline'><a href='../S/185.html#L112792'>db</a>               112792 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/185.html#L112793'>db</a>               112793 libdb/sqlite3.c       VTable *pVTab = db-&gt;aVTrans[i];</span>
<span class='curline'><a href='../S/185.html#L112803'>db</a>               112803 libdb/sqlite3.c     sqlite3DbFree(db, db-&gt;aVTrans);</span>
<span class='curline'><a href='../S/185.html#L112804'>db</a>               112804 libdb/sqlite3.c     db-&gt;nVTrans = 0;</span>
<span class='curline'><a href='../S/185.html#L112805'>db</a>               112805 libdb/sqlite3.c     db-&gt;aVTrans = 0;</span>
<span class='curline'><a href='../S/185.html#L112816'>db</a>               112816 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabSync(sqlite3 *db, Vdbe *p){</span>
<span class='curline'><a href='../S/185.html#L112819'>db</a>               112819 libdb/sqlite3.c   VTable **aVTrans = db-&gt;aVTrans;</span>
<span class='curline'><a href='../S/185.html#L112821'>db</a>               112821 libdb/sqlite3.c   db-&gt;aVTrans = 0;</span>
<span class='curline'><a href='../S/185.html#L112822'>db</a>               112822 libdb/sqlite3.c   for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/185.html#L112830'>db</a>               112830 libdb/sqlite3.c   db-&gt;aVTrans = aVTrans;</span>
<span class='curline'><a href='../S/185.html#L112838'>db</a>               112838 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabRollback(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L112839'>db</a>               112839 libdb/sqlite3.c   callFinaliser(db, offsetof(sqlite3_module,xRollback));</span>
<span class='curline'><a href='../S/185.html#L112847'>db</a>               112847 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabCommit(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L112848'>db</a>               112848 libdb/sqlite3.c   callFinaliser(db, offsetof(sqlite3_module,xCommit));</span>
<span class='curline'><a href='../S/185.html#L112860'>db</a>               112860 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabBegin(sqlite3 *db, VTable *pVTab){</span>
<span class='curline'><a href='../S/185.html#L112869'>db</a>               112869 libdb/sqlite3.c   if( sqlite3VtabInSync(db) ){</span>
<span class='curline'><a href='../S/185.html#L112881'>db</a>               112881 libdb/sqlite3.c     for(i=0; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/185.html#L112882'>db</a>               112882 libdb/sqlite3.c       if( db-&gt;aVTrans[i]==pVTab ){</span>
<span class='curline'><a href='../S/185.html#L112889'>db</a>               112889 libdb/sqlite3.c     rc = growVTrans(db);</span>
<span class='curline'><a href='../S/185.html#L112893'>db</a>               112893 libdb/sqlite3.c         addToVTrans(db, pVTab);</span>
<span class='curline'><a href='../S/185.html#L112915'>db</a>               112915 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3VtabSavepoint(sqlite3 *db, int op, int iSavepoint){</span>
<span class='curline'><a href='../S/185.html#L112920'>db</a>               112920 libdb/sqlite3.c   if( db-&gt;aVTrans ){</span>
<span class='curline'><a href='../S/185.html#L112922'>db</a>               112922 libdb/sqlite3.c     for(i=0; rc==SQLITE_OK &amp;&amp; i&lt;db-&gt;nVTrans; i++){</span>
<span class='curline'><a href='../S/185.html#L112923'>db</a>               112923 libdb/sqlite3.c       VTable *pVTab = db-&gt;aVTrans[i];</span>
<span class='curline'><a href='../S/185.html#L112962'>db</a>               112962 libdb/sqlite3.c   sqlite3 *db,    /* Database connection for reporting malloc problems */</span>
<span class='curline'><a href='../S/185.html#L112984'>db</a>               112984 libdb/sqlite3.c   pVtab = sqlite3GetVTable(db, pTab)-&gt;pVtab;</span>
<span class='curline'><a href='../S/185.html#L112993'>db</a>               112993 libdb/sqlite3.c   zLowerName = sqlite3DbStrDup(db, pDef-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L112999'>db</a>               112999 libdb/sqlite3.c     sqlite3DbFree(db, zLowerName);</span>
<span class='curline'><a href='../S/185.html#L113007'>db</a>               113007 libdb/sqlite3.c   pNew = sqlite3DbMallocZero(db, sizeof(*pNew)</span>
<span class='curline'><a href='../S/185.html#L113042'>db</a>               113042 libdb/sqlite3.c     pToplevel-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L113053'>db</a>               113053 libdb/sqlite3.c SQLITE_API int sqlite3_vtab_on_conflict(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L113059'>db</a>               113059 libdb/sqlite3.c   assert( db-&gt;vtabOnConflict&gt;=1 &amp;&amp; db-&gt;vtabOnConflict&lt;=5 );</span>
<span class='curline'><a href='../S/185.html#L113060'>db</a>               113060 libdb/sqlite3.c   return (int)aMap[db-&gt;vtabOnConflict-1];</span>
<span class='curline'><a href='../S/185.html#L113068'>db</a>               113068 libdb/sqlite3.c SQLITE_API int sqlite3_vtab_config(sqlite3 *db, int op, ...){</span>
<span class='curline'><a href='../S/185.html#L113072'>db</a>               113072 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L113077'>db</a>               113077 libdb/sqlite3.c       VtabCtx *p = db-&gt;pVtabCtx;</span>
<span class='curline'><a href='../S/185.html#L113092'>db</a>               113092 libdb/sqlite3.c   if( rc!=SQLITE_OK ) sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/185.html#L113093'>db</a>               113093 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L113714'>db</a>               113714 libdb/sqlite3.c static void whereOrInfoDelete(sqlite3 *db, WhereOrInfo *p){</span>
<span class='curline'><a href='../S/185.html#L113716'>db</a>               113716 libdb/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L113722'>db</a>               113722 libdb/sqlite3.c static void whereAndInfoDelete(sqlite3 *db, WhereAndInfo *p){</span>
<span class='curline'><a href='../S/185.html#L113724'>db</a>               113724 libdb/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L113734'>db</a>               113734 libdb/sqlite3.c   sqlite3 *db = pWC-&gt;pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L113737'>db</a>               113737 libdb/sqlite3.c       sqlite3ExprDelete(db, a-&gt;pExpr);</span>
<span class='curline'><a href='../S/185.html#L113740'>db</a>               113740 libdb/sqlite3.c       whereOrInfoDelete(db, a-&gt;u.pOrInfo);</span>
<span class='curline'><a href='../S/185.html#L113742'>db</a>               113742 libdb/sqlite3.c       whereAndInfoDelete(db, a-&gt;u.pAndInfo);</span>
<span class='curline'><a href='../S/185.html#L113746'>db</a>               113746 libdb/sqlite3.c     sqlite3DbFree(db, pWC-&gt;a);</span>
<span class='curline'><a href='../S/185.html#L113775'>db</a>               113775 libdb/sqlite3.c     sqlite3 *db = pWC-&gt;pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L113776'>db</a>               113776 libdb/sqlite3.c     pWC-&gt;a = sqlite3DbMallocRaw(db, sizeof(pWC-&gt;a[0])*pWC-&gt;nSlot*2 );</span>
<span class='curline'><a href='../S/185.html#L113779'>db</a>               113779 libdb/sqlite3.c         sqlite3ExprDelete(db, p);</span>
<span class='curline'><a href='../S/185.html#L113786'>db</a>               113786 libdb/sqlite3.c       sqlite3DbFree(db, pOld);</span>
<span class='curline'><a href='../S/185.html#L113788'>db</a>               113788 libdb/sqlite3.c     pWC-&gt;nSlot = sqlite3DbMallocSize(db, pWC-&gt;a)/sizeof(pWC-&gt;a[0]);</span>
<span class='curline'><a href='../S/185.html#L114047'>db</a>               114047 libdb/sqlite3.c               if( pColl==0 ) pColl = pParse-&gt;db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L114208'>db</a>               114208 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;  /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L114212'>db</a>               114212 libdb/sqlite3.c   if( !sqlite3IsLikeFunction(db, pExpr, pnoCase, wc) ){</span>
<span class='curline'><a href='../S/185.html#L114252'>db</a>               114252 libdb/sqlite3.c       pPrefix = sqlite3Expr(db, TK_STRING, z);</span>
<span class='curline'><a href='../S/185.html#L114407'>db</a>               114407 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;               /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L114424'>db</a>               114424 libdb/sqlite3.c   pTerm-&gt;u.pOrInfo = pOrInfo = sqlite3DbMallocZero(db, sizeof(*pOrInfo));</span>
<span class='curline'><a href='../S/185.html#L114431'>db</a>               114431 libdb/sqlite3.c   if( db-&gt;mallocFailed ) return;</span>
<span class='curline'><a href='../S/185.html#L114444'>db</a>               114444 libdb/sqlite3.c       pAndInfo = sqlite3DbMallocRaw(db, sizeof(*pAndInfo));</span>
<span class='curline'><a href='../S/185.html#L114458'>db</a>               114458 libdb/sqlite3.c         testcase( db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L114459'>db</a>               114459 libdb/sqlite3.c         if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L114604'>db</a>               114604 libdb/sqlite3.c         pDup = sqlite3ExprDup(db, pOrTerm-&gt;pExpr-&gt;pRight, 0);</span>
<span class='curline'><a href='../S/185.html#L114609'>db</a>               114609 libdb/sqlite3.c       pDup = sqlite3ExprDup(db, pLeft, 0);</span>
<span class='curline'><a href='../S/185.html#L114623'>db</a>               114623 libdb/sqlite3.c         sqlite3ExprListDelete(db, pList);</span>
<span class='curline'><a href='../S/185.html#L114666'>db</a>               114666 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;        /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L114668'>db</a>               114668 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L114715'>db</a>               114715 libdb/sqlite3.c         pDup = sqlite3ExprDup(db, pExpr, 0);</span>
<span class='curline'><a href='../S/185.html#L114716'>db</a>               114716 libdb/sqlite3.c         if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L114717'>db</a>               114717 libdb/sqlite3.c           sqlite3ExprDelete(db, pDup);</span>
<span class='curline'><a href='../S/185.html#L114729'>db</a>               114729 libdb/sqlite3.c          &amp;&amp; OptimizationEnabled(db, SQLITE_Transitive)</span>
<span class='curline'><a href='../S/185.html#L114775'>db</a>               114775 libdb/sqlite3.c                              sqlite3ExprDup(db, pExpr-&gt;pLeft, 0),</span>
<span class='curline'><a href='../S/185.html#L114776'>db</a>               114776 libdb/sqlite3.c                              sqlite3ExprDup(db, pList-&gt;a[i].pExpr, 0), 0);</span>
<span class='curline'><a href='../S/185.html#L114822'>db</a>               114822 libdb/sqlite3.c     pStr2 = sqlite3ExprDup(db, pStr1, 0);</span>
<span class='curline'><a href='../S/185.html#L114823'>db</a>               114823 libdb/sqlite3.c     if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L114841'>db</a>               114841 libdb/sqlite3.c     pNewExpr1 = sqlite3ExprDup(db, pLeft, 0);</span>
<span class='curline'><a href='../S/185.html#L114849'>db</a>               114849 libdb/sqlite3.c     pNewExpr2 = sqlite3ExprDup(db, pLeft, 0);</span>
<span class='curline'><a href='../S/185.html#L114886'>db</a>               114886 libdb/sqlite3.c                               0, sqlite3ExprDup(db, pRight, 0), 0);</span>
<span class='curline'><a href='../S/185.html#L114917'>db</a>               114917 libdb/sqlite3.c    &amp;&amp; OptimizationEnabled(db, SQLITE_Stat3)</span>
<span class='curline'><a href='../S/185.html#L114925'>db</a>               114925 libdb/sqlite3.c                             sqlite3ExprDup(db, pLeft, 0),</span>
<span class='curline'><a href='../S/185.html#L115185'>db</a>               115185 libdb/sqlite3.c         if( whereLoopResize(pParse-&gt;db, pLoop, nKeyCol+1) ) return;</span>
<span class='curline'><a href='../S/185.html#L115217'>db</a>               115217 libdb/sqlite3.c   pIdx = sqlite3AllocateIndexObject(pParse-&gt;db, nKeyCol+1, 0, &amp;zNotUsed);</span>
<span class='curline'><a href='../S/185.html#L115337'>db</a>               115337 libdb/sqlite3.c   pIdxInfo = sqlite3DbMallocZero(pParse-&gt;db, sizeof(*pIdxInfo)</span>
<span class='curline'><a href='../S/185.html#L115410'>db</a>               115410 libdb/sqlite3.c   sqlite3_vtab *pVtab = sqlite3GetVTable(pParse-&gt;db, pTab)-&gt;pVtab;</span>
<span class='curline'><a href='../S/185.html#L115420'>db</a>               115420 libdb/sqlite3.c       pParse-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L115491'>db</a>               115491 libdb/sqlite3.c          || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L115497'>db</a>               115497 libdb/sqlite3.c          || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L115500'>db</a>               115500 libdb/sqlite3.c          || pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L115605'>db</a>               115605 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L115631'>db</a>               115631 libdb/sqlite3.c       rc = sqlite3Stat4Column(db, p-&gt;aSample[i].p, p-&gt;aSample[i].n, nEq, &amp;pVal);</span>
<span class='curline'><a href='../S/185.html#L115726'>db</a>               115726 libdb/sqlite3.c    &amp;&amp; OptimizationEnabled(pParse-&gt;db, SQLITE_Stat3) </span>
<span class='curline'><a href='../S/185.html#L116028'>db</a>               116028 libdb/sqlite3.c     assert( pParse-&gt;db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L116116'>db</a>               116116 libdb/sqlite3.c        sqlite3DbReallocOrFree(pParse-&gt;db, pLevel-&gt;u.in.aInLoop,</span>
<span class='curline'><a href='../S/185.html#L116215'>db</a>               116215 libdb/sqlite3.c   zAff = sqlite3DbStrDup(pParse-&gt;db, sqlite3IndexAffinityStr(v, pIdx));</span>
<span class='curline'><a href='../S/185.html#L116217'>db</a>               116217 libdb/sqlite3.c     pParse-&gt;db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L116368'>db</a>               116368 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;     /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L116386'>db</a>               116386 libdb/sqlite3.c     str.db = db;</span>
<span class='curline'><a href='../S/185.html#L116476'>db</a>               116476 libdb/sqlite3.c   sqlite3 *db;                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L116487'>db</a>               116487 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L116894'>db</a>               116894 libdb/sqlite3.c     sqlite3DbFree(db, zStartAff);</span>
<span class='curline'><a href='../S/185.html#L117026'>db</a>               117026 libdb/sqlite3.c       pOrTab = sqlite3StackAllocRaw(db,</span>
<span class='curline'><a href='../S/185.html#L117090'>db</a>               117090 libdb/sqlite3.c         pExpr = sqlite3ExprDup(db, pExpr, 0);</span>
<span class='curline'><a href='../S/185.html#L117091'>db</a>               117091 libdb/sqlite3.c         pAndExpr = sqlite3ExprAnd(db, pAndExpr, pExpr);</span>
<span class='curline'><a href='../S/185.html#L117119'>db</a>               117119 libdb/sqlite3.c         assert( pSubWInfo || pParse-&gt;nErr || db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L117223'>db</a>               117223 libdb/sqlite3.c       sqlite3ExprDelete(db, pAndExpr);</span>
<span class='curline'><a href='../S/185.html#L117229'>db</a>               117229 libdb/sqlite3.c     if( pWInfo-&gt;nLevel&gt;1 ) sqlite3StackFree(db, pOrTab);</span>
<span class='curline'><a href='../S/185.html#L117302'>db</a>               117302 libdb/sqlite3.c     pEAlt = sqlite3StackAllocRaw(db, sizeof(*pEAlt));</span>
<span class='curline'><a href='../S/185.html#L117307'>db</a>               117307 libdb/sqlite3.c       sqlite3StackFree(db, pEAlt);</span>
<span class='curline'><a href='../S/185.html#L117422'>db</a>               117422 libdb/sqlite3.c static void whereLoopClearUnion(sqlite3 *db, WhereLoop *p){</span>
<span class='curline'><a href='../S/185.html#L117429'>db</a>               117429 libdb/sqlite3.c       sqlite3DbFree(db, p-&gt;u.btree.pIndex-&gt;zColAff);</span>
<span class='curline'><a href='../S/185.html#L117431'>db</a>               117431 libdb/sqlite3.c       sqlite3DbFree(db, p-&gt;u.btree.pIndex);</span>
<span class='curline'><a href='../S/185.html#L117440'>db</a>               117440 libdb/sqlite3.c static void whereLoopClear(sqlite3 *db, WhereLoop *p){</span>
<span class='curline'><a href='../S/185.html#L117441'>db</a>               117441 libdb/sqlite3.c   if( p-&gt;aLTerm!=p-&gt;aLTermSpace ) sqlite3DbFree(db, p-&gt;aLTerm);</span>
<span class='curline'><a href='../S/185.html#L117442'>db</a>               117442 libdb/sqlite3.c   whereLoopClearUnion(db, p);</span>
<span class='curline'><a href='../S/185.html#L117449'>db</a>               117449 libdb/sqlite3.c static int whereLoopResize(sqlite3 *db, WhereLoop *p, int n){</span>
<span class='curline'><a href='../S/185.html#L117453'>db</a>               117453 libdb/sqlite3.c   paNew = sqlite3DbMallocRaw(db, sizeof(p-&gt;aLTerm[0])*n);</span>
<span class='curline'><a href='../S/185.html#L117456'>db</a>               117456 libdb/sqlite3.c   if( p-&gt;aLTerm!=p-&gt;aLTermSpace ) sqlite3DbFree(db, p-&gt;aLTerm);</span>
<span class='curline'><a href='../S/185.html#L117465'>db</a>               117465 libdb/sqlite3.c static int whereLoopXfer(sqlite3 *db, WhereLoop *pTo, WhereLoop *pFrom){</span>
<span class='curline'><a href='../S/185.html#L117466'>db</a>               117466 libdb/sqlite3.c   whereLoopClearUnion(db, pTo);</span>
<span class='curline'><a href='../S/185.html#L117467'>db</a>               117467 libdb/sqlite3.c   if( whereLoopResize(db, pTo, pFrom-&gt;nLTerm) ){</span>
<span class='curline'><a href='../S/185.html#L117484'>db</a>               117484 libdb/sqlite3.c static void whereLoopDelete(sqlite3 *db, WhereLoop *p){</span>
<span class='curline'><a href='../S/185.html#L117485'>db</a>               117485 libdb/sqlite3.c   whereLoopClear(db, p);</span>
<span class='curline'><a href='../S/185.html#L117486'>db</a>               117486 libdb/sqlite3.c   sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L117492'>db</a>               117492 libdb/sqlite3.c static void whereInfoFree(sqlite3 *db, WhereInfo *pWInfo){</span>
<span class='curline'><a href='../S/185.html#L117498'>db</a>               117498 libdb/sqlite3.c       whereLoopDelete(db, p);</span>
<span class='curline'><a href='../S/185.html#L117500'>db</a>               117500 libdb/sqlite3.c     sqlite3DbFree(db, pWInfo);</span>
<span class='curline'><a href='../S/185.html#L117686'>db</a>               117686 libdb/sqlite3.c   sqlite3 *db = pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L117742'>db</a>               117742 libdb/sqlite3.c     *ppPrev = p = sqlite3DbMallocRaw(db, sizeof(WhereLoop));</span>
<span class='curline'><a href='../S/185.html#L117764'>db</a>               117764 libdb/sqlite3.c       whereLoopDelete(db, pToDel);</span>
<span class='curline'><a href='../S/185.html#L117767'>db</a>               117767 libdb/sqlite3.c   whereLoopXfer(db, p, pTemplate);</span>
<span class='curline'><a href='../S/185.html#L117854'>db</a>               117854 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* Database connection malloc context */</span>
<span class='curline'><a href='../S/185.html#L117872'>db</a>               117872 libdb/sqlite3.c   if( db-&gt;mallocFailed ) return SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/185.html#L117914'>db</a>               117914 libdb/sqlite3.c    &amp;&amp; (rc = whereLoopResize(db, pNew, pNew-&gt;nLTerm+1))==SQLITE_OK</span>
<span class='curline'><a href='../S/185.html#L117955'>db</a>               117955 libdb/sqlite3.c     if( whereLoopResize(db, pNew, pNew-&gt;nLTerm+1) ) break; /* OOM */</span>
<span class='curline'><a href='../S/185.html#L118031'>db</a>               118031 libdb/sqlite3.c          &amp;&amp; OptimizationEnabled(db, SQLITE_Stat3) </span>
<span class='curline'><a href='../S/185.html#L118266'>db</a>               118266 libdb/sqlite3.c    &amp;&amp; (pWInfo-&gt;pParse-&gt;db-&gt;flags &amp; SQLITE_AutoIndex)!=0</span>
<span class='curline'><a href='../S/185.html#L118363'>db</a>               118363 libdb/sqlite3.c          &amp;&amp; OptimizationEnabled(pWInfo-&gt;pParse-&gt;db, SQLITE_CoverIdxScan)</span>
<span class='curline'><a href='../S/185.html#L118412'>db</a>               118412 libdb/sqlite3.c   sqlite3 *db;</span>
<span class='curline'><a href='../S/185.html#L118428'>db</a>               118428 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L118443'>db</a>               118443 libdb/sqlite3.c   if( whereLoopResize(db, pNew, nConstraint) ){</span>
<span class='curline'><a href='../S/185.html#L118444'>db</a>               118444 libdb/sqlite3.c     sqlite3DbFree(db, pIdxInfo);</span>
<span class='curline'><a href='../S/185.html#L118562'>db</a>               118562 libdb/sqlite3.c   sqlite3DbFree(db, pIdxInfo);</span>
<span class='curline'><a href='../S/185.html#L118699'>db</a>               118699 libdb/sqlite3.c   sqlite3 *db = pWInfo-&gt;pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L118724'>db</a>               118724 libdb/sqlite3.c     if( rc || db-&gt;mallocFailed ) break;</span>
<span class='curline'><a href='../S/185.html#L118726'>db</a>               118726 libdb/sqlite3.c   whereLoopClear(db, pNew);</span>
<span class='curline'><a href='../S/185.html#L118774'>db</a>               118774 libdb/sqlite3.c   sqlite3 *db = pWInfo-&gt;pParse-&gt;db;  /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L118803'>db</a>               118803 libdb/sqlite3.c   if( nLoop &amp;&amp; OptimizationDisabled(db, SQLITE_OrderByIdxJoin) ) return 0;</span>
<span class='curline'><a href='../S/185.html#L118837'>db</a>               118837 libdb/sqlite3.c         if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L118840'>db</a>               118840 libdb/sqlite3.c         if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L118921'>db</a>               118921 libdb/sqlite3.c             if( !pColl ) pColl = db-&gt;pDfltColl;</span>
<span class='curline'><a href='../S/185.html#L119083'>db</a>               119083 libdb/sqlite3.c   sqlite3 *db;              /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L119102'>db</a>               119102 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L119125'>db</a>               119125 libdb/sqlite3.c   pSpace = sqlite3DbMallocRaw(db, nSpace);</span>
<span class='curline'><a href='../S/185.html#L119350'>db</a>               119350 libdb/sqlite3.c     sqlite3DbFree(db, pSpace);</span>
<span class='curline'><a href='../S/185.html#L119408'>db</a>               119408 libdb/sqlite3.c   sqlite3DbFree(db, pSpace);</span>
<span class='curline'><a href='../S/185.html#L119605'>db</a>               119605 libdb/sqlite3.c   sqlite3 *db;               /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L119610'>db</a>               119610 libdb/sqlite3.c   db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L119620'>db</a>               119620 libdb/sqlite3.c   if( OptimizationDisabled(db, SQLITE_DistinctOpt) ){</span>
<span class='curline'><a href='../S/185.html#L119648'>db</a>               119648 libdb/sqlite3.c   pWInfo = sqlite3DbMallocZero(db, nByteWInfo + sizeof(WhereLoop));</span>
<span class='curline'><a href='../S/185.html#L119649'>db</a>               119649 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L119650'>db</a>               119650 libdb/sqlite3.c     sqlite3DbFree(db, pWInfo);</span>
<span class='curline'><a href='../S/185.html#L119736'>db</a>               119736 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L119782'>db</a>               119782 libdb/sqlite3.c     if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/185.html#L119785'>db</a>               119785 libdb/sqlite3.c        if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/185.html#L119788'>db</a>               119788 libdb/sqlite3.c   if( pWInfo-&gt;pOrderBy==0 &amp;&amp; (db-&gt;flags &amp; SQLITE_ReverseOrder)!=0 ){</span>
<span class='curline'><a href='../S/185.html#L119791'>db</a>               119791 libdb/sqlite3.c   if( pParse-&gt;nErr || NEVER(db-&gt;mallocFailed) ){</span>
<span class='curline'><a href='../S/185.html#L119824'>db</a>               119824 libdb/sqlite3.c    &amp;&amp; OptimizationEnabled(db, SQLITE_OmitNoopJoin)</span>
<span class='curline'><a href='../S/185.html#L119880'>db</a>               119880 libdb/sqlite3.c     iDb = sqlite3SchemaToIndex(db, pTab-&gt;pSchema);</span>
<span class='curline'><a href='../S/185.html#L119887'>db</a>               119887 libdb/sqlite3.c       const char *pVTab = (const char *)sqlite3GetVTable(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L119958'>db</a>               119958 libdb/sqlite3.c   if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/185.html#L119971'>db</a>               119971 libdb/sqlite3.c       if( db-&gt;mallocFailed ) goto whereBeginError;</span>
<span class='curline'><a href='../S/185.html#L119988'>db</a>               119988 libdb/sqlite3.c     whereInfoFree(db, pWInfo);</span>
<span class='curline'><a href='../S/185.html#L120004'>db</a>               120004 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L120035'>db</a>               120035 libdb/sqlite3.c       sqlite3DbFree(db, pLevel-&gt;u.in.aInLoop);</span>
<span class='curline'><a href='../S/185.html#L120084'>db</a>               120084 libdb/sqlite3.c     if( pTabItem-&gt;viaCoroutine &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L120141'>db</a>               120141 libdb/sqlite3.c     if( pIdx &amp;&amp; !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L120171'>db</a>               120171 libdb/sqlite3.c   whereInfoFree(db, pWInfo);</span>
<span class='curline'><a href='../S/185.html#L120288'>db</a>               120288 libdb/sqlite3.c     sqlite3 *db = pParse-&gt;db;</span>
<span class='curline'><a href='../S/185.html#L120291'>db</a>               120291 libdb/sqlite3.c       sqlite3ExprDelete(db, pA-&gt;pRight);</span>
<span class='curline'><a href='../S/185.html#L121560'>db</a>               121560 libdb/sqlite3.c sqlite3SelectDelete(pParse-&gt;db, (yypminor-&gt;yy3));</span>
<span class='curline'><a href='../S/185.html#L121566'>db</a>               121566 libdb/sqlite3.c sqlite3ExprDelete(pParse-&gt;db, (yypminor-&gt;yy346).pExpr);</span>
<span class='curline'><a href='../S/185.html#L121581'>db</a>               121581 libdb/sqlite3.c sqlite3ExprListDelete(pParse-&gt;db, (yypminor-&gt;yy14));</span>
<span class='curline'><a href='../S/185.html#L121589'>db</a>               121589 libdb/sqlite3.c sqlite3SrcListDelete(pParse-&gt;db, (yypminor-&gt;yy65));</span>
<span class='curline'><a href='../S/185.html#L121595'>db</a>               121595 libdb/sqlite3.c sqlite3WithDelete(pParse-&gt;db, (yypminor-&gt;yy59));</span>
<span class='curline'><a href='../S/185.html#L121606'>db</a>               121606 libdb/sqlite3.c sqlite3ExprDelete(pParse-&gt;db, (yypminor-&gt;yy132));</span>
<span class='curline'><a href='../S/185.html#L121613'>db</a>               121613 libdb/sqlite3.c sqlite3IdListDelete(pParse-&gt;db, (yypminor-&gt;yy408));</span>
<span class='curline'><a href='../S/185.html#L121619'>db</a>               121619 libdb/sqlite3.c sqlite3DeleteTriggerStep(pParse-&gt;db, (yypminor-&gt;yy473));</span>
<span class='curline'><a href='../S/185.html#L121624'>db</a>               121624 libdb/sqlite3.c sqlite3IdListDelete(pParse-&gt;db, (yypminor-&gt;yy378).b);</span>
<span class='curline'><a href='../S/185.html#L122304'>db</a>               122304 libdb/sqlite3.c   pParse-&gt;db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L122337'>db</a>               122337 libdb/sqlite3.c   sqlite3SelectDelete(pParse-&gt;db, yymsp[0].minor.yy3);</span>
<span class='curline'><a href='../S/185.html#L122548'>db</a>               122548 libdb/sqlite3.c   sqlite3SelectDelete(pParse-&gt;db, yymsp[0].minor.yy3);</span>
<span class='curline'><a href='../S/185.html#L122563'>db</a>               122563 libdb/sqlite3.c       mxSelect = pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_COMPOUND_SELECT];</span>
<span class='curline'><a href='../S/185.html#L122569'>db</a>               122569 libdb/sqlite3.c     sqlite3WithDelete(pParse-&gt;db, yymsp[-1].minor.yy59);</span>
<span class='curline'><a href='../S/185.html#L122593'>db</a>               122593 libdb/sqlite3.c     sqlite3SelectDelete(pParse-&gt;db, yymsp[-2].minor.yy3);</span>
<span class='curline'><a href='../S/185.html#L122674'>db</a>               122674 libdb/sqlite3.c   Expr *p = sqlite3Expr(pParse-&gt;db, TK_ALL, 0);</span>
<span class='curline'><a href='../S/185.html#L122690'>db</a>               122690 libdb/sqlite3.c {yygotominor.yy65 = sqlite3DbMallocZero(pParse-&gt;db, sizeof(*yygotominor.yy65));}</span>
<span class='curline'><a href='../S/185.html#L122733'>db</a>               122733 libdb/sqlite3.c       sqlite3SrcListDelete(pParse-&gt;db, yymsp[-4].minor.yy65);</span>
<span class='curline'><a href='../S/185.html#L122747'>db</a>               122747 libdb/sqlite3.c {yygotominor.yy65 = sqlite3SrcListAppend(pParse-&gt;db,0,&amp;yymsp[-1].minor.yy0,&amp;yymsp[0].minor.yy0);}</span>
<span class='curline'><a href='../S/185.html#L122868'>db</a>               122868 libdb/sqlite3.c {yygotominor.yy408 = sqlite3IdListAppend(pParse-&gt;db,yymsp[-2].minor.yy408,&amp;yymsp[0].minor.yy0);}</span>
<span class='curline'><a href='../S/185.html#L122871'>db</a>               122871 libdb/sqlite3.c {yygotominor.yy408 = sqlite3IdListAppend(pParse-&gt;db,0,&amp;yymsp[0].minor.yy0);}</span>
<span class='curline'><a href='../S/185.html#L122941'>db</a>               122941 libdb/sqlite3.c   if( yymsp[-1].minor.yy14 &amp;&amp; yymsp[-1].minor.yy14-&gt;nExpr&gt;pParse-&gt;db-&gt;aLimit[SQLITE_LIMIT_FUNCTION_ARG] ){</span>
<span class='curline'><a href='../S/185.html#L123040'>db</a>               123040 libdb/sqlite3.c     sqlite3ExprListDelete(pParse-&gt;db, pList);</span>
<span class='curline'><a href='../S/185.html#L123059'>db</a>               123059 libdb/sqlite3.c       sqlite3ExprDelete(pParse-&gt;db, yymsp[-4].minor.yy346.pExpr);</span>
<span class='curline'><a href='../S/185.html#L123079'>db</a>               123079 libdb/sqlite3.c       sqlite3ExprListDelete(pParse-&gt;db, yymsp[-1].minor.yy14);</span>
<span class='curline'><a href='../S/185.html#L123093'>db</a>               123093 libdb/sqlite3.c         sqlite3ExprListDelete(pParse-&gt;db, yymsp[-1].minor.yy14);</span>
<span class='curline'><a href='../S/185.html#L123109'>db</a>               123109 libdb/sqlite3.c       sqlite3SelectDelete(pParse-&gt;db, yymsp[-1].minor.yy3);</span>
<span class='curline'><a href='../S/185.html#L123123'>db</a>               123123 libdb/sqlite3.c       sqlite3SelectDelete(pParse-&gt;db, yymsp[-1].minor.yy3);</span>
<span class='curline'><a href='../S/185.html#L123132'>db</a>               123132 libdb/sqlite3.c     SrcList *pSrc = sqlite3SrcListAppend(pParse-&gt;db, 0,&amp;yymsp[-1].minor.yy0,&amp;yymsp[0].minor.yy0);</span>
<span class='curline'><a href='../S/185.html#L123139'>db</a>               123139 libdb/sqlite3.c       sqlite3SrcListDelete(pParse-&gt;db, pSrc);</span>
<span class='curline'><a href='../S/185.html#L123154'>db</a>               123154 libdb/sqlite3.c       sqlite3SelectDelete(pParse-&gt;db, yymsp[-1].minor.yy3);</span>
<span class='curline'><a href='../S/185.html#L123167'>db</a>               123167 libdb/sqlite3.c     sqlite3ExprListDelete(pParse-&gt;db, yymsp[-2].minor.yy14);</span>
<span class='curline'><a href='../S/185.html#L123168'>db</a>               123168 libdb/sqlite3.c     sqlite3ExprDelete(pParse-&gt;db, yymsp[-1].minor.yy132);</span>
<span class='curline'><a href='../S/185.html#L123195'>db</a>               123195 libdb/sqlite3.c                      sqlite3SrcListAppend(pParse-&gt;db,0,&amp;yymsp[-4].minor.yy0,0), yymsp[-2].minor.yy14, yymsp[-10].minor.yy328,</span>
<span class='curline'><a href='../S/185.html#L123326'>db</a>               123326 libdb/sqlite3.c { yygotominor.yy473 = sqlite3TriggerUpdateStep(pParse-&gt;db, &amp;yymsp[-4].minor.yy0, yymsp[-1].minor.yy14, yymsp[0].minor.yy132, yymsp[-5].minor.yy186); }</span>
<span class='curline'><a href='../S/185.html#L123329'>db</a>               123329 libdb/sqlite3.c {yygotominor.yy473 = sqlite3TriggerInsertStep(pParse-&gt;db, &amp;yymsp[-2].minor.yy0, yymsp[-1].minor.yy408, yymsp[0].minor.yy3, yymsp[-4].minor.yy186);}</span>
<span class='curline'><a href='../S/185.html#L123332'>db</a>               123332 libdb/sqlite3.c {yygotominor.yy473 = sqlite3TriggerDeleteStep(pParse-&gt;db, &amp;yymsp[-2].minor.yy0, yymsp[0].minor.yy132);}</span>
<span class='curline'><a href='../S/185.html#L123335'>db</a>               123335 libdb/sqlite3.c {yygotominor.yy473 = sqlite3TriggerSelectStep(pParse-&gt;db, yymsp[0].minor.yy3); }</span>
<span class='curline'><a href='../S/185.html#L123402'>db</a>               123402 libdb/sqlite3.c   pParse-&gt;db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L124404'>db</a>               124404 libdb/sqlite3.c   sqlite3 *db = pParse-&gt;db;       /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L124408'>db</a>               124408 libdb/sqlite3.c   mxSqlLen = db-&gt;aLimit[SQLITE_LIMIT_SQL_LENGTH];</span>
<span class='curline'><a href='../S/185.html#L124409'>db</a>               124409 libdb/sqlite3.c   if( db-&gt;nVdbeActive==0 ){</span>
<span class='curline'><a href='../S/185.html#L124410'>db</a>               124410 libdb/sqlite3.c     db-&gt;u1.isInterrupted = 0;</span>
<span class='curline'><a href='../S/185.html#L124418'>db</a>               124418 libdb/sqlite3.c     db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L124426'>db</a>               124426 libdb/sqlite3.c   enableLookaside = db-&gt;lookaside.bEnabled;</span>
<span class='curline'><a href='../S/185.html#L124427'>db</a>               124427 libdb/sqlite3.c   if( db-&gt;lookaside.pStart ) db-&gt;lookaside.bEnabled = 1;</span>
<span class='curline'><a href='../S/185.html#L124428'>db</a>               124428 libdb/sqlite3.c   while( !db-&gt;mallocFailed &amp;&amp; zSql[i]!=0 ){</span>
<span class='curline'><a href='../S/185.html#L124439'>db</a>               124439 libdb/sqlite3.c         if( db-&gt;u1.isInterrupted ){</span>
<span class='curline'><a href='../S/185.html#L124447'>db</a>               124447 libdb/sqlite3.c         sqlite3DbFree(db, *pzErrMsg);</span>
<span class='curline'><a href='../S/185.html#L124448'>db</a>               124448 libdb/sqlite3.c         *pzErrMsg = sqlite3MPrintf(db, "unrecognized token: \"%T\"",</span>
<span class='curline'><a href='../S/185.html#L124481'>db</a>               124481 libdb/sqlite3.c   db-&gt;lookaside.bEnabled = enableLookaside;</span>
<span class='curline'><a href='../S/185.html#L124482'>db</a>               124482 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L124486'>db</a>               124486 libdb/sqlite3.c     sqlite3SetString(&amp;pParse-&gt;zErrMsg, db, "%s", sqlite3ErrStr(pParse-&gt;rc));</span>
<span class='curline'><a href='../S/185.html#L124501'>db</a>               124501 libdb/sqlite3.c     sqlite3DbFree(db, pParse-&gt;aTableLock);</span>
<span class='curline'><a href='../S/185.html#L124515'>db</a>               124515 libdb/sqlite3.c     sqlite3DeleteTable(db, pParse-&gt;pNewTable);</span>
<span class='curline'><a href='../S/185.html#L124518'>db</a>               124518 libdb/sqlite3.c   if( pParse-&gt;bFreeWith ) sqlite3WithDelete(db, pParse-&gt;pWith);</span>
<span class='curline'><a href='../S/185.html#L124519'>db</a>               124519 libdb/sqlite3.c   sqlite3DeleteTrigger(db, pParse-&gt;pNewTrigger);</span>
<span class='curline'><a href='../S/185.html#L124520'>db</a>               124520 libdb/sqlite3.c   for(i=pParse-&gt;nzVar-1; i&gt;=0; i--) sqlite3DbFree(db, pParse-&gt;azVar[i]);</span>
<span class='curline'><a href='../S/185.html#L124521'>db</a>               124521 libdb/sqlite3.c   sqlite3DbFree(db, pParse-&gt;azVar);</span>
<span class='curline'><a href='../S/185.html#L124525'>db</a>               124525 libdb/sqlite3.c     sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L124530'>db</a>               124530 libdb/sqlite3.c     sqlite3DeleteTable(db, p);</span>
<span class='curline'><a href='../S/185.html#L124865'>db</a>               124865 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3Init(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L124897'>db</a>               124897 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3RtreeInit(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L124929'>db</a>               124929 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3IcuInit(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L125454'>db</a>               125454 libdb/sqlite3.c static int setupLookaside(sqlite3 *db, void *pBuf, int sz, int cnt){</span>
<span class='curline'><a href='../S/185.html#L125456'>db</a>               125456 libdb/sqlite3.c   if( db-&gt;lookaside.nOut ){</span>
<span class='curline'><a href='../S/185.html#L125463'>db</a>               125463 libdb/sqlite3.c   if( db-&gt;lookaside.bMalloced ){</span>
<span class='curline'><a href='../S/185.html#L125464'>db</a>               125464 libdb/sqlite3.c     sqlite3_free(db-&gt;lookaside.pStart);</span>
<span class='curline'><a href='../S/185.html#L125483'>db</a>               125483 libdb/sqlite3.c   db-&gt;lookaside.pStart = pStart;</span>
<span class='curline'><a href='../S/185.html#L125484'>db</a>               125484 libdb/sqlite3.c   db-&gt;lookaside.pFree = 0;</span>
<span class='curline'><a href='../S/185.html#L125485'>db</a>               125485 libdb/sqlite3.c   db-&gt;lookaside.sz = (u16)sz;</span>
<span class='curline'><a href='../S/185.html#L125492'>db</a>               125492 libdb/sqlite3.c       p-&gt;pNext = db-&gt;lookaside.pFree;</span>
<span class='curline'><a href='../S/185.html#L125493'>db</a>               125493 libdb/sqlite3.c       db-&gt;lookaside.pFree = p;</span>
<span class='curline'><a href='../S/185.html#L125496'>db</a>               125496 libdb/sqlite3.c     db-&gt;lookaside.pEnd = p;</span>
<span class='curline'><a href='../S/185.html#L125497'>db</a>               125497 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 1;</span>
<span class='curline'><a href='../S/185.html#L125498'>db</a>               125498 libdb/sqlite3.c     db-&gt;lookaside.bMalloced = pBuf==0 ?1:0;</span>
<span class='curline'><a href='../S/185.html#L125500'>db</a>               125500 libdb/sqlite3.c     db-&gt;lookaside.pStart = db;</span>
<span class='curline'><a href='../S/185.html#L125501'>db</a>               125501 libdb/sqlite3.c     db-&gt;lookaside.pEnd = db;</span>
<span class='curline'><a href='../S/185.html#L125502'>db</a>               125502 libdb/sqlite3.c     db-&gt;lookaside.bEnabled = 0;</span>
<span class='curline'><a href='../S/185.html#L125503'>db</a>               125503 libdb/sqlite3.c     db-&gt;lookaside.bMalloced = 0;</span>
<span class='curline'><a href='../S/185.html#L125511'>db</a>               125511 libdb/sqlite3.c SQLITE_API sqlite3_mutex *sqlite3_db_mutex(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125512'>db</a>               125512 libdb/sqlite3.c   return db-&gt;mutex;</span>
<span class='curline'><a href='../S/185.html#L125519'>db</a>               125519 libdb/sqlite3.c SQLITE_API int sqlite3_db_release_memory(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125521'>db</a>               125521 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125522'>db</a>               125522 libdb/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L125523'>db</a>               125523 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L125524'>db</a>               125524 libdb/sqlite3.c     Btree *pBt = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L125530'>db</a>               125530 libdb/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L125531'>db</a>               125531 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125538'>db</a>               125538 libdb/sqlite3.c SQLITE_API int sqlite3_db_config(sqlite3 *db, int op, ...){</span>
<span class='curline'><a href='../S/185.html#L125547'>db</a>               125547 libdb/sqlite3.c       rc = setupLookaside(db, pBuf, sz, cnt);</span>
<span class='curline'><a href='../S/185.html#L125564'>db</a>               125564 libdb/sqlite3.c           int oldFlags = db-&gt;flags;</span>
<span class='curline'><a href='../S/185.html#L125566'>db</a>               125566 libdb/sqlite3.c             db-&gt;flags |= aFlagOp[i].mask;</span>
<span class='curline'><a href='../S/185.html#L125568'>db</a>               125568 libdb/sqlite3.c             db-&gt;flags &amp;= ~aFlagOp[i].mask;</span>
<span class='curline'><a href='../S/185.html#L125570'>db</a>               125570 libdb/sqlite3.c           if( oldFlags!=db-&gt;flags ){</span>
<span class='curline'><a href='../S/185.html#L125571'>db</a>               125571 libdb/sqlite3.c             sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L125574'>db</a>               125574 libdb/sqlite3.c             *pRes = (db-&gt;flags &amp; aFlagOp[i].mask)!=0;</span>
<span class='curline'><a href='../S/185.html#L125650'>db</a>               125650 libdb/sqlite3.c SQLITE_API sqlite_int64 sqlite3_last_insert_rowid(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125651'>db</a>               125651 libdb/sqlite3.c   return db-&gt;lastRowid;</span>
<span class='curline'><a href='../S/185.html#L125657'>db</a>               125657 libdb/sqlite3.c SQLITE_API int sqlite3_changes(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125658'>db</a>               125658 libdb/sqlite3.c   return db-&gt;nChange;</span>
<span class='curline'><a href='../S/185.html#L125664'>db</a>               125664 libdb/sqlite3.c SQLITE_API int sqlite3_total_changes(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125665'>db</a>               125665 libdb/sqlite3.c   return db-&gt;nTotalChange;</span>
<span class='curline'><a href='../S/185.html#L125673'>db</a>               125673 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3CloseSavepoints(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125674'>db</a>               125674 libdb/sqlite3.c   while( db-&gt;pSavepoint ){</span>
<span class='curline'><a href='../S/185.html#L125675'>db</a>               125675 libdb/sqlite3.c     Savepoint *pTmp = db-&gt;pSavepoint;</span>
<span class='curline'><a href='../S/185.html#L125676'>db</a>               125676 libdb/sqlite3.c     db-&gt;pSavepoint = pTmp-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L125677'>db</a>               125677 libdb/sqlite3.c     sqlite3DbFree(db, pTmp);</span>
<span class='curline'><a href='../S/185.html#L125679'>db</a>               125679 libdb/sqlite3.c   db-&gt;nSavepoint = 0;</span>
<span class='curline'><a href='../S/185.html#L125680'>db</a>               125680 libdb/sqlite3.c   db-&gt;nStatement = 0;</span>
<span class='curline'><a href='../S/185.html#L125681'>db</a>               125681 libdb/sqlite3.c   db-&gt;isTransactionSavepoint = 0;</span>
<span class='curline'><a href='../S/185.html#L125690'>db</a>               125690 libdb/sqlite3.c static void functionDestroy(sqlite3 *db, FuncDef *p){</span>
<span class='curline'><a href='../S/185.html#L125696'>db</a>               125696 libdb/sqlite3.c       sqlite3DbFree(db, pDestructor);</span>
<span class='curline'><a href='../S/185.html#L125705'>db</a>               125705 libdb/sqlite3.c static void disconnectAllVtab(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125708'>db</a>               125708 libdb/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L125709'>db</a>               125709 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L125710'>db</a>               125710 libdb/sqlite3.c     Schema *pSchema = db-&gt;aDb[i].pSchema;</span>
<span class='curline'><a href='../S/185.html#L125711'>db</a>               125711 libdb/sqlite3.c     if( db-&gt;aDb[i].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L125715'>db</a>               125715 libdb/sqlite3.c         if( IsVirtual(pTab) ) sqlite3VtabDisconnect(db, pTab);</span>
<span class='curline'><a href='../S/185.html#L125719'>db</a>               125719 libdb/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/185.html#L125720'>db</a>               125720 libdb/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L125722'>db</a>               125722 libdb/sqlite3.c   UNUSED_PARAMETER(db);</span>
<span class='curline'><a href='../S/185.html#L125730'>db</a>               125730 libdb/sqlite3.c static int connectionIsBusy(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125732'>db</a>               125732 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L125733'>db</a>               125733 libdb/sqlite3.c   if( db-&gt;pVdbe ) return 1;</span>
<span class='curline'><a href='../S/185.html#L125734'>db</a>               125734 libdb/sqlite3.c   for(j=0; j&lt;db-&gt;nDb; j++){</span>
<span class='curline'><a href='../S/185.html#L125735'>db</a>               125735 libdb/sqlite3.c     Btree *pBt = db-&gt;aDb[j].pBt;</span>
<span class='curline'><a href='../S/185.html#L125744'>db</a>               125744 libdb/sqlite3.c static int sqlite3Close(sqlite3 *db, int forceZombie){</span>
<span class='curline'><a href='../S/185.html#L125745'>db</a>               125745 libdb/sqlite3.c   if( !db ){</span>
<span class='curline'><a href='../S/185.html#L125750'>db</a>               125750 libdb/sqlite3.c   if( !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L125753'>db</a>               125753 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125756'>db</a>               125756 libdb/sqlite3.c   disconnectAllVtab(db);</span>
<span class='curline'><a href='../S/185.html#L125765'>db</a>               125765 libdb/sqlite3.c   sqlite3VtabRollback(db);</span>
<span class='curline'><a href='../S/185.html#L125770'>db</a>               125770 libdb/sqlite3.c   if( !forceZombie &amp;&amp; connectionIsBusy(db) ){</span>
<span class='curline'><a href='../S/185.html#L125771'>db</a>               125771 libdb/sqlite3.c     sqlite3ErrorWithMsg(db, SQLITE_BUSY, "unable to close due to unfinalized "</span>
<span class='curline'><a href='../S/185.html#L125773'>db</a>               125773 libdb/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125780'>db</a>               125780 libdb/sqlite3.c     sqlite3GlobalConfig.xSqllog(sqlite3GlobalConfig.pSqllogArg, db, 0, 2);</span>
<span class='curline'><a href='../S/185.html#L125786'>db</a>               125786 libdb/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_ZOMBIE;</span>
<span class='curline'><a href='../S/185.html#L125787'>db</a>               125787 libdb/sqlite3.c   sqlite3LeaveMutexAndCloseZombie(db);</span>
<span class='curline'><a href='../S/185.html#L125800'>db</a>               125800 libdb/sqlite3.c SQLITE_API int sqlite3_close(sqlite3 *db){ return sqlite3Close(db,0); }</span>
<span class='curline'><a href='../S/185.html#L125801'>db</a>               125801 libdb/sqlite3.c SQLITE_API int sqlite3_close_v2(sqlite3 *db){ return sqlite3Close(db,1); }</span>
<span class='curline'><a href='../S/185.html#L125812'>db</a>               125812 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3LeaveMutexAndCloseZombie(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L125820'>db</a>               125820 libdb/sqlite3.c   if( db-&gt;magic!=SQLITE_MAGIC_ZOMBIE || connectionIsBusy(db) ){</span>
<span class='curline'><a href='../S/185.html#L125821'>db</a>               125821 libdb/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125835'>db</a>               125835 libdb/sqlite3.c   sqlite3RollbackAll(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L125838'>db</a>               125838 libdb/sqlite3.c   sqlite3CloseSavepoints(db);</span>
<span class='curline'><a href='../S/185.html#L125841'>db</a>               125841 libdb/sqlite3.c   for(j=0; j&lt;db-&gt;nDb; j++){</span>
<span class='curline'><a href='../S/185.html#L125842'>db</a>               125842 libdb/sqlite3.c     struct Db *pDb = &amp;db-&gt;aDb[j];</span>
<span class='curline'><a href='../S/185.html#L125852'>db</a>               125852 libdb/sqlite3.c   if( db-&gt;aDb[1].pSchema ){</span>
<span class='curline'><a href='../S/185.html#L125853'>db</a>               125853 libdb/sqlite3.c     sqlite3SchemaClear(db-&gt;aDb[1].pSchema);</span>
<span class='curline'><a href='../S/185.html#L125855'>db</a>               125855 libdb/sqlite3.c   sqlite3VtabUnlockList(db);</span>
<span class='curline'><a href='../S/185.html#L125858'>db</a>               125858 libdb/sqlite3.c   sqlite3CollapseDatabaseArray(db);</span>
<span class='curline'><a href='../S/185.html#L125859'>db</a>               125859 libdb/sqlite3.c   assert( db-&gt;nDb&lt;=2 );</span>
<span class='curline'><a href='../S/185.html#L125860'>db</a>               125860 libdb/sqlite3.c   assert( db-&gt;aDb==db-&gt;aDbStatic );</span>
<span class='curline'><a href='../S/185.html#L125865'>db</a>               125865 libdb/sqlite3.c   sqlite3ConnectionClosed(db);</span>
<span class='curline'><a href='../S/185.html#L125867'>db</a>               125867 libdb/sqlite3.c   for(j=0; j&lt;ArraySize(db-&gt;aFunc.a); j++){</span>
<span class='curline'><a href='../S/185.html#L125869'>db</a>               125869 libdb/sqlite3.c     for(p=db-&gt;aFunc.a[j]; p; p=pHash){</span>
<span class='curline'><a href='../S/185.html#L125872'>db</a>               125872 libdb/sqlite3.c         functionDestroy(db, p);</span>
<span class='curline'><a href='../S/185.html#L125874'>db</a>               125874 libdb/sqlite3.c         sqlite3DbFree(db, p);</span>
<span class='curline'><a href='../S/185.html#L125879'>db</a>               125879 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aCollSeq); i; i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L125887'>db</a>               125887 libdb/sqlite3.c     sqlite3DbFree(db, pColl);</span>
<span class='curline'><a href='../S/185.html#L125889'>db</a>               125889 libdb/sqlite3.c   sqlite3HashClear(&amp;db-&gt;aCollSeq);</span>
<span class='curline'><a href='../S/185.html#L125891'>db</a>               125891 libdb/sqlite3.c   for(i=sqliteHashFirst(&amp;db-&gt;aModule); i; i=sqliteHashNext(i)){</span>
<span class='curline'><a href='../S/185.html#L125896'>db</a>               125896 libdb/sqlite3.c     sqlite3DbFree(db, pMod);</span>
<span class='curline'><a href='../S/185.html#L125898'>db</a>               125898 libdb/sqlite3.c   sqlite3HashClear(&amp;db-&gt;aModule);</span>
<span class='curline'><a href='../S/185.html#L125901'>db</a>               125901 libdb/sqlite3.c   sqlite3Error(db, SQLITE_OK); /* Deallocates any cached error strings. */</span>
<span class='curline'><a href='../S/185.html#L125902'>db</a>               125902 libdb/sqlite3.c   sqlite3ValueFree(db-&gt;pErr);</span>
<span class='curline'><a href='../S/185.html#L125903'>db</a>               125903 libdb/sqlite3.c   sqlite3CloseExtensions(db);</span>
<span class='curline'><a href='../S/185.html#L125905'>db</a>               125905 libdb/sqlite3.c   sqlite3_free(db-&gt;auth.zAuthUser);</span>
<span class='curline'><a href='../S/185.html#L125906'>db</a>               125906 libdb/sqlite3.c   sqlite3_free(db-&gt;auth.zAuthPW);</span>
<span class='curline'><a href='../S/185.html#L125909'>db</a>               125909 libdb/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_ERROR;</span>
<span class='curline'><a href='../S/185.html#L125917'>db</a>               125917 libdb/sqlite3.c   sqlite3DbFree(db, db-&gt;aDb[1].pSchema);</span>
<span class='curline'><a href='../S/185.html#L125918'>db</a>               125918 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125919'>db</a>               125919 libdb/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_CLOSED;</span>
<span class='curline'><a href='../S/185.html#L125920'>db</a>               125920 libdb/sqlite3.c   sqlite3_mutex_free(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L125921'>db</a>               125921 libdb/sqlite3.c   assert( db-&gt;lookaside.nOut==0 );  /* Fails on a lookaside memory leak */</span>
<span class='curline'><a href='../S/185.html#L125922'>db</a>               125922 libdb/sqlite3.c   if( db-&gt;lookaside.bMalloced ){</span>
<span class='curline'><a href='../S/185.html#L125923'>db</a>               125923 libdb/sqlite3.c     sqlite3_free(db-&gt;lookaside.pStart);</span>
<span class='curline'><a href='../S/185.html#L125925'>db</a>               125925 libdb/sqlite3.c   sqlite3_free(db);</span>
<span class='curline'><a href='../S/185.html#L125934'>db</a>               125934 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3RollbackAll(sqlite3 *db, int tripCode){</span>
<span class='curline'><a href='../S/185.html#L125937'>db</a>               125937 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L125946'>db</a>               125946 libdb/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L125948'>db</a>               125948 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L125949'>db</a>               125949 libdb/sqlite3.c     Btree *p = db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L125957'>db</a>               125957 libdb/sqlite3.c   sqlite3VtabRollback(db);</span>
<span class='curline'><a href='../S/185.html#L125960'>db</a>               125960 libdb/sqlite3.c   if( (db-&gt;flags&amp;SQLITE_InternChanges)!=0 &amp;&amp; db-&gt;init.busy==0 ){</span>
<span class='curline'><a href='../S/185.html#L125961'>db</a>               125961 libdb/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L125962'>db</a>               125962 libdb/sqlite3.c     sqlite3ResetAllSchemasOfConnection(db);</span>
<span class='curline'><a href='../S/185.html#L125964'>db</a>               125964 libdb/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L125967'>db</a>               125967 libdb/sqlite3.c   db-&gt;nDeferredCons = 0;</span>
<span class='curline'><a href='../S/185.html#L125968'>db</a>               125968 libdb/sqlite3.c   db-&gt;nDeferredImmCons = 0;</span>
<span class='curline'><a href='../S/185.html#L125969'>db</a>               125969 libdb/sqlite3.c   db-&gt;flags &amp;= ~SQLITE_DeferFKs;</span>
<span class='curline'><a href='../S/185.html#L125972'>db</a>               125972 libdb/sqlite3.c   if( db-&gt;xRollbackCallback &amp;&amp; (inTrans || !db-&gt;autoCommit) ){</span>
<span class='curline'><a href='../S/185.html#L125973'>db</a>               125973 libdb/sqlite3.c     db-&gt;xRollbackCallback(db-&gt;pRollbackArg);</span>
<span class='curline'><a href='../S/185.html#L126153'>db</a>               126153 libdb/sqlite3.c   sqlite3 *db = (sqlite3 *)ptr;</span>
<span class='curline'><a href='../S/185.html#L126154'>db</a>               126154 libdb/sqlite3.c   int timeout = db-&gt;busyTimeout;</span>
<span class='curline'><a href='../S/185.html#L126169'>db</a>               126169 libdb/sqlite3.c   sqlite3OsSleep(db-&gt;pVfs, delay*1000);</span>
<span class='curline'><a href='../S/185.html#L126172'>db</a>               126172 libdb/sqlite3.c   sqlite3 *db = (sqlite3 *)ptr;</span>
<span class='curline'><a href='../S/185.html#L126177'>db</a>               126177 libdb/sqlite3.c   sqlite3OsSleep(db-&gt;pVfs, 1000000);</span>
<span class='curline'><a href='../S/185.html#L126206'>db</a>               126206 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126210'>db</a>               126210 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126211'>db</a>               126211 libdb/sqlite3.c   db-&gt;busyHandler.xFunc = xBusy;</span>
<span class='curline'><a href='../S/185.html#L126212'>db</a>               126212 libdb/sqlite3.c   db-&gt;busyHandler.pArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126213'>db</a>               126213 libdb/sqlite3.c   db-&gt;busyHandler.nBusy = 0;</span>
<span class='curline'><a href='../S/185.html#L126214'>db</a>               126214 libdb/sqlite3.c   db-&gt;busyTimeout = 0;</span>
<span class='curline'><a href='../S/185.html#L126215'>db</a>               126215 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126226'>db</a>               126226 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L126231'>db</a>               126231 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126233'>db</a>               126233 libdb/sqlite3.c     db-&gt;xProgress = xProgress;</span>
<span class='curline'><a href='../S/185.html#L126234'>db</a>               126234 libdb/sqlite3.c     db-&gt;nProgressOps = (unsigned)nOps;</span>
<span class='curline'><a href='../S/185.html#L126235'>db</a>               126235 libdb/sqlite3.c     db-&gt;pProgressArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126237'>db</a>               126237 libdb/sqlite3.c     db-&gt;xProgress = 0;</span>
<span class='curline'><a href='../S/185.html#L126238'>db</a>               126238 libdb/sqlite3.c     db-&gt;nProgressOps = 0;</span>
<span class='curline'><a href='../S/185.html#L126239'>db</a>               126239 libdb/sqlite3.c     db-&gt;pProgressArg = 0;</span>
<span class='curline'><a href='../S/185.html#L126241'>db</a>               126241 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126250'>db</a>               126250 libdb/sqlite3.c SQLITE_API int sqlite3_busy_timeout(sqlite3 *db, int ms){</span>
<span class='curline'><a href='../S/185.html#L126252'>db</a>               126252 libdb/sqlite3.c     sqlite3_busy_handler(db, sqliteDefaultBusyCallback, (void*)db);</span>
<span class='curline'><a href='../S/185.html#L126253'>db</a>               126253 libdb/sqlite3.c     db-&gt;busyTimeout = ms;</span>
<span class='curline'><a href='../S/185.html#L126255'>db</a>               126255 libdb/sqlite3.c     sqlite3_busy_handler(db, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L126263'>db</a>               126263 libdb/sqlite3.c SQLITE_API void sqlite3_interrupt(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126264'>db</a>               126264 libdb/sqlite3.c   db-&gt;u1.isInterrupted = 1;</span>
<span class='curline'><a href='../S/185.html#L126275'>db</a>               126275 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126289'>db</a>               126289 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L126315'>db</a>               126315 libdb/sqlite3.c     rc = sqlite3CreateFunc(db, zFunctionName, nArg, SQLITE_UTF8|extraFlags,</span>
<span class='curline'><a href='../S/185.html#L126318'>db</a>               126318 libdb/sqlite3.c       rc = sqlite3CreateFunc(db, zFunctionName, nArg, SQLITE_UTF16LE|extraFlags,</span>
<span class='curline'><a href='../S/185.html#L126335'>db</a>               126335 libdb/sqlite3.c   p = sqlite3FindFunction(db, zFunctionName, nName, nArg, (u8)enc, 0);</span>
<span class='curline'><a href='../S/185.html#L126337'>db</a>               126337 libdb/sqlite3.c     if( db-&gt;nVdbeActive ){</span>
<span class='curline'><a href='../S/185.html#L126338'>db</a>               126338 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_BUSY, </span>
<span class='curline'><a href='../S/185.html#L126340'>db</a>               126340 libdb/sqlite3.c       assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L126343'>db</a>               126343 libdb/sqlite3.c       sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L126347'>db</a>               126347 libdb/sqlite3.c   p = sqlite3FindFunction(db, zFunctionName, nName, nArg, (u8)enc, 1);</span>
<span class='curline'><a href='../S/185.html#L126348'>db</a>               126348 libdb/sqlite3.c   assert(p || db-&gt;mallocFailed);</span>
<span class='curline'><a href='../S/185.html#L126355'>db</a>               126355 libdb/sqlite3.c   functionDestroy(db, p);</span>
<span class='curline'><a href='../S/185.html#L126375'>db</a>               126375 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126384'>db</a>               126384 libdb/sqlite3.c   return sqlite3_create_function_v2(db, zFunc, nArg, enc, p, xFunc, xStep,</span>
<span class='curline'><a href='../S/185.html#L126389'>db</a>               126389 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126401'>db</a>               126401 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126403'>db</a>               126403 libdb/sqlite3.c     pArg = (FuncDestructor *)sqlite3DbMallocZero(db, sizeof(FuncDestructor));</span>
<span class='curline'><a href='../S/185.html#L126411'>db</a>               126411 libdb/sqlite3.c   rc = sqlite3CreateFunc(db, zFunc, nArg, enc, p, xFunc, xStep, xFinal, pArg);</span>
<span class='curline'><a href='../S/185.html#L126415'>db</a>               126415 libdb/sqlite3.c     sqlite3DbFree(db, pArg);</span>
<span class='curline'><a href='../S/185.html#L126419'>db</a>               126419 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L126420'>db</a>               126420 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126426'>db</a>               126426 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126437'>db</a>               126437 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126438'>db</a>               126438 libdb/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L126439'>db</a>               126439 libdb/sqlite3.c   zFunc8 = sqlite3Utf16to8(db, zFunctionName, -1, SQLITE_UTF16NATIVE);</span>
<span class='curline'><a href='../S/185.html#L126440'>db</a>               126440 libdb/sqlite3.c   rc = sqlite3CreateFunc(db, zFunc8, nArg, eTextRep, p, xFunc, xStep, xFinal,0);</span>
<span class='curline'><a href='../S/185.html#L126441'>db</a>               126441 libdb/sqlite3.c   sqlite3DbFree(db, zFunc8);</span>
<span class='curline'><a href='../S/185.html#L126442'>db</a>               126442 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L126443'>db</a>               126443 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126462'>db</a>               126462 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126468'>db</a>               126468 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126469'>db</a>               126469 libdb/sqlite3.c   if( sqlite3FindFunction(db, zName, nName, nArg, SQLITE_UTF8, 0)==0 ){</span>
<span class='curline'><a href='../S/185.html#L126470'>db</a>               126470 libdb/sqlite3.c     rc = sqlite3CreateFunc(db, zName, nArg, SQLITE_UTF8,</span>
<span class='curline'><a href='../S/185.html#L126473'>db</a>               126473 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L126474'>db</a>               126474 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126487'>db</a>               126487 libdb/sqlite3.c SQLITE_API void *sqlite3_trace(sqlite3 *db, void (*xTrace)(void*,const char*), void *pArg){</span>
<span class='curline'><a href='../S/185.html#L126489'>db</a>               126489 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126490'>db</a>               126490 libdb/sqlite3.c   pOld = db-&gt;pTraceArg;</span>
<span class='curline'><a href='../S/185.html#L126491'>db</a>               126491 libdb/sqlite3.c   db-&gt;xTrace = xTrace;</span>
<span class='curline'><a href='../S/185.html#L126492'>db</a>               126492 libdb/sqlite3.c   db-&gt;pTraceArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126493'>db</a>               126493 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126505'>db</a>               126505 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L126510'>db</a>               126510 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126511'>db</a>               126511 libdb/sqlite3.c   pOld = db-&gt;pProfileArg;</span>
<span class='curline'><a href='../S/185.html#L126512'>db</a>               126512 libdb/sqlite3.c   db-&gt;xProfile = xProfile;</span>
<span class='curline'><a href='../S/185.html#L126513'>db</a>               126513 libdb/sqlite3.c   db-&gt;pProfileArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126514'>db</a>               126514 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126525'>db</a>               126525 libdb/sqlite3.c   sqlite3 *db,              /* Attach the hook to this database */</span>
<span class='curline'><a href='../S/185.html#L126530'>db</a>               126530 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126531'>db</a>               126531 libdb/sqlite3.c   pOld = db-&gt;pCommitArg;</span>
<span class='curline'><a href='../S/185.html#L126532'>db</a>               126532 libdb/sqlite3.c   db-&gt;xCommitCallback = xCallback;</span>
<span class='curline'><a href='../S/185.html#L126533'>db</a>               126533 libdb/sqlite3.c   db-&gt;pCommitArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126534'>db</a>               126534 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126543'>db</a>               126543 libdb/sqlite3.c   sqlite3 *db,              /* Attach the hook to this database */</span>
<span class='curline'><a href='../S/185.html#L126548'>db</a>               126548 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126549'>db</a>               126549 libdb/sqlite3.c   pRet = db-&gt;pUpdateArg;</span>
<span class='curline'><a href='../S/185.html#L126550'>db</a>               126550 libdb/sqlite3.c   db-&gt;xUpdateCallback = xCallback;</span>
<span class='curline'><a href='../S/185.html#L126551'>db</a>               126551 libdb/sqlite3.c   db-&gt;pUpdateArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126552'>db</a>               126552 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126561'>db</a>               126561 libdb/sqlite3.c   sqlite3 *db,              /* Attach the hook to this database */</span>
<span class='curline'><a href='../S/185.html#L126566'>db</a>               126566 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126567'>db</a>               126567 libdb/sqlite3.c   pRet = db-&gt;pRollbackArg;</span>
<span class='curline'><a href='../S/185.html#L126568'>db</a>               126568 libdb/sqlite3.c   db-&gt;xRollbackCallback = xCallback;</span>
<span class='curline'><a href='../S/185.html#L126569'>db</a>               126569 libdb/sqlite3.c   db-&gt;pRollbackArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126570'>db</a>               126570 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126583'>db</a>               126583 libdb/sqlite3.c   sqlite3 *db,           /* Connection */</span>
<span class='curline'><a href='../S/185.html#L126589'>db</a>               126589 libdb/sqlite3.c     sqlite3_wal_checkpoint(db, zDb);</span>
<span class='curline'><a href='../S/185.html#L126607'>db</a>               126607 libdb/sqlite3.c SQLITE_API int sqlite3_wal_autocheckpoint(sqlite3 *db, int nFrame){</span>
<span class='curline'><a href='../S/185.html#L126609'>db</a>               126609 libdb/sqlite3.c   UNUSED_PARAMETER(db);</span>
<span class='curline'><a href='../S/185.html#L126613'>db</a>               126613 libdb/sqlite3.c     sqlite3_wal_hook(db, sqlite3WalDefaultHook, SQLITE_INT_TO_PTR(nFrame));</span>
<span class='curline'><a href='../S/185.html#L126615'>db</a>               126615 libdb/sqlite3.c     sqlite3_wal_hook(db, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L126626'>db</a>               126626 libdb/sqlite3.c   sqlite3 *db,                    /* Attach the hook to this db handle */</span>
<span class='curline'><a href='../S/185.html#L126632'>db</a>               126632 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126633'>db</a>               126633 libdb/sqlite3.c   pRet = db-&gt;pWalArg;</span>
<span class='curline'><a href='../S/185.html#L126634'>db</a>               126634 libdb/sqlite3.c   db-&gt;xWalCallback = xCallback;</span>
<span class='curline'><a href='../S/185.html#L126635'>db</a>               126635 libdb/sqlite3.c   db-&gt;pWalArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L126636'>db</a>               126636 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126647'>db</a>               126647 libdb/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L126670'>db</a>               126670 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126672'>db</a>               126672 libdb/sqlite3.c     iDb = sqlite3FindDbName(db, zDb);</span>
<span class='curline'><a href='../S/185.html#L126676'>db</a>               126676 libdb/sqlite3.c     sqlite3ErrorWithMsg(db, SQLITE_ERROR, "unknown database: %s", zDb);</span>
<span class='curline'><a href='../S/185.html#L126678'>db</a>               126678 libdb/sqlite3.c     rc = sqlite3Checkpoint(db, iDb, eMode, pnLog, pnCkpt);</span>
<span class='curline'><a href='../S/185.html#L126679'>db</a>               126679 libdb/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/185.html#L126681'>db</a>               126681 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L126682'>db</a>               126682 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126693'>db</a>               126693 libdb/sqlite3.c SQLITE_API int sqlite3_wal_checkpoint(sqlite3 *db, const char *zDb){</span>
<span class='curline'><a href='../S/185.html#L126694'>db</a>               126694 libdb/sqlite3.c   return sqlite3_wal_checkpoint_v2(db, zDb, SQLITE_CHECKPOINT_PASSIVE, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L126717'>db</a>               126717 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Checkpoint(sqlite3 *db, int iDb, int eMode, int *pnLog, int *pnCkpt){</span>
<span class='curline'><a href='../S/185.html#L126722'>db</a>               126722 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L126726'>db</a>               126726 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb &amp;&amp; rc==SQLITE_OK; i++){</span>
<span class='curline'><a href='../S/185.html#L126728'>db</a>               126728 libdb/sqlite3.c       rc = sqlite3BtreeCheckpoint(db-&gt;aDb[i].pBt, eMode, pnLog, pnCkpt);</span>
<span class='curline'><a href='../S/185.html#L126761'>db</a>               126761 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3TempInMemory(const sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126763'>db</a>               126763 libdb/sqlite3.c   return ( db-&gt;temp_store==2 );</span>
<span class='curline'><a href='../S/185.html#L126766'>db</a>               126766 libdb/sqlite3.c   return ( db-&gt;temp_store!=1 );</span>
<span class='curline'><a href='../S/185.html#L126780'>db</a>               126780 libdb/sqlite3.c SQLITE_API const char *sqlite3_errmsg(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126782'>db</a>               126782 libdb/sqlite3.c   if( !db ){</span>
<span class='curline'><a href='../S/185.html#L126785'>db</a>               126785 libdb/sqlite3.c   if( !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L126788'>db</a>               126788 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126789'>db</a>               126789 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L126792'>db</a>               126792 libdb/sqlite3.c     testcase( db-&gt;pErr==0 );</span>
<span class='curline'><a href='../S/185.html#L126793'>db</a>               126793 libdb/sqlite3.c     z = (char*)sqlite3_value_text(db-&gt;pErr);</span>
<span class='curline'><a href='../S/185.html#L126794'>db</a>               126794 libdb/sqlite3.c     assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L126796'>db</a>               126796 libdb/sqlite3.c       z = sqlite3ErrStr(db-&gt;errCode);</span>
<span class='curline'><a href='../S/185.html#L126799'>db</a>               126799 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126808'>db</a>               126808 libdb/sqlite3.c SQLITE_API const void *sqlite3_errmsg16(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126822'>db</a>               126822 libdb/sqlite3.c   if( !db ){</span>
<span class='curline'><a href='../S/185.html#L126825'>db</a>               126825 libdb/sqlite3.c   if( !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L126828'>db</a>               126828 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126829'>db</a>               126829 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L126832'>db</a>               126832 libdb/sqlite3.c     z = sqlite3_value_text16(db-&gt;pErr);</span>
<span class='curline'><a href='../S/185.html#L126834'>db</a>               126834 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, db-&gt;errCode, sqlite3ErrStr(db-&gt;errCode));</span>
<span class='curline'><a href='../S/185.html#L126835'>db</a>               126835 libdb/sqlite3.c       z = sqlite3_value_text16(db-&gt;pErr);</span>
<span class='curline'><a href='../S/185.html#L126842'>db</a>               126842 libdb/sqlite3.c     db-&gt;mallocFailed = 0;</span>
<span class='curline'><a href='../S/185.html#L126844'>db</a>               126844 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L126853'>db</a>               126853 libdb/sqlite3.c SQLITE_API int sqlite3_errcode(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126854'>db</a>               126854 libdb/sqlite3.c   if( db &amp;&amp; !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L126857'>db</a>               126857 libdb/sqlite3.c   if( !db || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L126860'>db</a>               126860 libdb/sqlite3.c   return db-&gt;errCode &amp; db-&gt;errMask;</span>
<span class='curline'><a href='../S/185.html#L126862'>db</a>               126862 libdb/sqlite3.c SQLITE_API int sqlite3_extended_errcode(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126863'>db</a>               126863 libdb/sqlite3.c   if( db &amp;&amp; !sqlite3SafetyCheckSickOrOk(db) ){</span>
<span class='curline'><a href='../S/185.html#L126866'>db</a>               126866 libdb/sqlite3.c   if( !db || db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L126869'>db</a>               126869 libdb/sqlite3.c   return db-&gt;errCode;</span>
<span class='curline'><a href='../S/185.html#L126884'>db</a>               126884 libdb/sqlite3.c static void invalidateCachedKeyInfo(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L126891'>db</a>               126891 libdb/sqlite3.c   for(iDb=0, pDb=db-&gt;aDb; iDb&lt;db-&gt;nDb; iDb++, pDb++){</span>
<span class='curline'><a href='../S/185.html#L126897'>db</a>               126897 libdb/sqlite3.c         if( pIdx-&gt;pKeyInfo &amp;&amp; pIdx-&gt;pKeyInfo-&gt;db==db ){</span>
<span class='curline'><a href='../S/185.html#L126912'>db</a>               126912 libdb/sqlite3.c   sqlite3* db,</span>
<span class='curline'><a href='../S/185.html#L126922'>db</a>               126922 libdb/sqlite3.c   assert( sqlite3_mutex_held(db-&gt;mutex) );</span>
<span class='curline'><a href='../S/185.html#L126942'>db</a>               126942 libdb/sqlite3.c   pColl = sqlite3FindCollSeq(db, (u8)enc2, zName, 0);</span>
<span class='curline'><a href='../S/185.html#L126944'>db</a>               126944 libdb/sqlite3.c     if( db-&gt;nVdbeActive ){</span>
<span class='curline'><a href='../S/185.html#L126945'>db</a>               126945 libdb/sqlite3.c       sqlite3ErrorWithMsg(db, SQLITE_BUSY, </span>
<span class='curline'><a href='../S/185.html#L126949'>db</a>               126949 libdb/sqlite3.c     sqlite3ExpirePreparedStatements(db);</span>
<span class='curline'><a href='../S/185.html#L126950'>db</a>               126950 libdb/sqlite3.c     invalidateCachedKeyInfo(db);</span>
<span class='curline'><a href='../S/185.html#L126959'>db</a>               126959 libdb/sqlite3.c       CollSeq *aColl = sqlite3HashFind(&amp;db-&gt;aCollSeq, zName);</span>
<span class='curline'><a href='../S/185.html#L126973'>db</a>               126973 libdb/sqlite3.c   pColl = sqlite3FindCollSeq(db, (u8)enc2, zName, 1);</span>
<span class='curline'><a href='../S/185.html#L126979'>db</a>               126979 libdb/sqlite3.c   sqlite3Error(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L127052'>db</a>               127052 libdb/sqlite3.c SQLITE_API int sqlite3_limit(sqlite3 *db, int limitId, int newLimit){</span>
<span class='curline'><a href='../S/185.html#L127080'>db</a>               127080 libdb/sqlite3.c   oldLimit = db-&gt;aLimit[limitId];</span>
<span class='curline'><a href='../S/185.html#L127085'>db</a>               127085 libdb/sqlite3.c     db-&gt;aLimit[limitId] = newLimit;</span>
<span class='curline'><a href='../S/185.html#L127334'>db</a>               127334 libdb/sqlite3.c   sqlite3 *db;                    /* Store allocated handle here */</span>
<span class='curline'><a href='../S/185.html#L127405'>db</a>               127405 libdb/sqlite3.c   db = sqlite3MallocZero( sizeof(sqlite3) );</span>
<span class='curline'><a href='../S/185.html#L127406'>db</a>               127406 libdb/sqlite3.c   if( db==0 ) goto opendb_out;</span>
<span class='curline'><a href='../S/185.html#L127408'>db</a>               127408 libdb/sqlite3.c     db-&gt;mutex = sqlite3MutexAlloc(SQLITE_MUTEX_RECURSIVE);</span>
<span class='curline'><a href='../S/185.html#L127409'>db</a>               127409 libdb/sqlite3.c     if( db-&gt;mutex==0 ){</span>
<span class='curline'><a href='../S/185.html#L127410'>db</a>               127410 libdb/sqlite3.c       sqlite3_free(db);</span>
<span class='curline'><a href='../S/185.html#L127411'>db</a>               127411 libdb/sqlite3.c       db = 0;</span>
<span class='curline'><a href='../S/185.html#L127415'>db</a>               127415 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127416'>db</a>               127416 libdb/sqlite3.c   db-&gt;errMask = 0xff;</span>
<span class='curline'><a href='../S/185.html#L127417'>db</a>               127417 libdb/sqlite3.c   db-&gt;nDb = 2;</span>
<span class='curline'><a href='../S/185.html#L127418'>db</a>               127418 libdb/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_BUSY;</span>
<span class='curline'><a href='../S/185.html#L127419'>db</a>               127419 libdb/sqlite3.c   db-&gt;aDb = db-&gt;aDbStatic;</span>
<span class='curline'><a href='../S/185.html#L127421'>db</a>               127421 libdb/sqlite3.c   assert( sizeof(db-&gt;aLimit)==sizeof(aHardLimit) );</span>
<span class='curline'><a href='../S/185.html#L127422'>db</a>               127422 libdb/sqlite3.c   memcpy(db-&gt;aLimit, aHardLimit, sizeof(db-&gt;aLimit));</span>
<span class='curline'><a href='../S/185.html#L127423'>db</a>               127423 libdb/sqlite3.c   db-&gt;aLimit[SQLITE_LIMIT_WORKER_THREADS] = SQLITE_DEFAULT_WORKER_THREADS;</span>
<span class='curline'><a href='../S/185.html#L127424'>db</a>               127424 libdb/sqlite3.c   db-&gt;autoCommit = 1;</span>
<span class='curline'><a href='../S/185.html#L127425'>db</a>               127425 libdb/sqlite3.c   db-&gt;nextAutovac = -1;</span>
<span class='curline'><a href='../S/185.html#L127426'>db</a>               127426 libdb/sqlite3.c   db-&gt;szMmap = sqlite3GlobalConfig.szMmap;</span>
<span class='curline'><a href='../S/185.html#L127427'>db</a>               127427 libdb/sqlite3.c   db-&gt;nextPagesize = 0;</span>
<span class='curline'><a href='../S/185.html#L127428'>db</a>               127428 libdb/sqlite3.c   db-&gt;nMaxSorterMmap = 0x7FFFFFFF;</span>
<span class='curline'><a href='../S/185.html#L127429'>db</a>               127429 libdb/sqlite3.c   db-&gt;flags |= SQLITE_ShortColNames | SQLITE_EnableTrigger | SQLITE_CacheSpill</span>
<span class='curline'><a href='../S/185.html#L127446'>db</a>               127446 libdb/sqlite3.c   sqlite3HashInit(&amp;db-&gt;aCollSeq);</span>
<span class='curline'><a href='../S/185.html#L127448'>db</a>               127448 libdb/sqlite3.c   sqlite3HashInit(&amp;db-&gt;aModule);</span>
<span class='curline'><a href='../S/185.html#L127455'>db</a>               127455 libdb/sqlite3.c   createCollation(db, "BINARY", SQLITE_UTF8, 0, binCollFunc, 0);</span>
<span class='curline'><a href='../S/185.html#L127456'>db</a>               127456 libdb/sqlite3.c   createCollation(db, "BINARY", SQLITE_UTF16BE, 0, binCollFunc, 0);</span>
<span class='curline'><a href='../S/185.html#L127457'>db</a>               127457 libdb/sqlite3.c   createCollation(db, "BINARY", SQLITE_UTF16LE, 0, binCollFunc, 0);</span>
<span class='curline'><a href='../S/185.html#L127458'>db</a>               127458 libdb/sqlite3.c   createCollation(db, "RTRIM", SQLITE_UTF8, (void*)1, binCollFunc, 0);</span>
<span class='curline'><a href='../S/185.html#L127459'>db</a>               127459 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L127462'>db</a>               127462 libdb/sqlite3.c   db-&gt;pDfltColl = sqlite3FindCollSeq(db, SQLITE_UTF8, "BINARY", 0);</span>
<span class='curline'><a href='../S/185.html#L127463'>db</a>               127463 libdb/sqlite3.c   assert( db-&gt;pDfltColl!=0 );</span>
<span class='curline'><a href='../S/185.html#L127466'>db</a>               127466 libdb/sqlite3.c   createCollation(db, "NOCASE", SQLITE_UTF8, 0, nocaseCollatingFunc, 0);</span>
<span class='curline'><a href='../S/185.html#L127469'>db</a>               127469 libdb/sqlite3.c   db-&gt;openFlags = flags;</span>
<span class='curline'><a href='../S/185.html#L127470'>db</a>               127470 libdb/sqlite3.c   rc = sqlite3ParseUri(zVfs, zFilename, &amp;flags, &amp;db-&gt;pVfs, &amp;zOpen, &amp;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L127472'>db</a>               127472 libdb/sqlite3.c     if( rc==SQLITE_NOMEM ) db-&gt;mallocFailed = 1;</span>
<span class='curline'><a href='../S/185.html#L127473'>db</a>               127473 libdb/sqlite3.c     sqlite3ErrorWithMsg(db, rc, zErrMsg ? "%s" : 0, zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L127479'>db</a>               127479 libdb/sqlite3.c   rc = sqlite3BtreeOpen(db-&gt;pVfs, zOpen, db, &amp;db-&gt;aDb[0].pBt, 0,</span>
<span class='curline'><a href='../S/185.html#L127485'>db</a>               127485 libdb/sqlite3.c     sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/185.html#L127488'>db</a>               127488 libdb/sqlite3.c   db-&gt;aDb[0].pSchema = sqlite3SchemaGet(db, db-&gt;aDb[0].pBt);</span>
<span class='curline'><a href='../S/185.html#L127489'>db</a>               127489 libdb/sqlite3.c   db-&gt;aDb[1].pSchema = sqlite3SchemaGet(db, 0);</span>
<span class='curline'><a href='../S/185.html#L127494'>db</a>               127494 libdb/sqlite3.c   db-&gt;aDb[0].zName = "main";</span>
<span class='curline'><a href='../S/185.html#L127495'>db</a>               127495 libdb/sqlite3.c   db-&gt;aDb[0].safety_level = 3;</span>
<span class='curline'><a href='../S/185.html#L127496'>db</a>               127496 libdb/sqlite3.c   db-&gt;aDb[1].zName = "temp";</span>
<span class='curline'><a href='../S/185.html#L127497'>db</a>               127497 libdb/sqlite3.c   db-&gt;aDb[1].safety_level = 1;</span>
<span class='curline'><a href='../S/185.html#L127499'>db</a>               127499 libdb/sqlite3.c   db-&gt;magic = SQLITE_MAGIC_OPEN;</span>
<span class='curline'><a href='../S/185.html#L127500'>db</a>               127500 libdb/sqlite3.c   if( db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L127508'>db</a>               127508 libdb/sqlite3.c   sqlite3Error(db, SQLITE_OK);</span>
<span class='curline'><a href='../S/185.html#L127509'>db</a>               127509 libdb/sqlite3.c   sqlite3RegisterBuiltinFunctions(db);</span>
<span class='curline'><a href='../S/185.html#L127514'>db</a>               127514 libdb/sqlite3.c   rc = sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/185.html#L127516'>db</a>               127516 libdb/sqlite3.c     sqlite3AutoLoadExtensions(db);</span>
<span class='curline'><a href='../S/185.html#L127517'>db</a>               127517 libdb/sqlite3.c     rc = sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/185.html#L127524'>db</a>               127524 libdb/sqlite3.c   if( !db-&gt;mallocFailed ){</span>
<span class='curline'><a href='../S/185.html#L127526'>db</a>               127526 libdb/sqlite3.c     rc = sqlite3Fts1Init(db);</span>
<span class='curline'><a href='../S/185.html#L127531'>db</a>               127531 libdb/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/185.html#L127533'>db</a>               127533 libdb/sqlite3.c     rc = sqlite3Fts2Init(db);</span>
<span class='curline'><a href='../S/185.html#L127538'>db</a>               127538 libdb/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/185.html#L127539'>db</a>               127539 libdb/sqlite3.c     rc = sqlite3Fts3Init(db);</span>
<span class='curline'><a href='../S/185.html#L127544'>db</a>               127544 libdb/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK ){</span>
<span class='curline'><a href='../S/185.html#L127545'>db</a>               127545 libdb/sqlite3.c     rc = sqlite3IcuInit(db);</span>
<span class='curline'><a href='../S/185.html#L127550'>db</a>               127550 libdb/sqlite3.c   if( !db-&gt;mallocFailed &amp;&amp; rc==SQLITE_OK){</span>
<span class='curline'><a href='../S/185.html#L127551'>db</a>               127551 libdb/sqlite3.c     rc = sqlite3RtreeInit(db);</span>
<span class='curline'><a href='../S/185.html#L127560'>db</a>               127560 libdb/sqlite3.c   db-&gt;dfltLockMode = SQLITE_DEFAULT_LOCKING_MODE;</span>
<span class='curline'><a href='../S/185.html#L127561'>db</a>               127561 libdb/sqlite3.c   sqlite3PagerLockingMode(sqlite3BtreePager(db-&gt;aDb[0].pBt),</span>
<span class='curline'><a href='../S/185.html#L127565'>db</a>               127565 libdb/sqlite3.c   if( rc ) sqlite3Error(db, rc);</span>
<span class='curline'><a href='../S/185.html#L127568'>db</a>               127568 libdb/sqlite3.c   setupLookaside(db, 0, sqlite3GlobalConfig.szLookaside,</span>
<span class='curline'><a href='../S/185.html#L127571'>db</a>               127571 libdb/sqlite3.c   sqlite3_wal_autocheckpoint(db, SQLITE_DEFAULT_WAL_AUTOCHECKPOINT);</span>
<span class='curline'><a href='../S/185.html#L127575'>db</a>               127575 libdb/sqlite3.c   if( db ){</span>
<span class='curline'><a href='../S/185.html#L127576'>db</a>               127576 libdb/sqlite3.c     assert( db-&gt;mutex!=0 || isThreadsafe==0 || sqlite3GlobalConfig.bFullMutex==0 );</span>
<span class='curline'><a href='../S/185.html#L127577'>db</a>               127577 libdb/sqlite3.c     sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127579'>db</a>               127579 libdb/sqlite3.c   rc = sqlite3_errcode(db);</span>
<span class='curline'><a href='../S/185.html#L127580'>db</a>               127580 libdb/sqlite3.c   assert( db!=0 || rc==SQLITE_NOMEM );</span>
<span class='curline'><a href='../S/185.html#L127582'>db</a>               127582 libdb/sqlite3.c     sqlite3_close(db);</span>
<span class='curline'><a href='../S/185.html#L127583'>db</a>               127583 libdb/sqlite3.c     db = 0;</span>
<span class='curline'><a href='../S/185.html#L127585'>db</a>               127585 libdb/sqlite3.c     db-&gt;magic = SQLITE_MAGIC_SICK;</span>
<span class='curline'><a href='../S/185.html#L127587'>db</a>               127587 libdb/sqlite3.c   *ppDb = db;</span>
<span class='curline'><a href='../S/185.html#L127592'>db</a>               127592 libdb/sqlite3.c     sqlite3GlobalConfig.xSqllog(pArg, db, zFilename, 0);</span>
<span class='curline'><a href='../S/185.html#L127659'>db</a>               127659 libdb/sqlite3.c   sqlite3* db, </span>
<span class='curline'><a href='../S/185.html#L127666'>db</a>               127666 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127667'>db</a>               127667 libdb/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L127668'>db</a>               127668 libdb/sqlite3.c   rc = createCollation(db, zName, (u8)enc, pCtx, xCompare, 0);</span>
<span class='curline'><a href='../S/185.html#L127669'>db</a>               127669 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L127670'>db</a>               127670 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127678'>db</a>               127678 libdb/sqlite3.c   sqlite3* db, </span>
<span class='curline'><a href='../S/185.html#L127686'>db</a>               127686 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127687'>db</a>               127687 libdb/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L127688'>db</a>               127688 libdb/sqlite3.c   rc = createCollation(db, zName, (u8)enc, pCtx, xCompare, xDel);</span>
<span class='curline'><a href='../S/185.html#L127689'>db</a>               127689 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L127690'>db</a>               127690 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127699'>db</a>               127699 libdb/sqlite3.c   sqlite3* db, </span>
<span class='curline'><a href='../S/185.html#L127707'>db</a>               127707 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127708'>db</a>               127708 libdb/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L127709'>db</a>               127709 libdb/sqlite3.c   zName8 = sqlite3Utf16to8(db, zName, -1, SQLITE_UTF16NATIVE);</span>
<span class='curline'><a href='../S/185.html#L127711'>db</a>               127711 libdb/sqlite3.c     rc = createCollation(db, zName8, (u8)enc, pCtx, xCompare, 0);</span>
<span class='curline'><a href='../S/185.html#L127712'>db</a>               127712 libdb/sqlite3.c     sqlite3DbFree(db, zName8);</span>
<span class='curline'><a href='../S/185.html#L127714'>db</a>               127714 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L127715'>db</a>               127715 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127725'>db</a>               127725 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L127729'>db</a>               127729 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127730'>db</a>               127730 libdb/sqlite3.c   db-&gt;xCollNeeded = xCollNeeded;</span>
<span class='curline'><a href='../S/185.html#L127731'>db</a>               127731 libdb/sqlite3.c   db-&gt;xCollNeeded16 = 0;</span>
<span class='curline'><a href='../S/185.html#L127732'>db</a>               127732 libdb/sqlite3.c   db-&gt;pCollNeededArg = pCollNeededArg;</span>
<span class='curline'><a href='../S/185.html#L127733'>db</a>               127733 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127743'>db</a>               127743 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L127747'>db</a>               127747 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127748'>db</a>               127748 libdb/sqlite3.c   db-&gt;xCollNeeded = 0;</span>
<span class='curline'><a href='../S/185.html#L127749'>db</a>               127749 libdb/sqlite3.c   db-&gt;xCollNeeded16 = xCollNeeded16;</span>
<span class='curline'><a href='../S/185.html#L127750'>db</a>               127750 libdb/sqlite3.c   db-&gt;pCollNeededArg = pCollNeededArg;</span>
<span class='curline'><a href='../S/185.html#L127751'>db</a>               127751 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127772'>db</a>               127772 libdb/sqlite3.c SQLITE_API int sqlite3_get_autocommit(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L127773'>db</a>               127773 libdb/sqlite3.c   return db-&gt;autoCommit;</span>
<span class='curline'><a href='../S/185.html#L127828'>db</a>               127828 libdb/sqlite3.c   sqlite3 *db,                /* Connection handle */</span>
<span class='curline'><a href='../S/185.html#L127851'>db</a>               127851 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127852'>db</a>               127852 libdb/sqlite3.c   sqlite3BtreeEnterAll(db);</span>
<span class='curline'><a href='../S/185.html#L127853'>db</a>               127853 libdb/sqlite3.c   rc = sqlite3Init(db, &amp;zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L127859'>db</a>               127859 libdb/sqlite3.c   pTab = sqlite3FindTable(db, zTableName, zDbName);</span>
<span class='curline'><a href='../S/185.html#L127909'>db</a>               127909 libdb/sqlite3.c   sqlite3BtreeLeaveAll(db);</span>
<span class='curline'><a href='../S/185.html#L127922'>db</a>               127922 libdb/sqlite3.c     sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L127923'>db</a>               127923 libdb/sqlite3.c     zErrMsg = sqlite3MPrintf(db, "no such table column: %s.%s", zTableName,</span>
<span class='curline'><a href='../S/185.html#L127927'>db</a>               127927 libdb/sqlite3.c   sqlite3ErrorWithMsg(db, rc, (zErrMsg?"%s":0), zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L127928'>db</a>               127928 libdb/sqlite3.c   sqlite3DbFree(db, zErrMsg);</span>
<span class='curline'><a href='../S/185.html#L127929'>db</a>               127929 libdb/sqlite3.c   rc = sqlite3ApiExit(db, rc);</span>
<span class='curline'><a href='../S/185.html#L127930'>db</a>               127930 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127954'>db</a>               127954 libdb/sqlite3.c SQLITE_API int sqlite3_extended_result_codes(sqlite3 *db, int onoff){</span>
<span class='curline'><a href='../S/185.html#L127955'>db</a>               127955 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127956'>db</a>               127956 libdb/sqlite3.c   db-&gt;errMask = onoff ? 0xffffffff : 0xff;</span>
<span class='curline'><a href='../S/185.html#L127957'>db</a>               127957 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127964'>db</a>               127964 libdb/sqlite3.c SQLITE_API int sqlite3_file_control(sqlite3 *db, const char *zDbName, int op, void *pArg){</span>
<span class='curline'><a href='../S/185.html#L127968'>db</a>               127968 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L127969'>db</a>               127969 libdb/sqlite3.c   pBtree = sqlite3DbNameToBtree(db, zDbName);</span>
<span class='curline'><a href='../S/185.html#L127988'>db</a>               127988 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L128180'>db</a>               128180 libdb/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/185.html#L128182'>db</a>               128182 libdb/sqlite3.c       sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L128183'>db</a>               128183 libdb/sqlite3.c       sqlite3BtreeSetPageSize(db-&gt;aDb[0].pBt, 0, x, 0);</span>
<span class='curline'><a href='../S/185.html#L128184'>db</a>               128184 libdb/sqlite3.c       sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L128198'>db</a>               128198 libdb/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/185.html#L128199'>db</a>               128199 libdb/sqlite3.c       db-&gt;dbOptFlags = (u16)(va_arg(ap, int) &amp; 0xffff);</span>
<span class='curline'><a href='../S/185.html#L128278'>db</a>               128278 libdb/sqlite3.c       sqlite3 *db = va_arg(ap, sqlite3*);</span>
<span class='curline'><a href='../S/185.html#L128279'>db</a>               128279 libdb/sqlite3.c       db-&gt;nMaxSorterMmap = va_arg(ap, int);</span>
<span class='curline'><a href='../S/185.html#L128349'>db</a>               128349 libdb/sqlite3.c SQLITE_PRIVATE Btree *sqlite3DbNameToBtree(sqlite3 *db, const char *zDbName){</span>
<span class='curline'><a href='../S/185.html#L128351'>db</a>               128351 libdb/sqlite3.c   for(i=0; i&lt;db-&gt;nDb; i++){</span>
<span class='curline'><a href='../S/185.html#L128352'>db</a>               128352 libdb/sqlite3.c     if( db-&gt;aDb[i].pBt</span>
<span class='curline'><a href='../S/185.html#L128353'>db</a>               128353 libdb/sqlite3.c      &amp;&amp; (zDbName==0 || sqlite3StrICmp(zDbName, db-&gt;aDb[i].zName)==0)</span>
<span class='curline'><a href='../S/185.html#L128355'>db</a>               128355 libdb/sqlite3.c       return db-&gt;aDb[i].pBt;</span>
<span class='curline'><a href='../S/185.html#L128365'>db</a>               128365 libdb/sqlite3.c SQLITE_API const char *sqlite3_db_filename(sqlite3 *db, const char *zDbName){</span>
<span class='curline'><a href='../S/185.html#L128366'>db</a>               128366 libdb/sqlite3.c   Btree *pBt = sqlite3DbNameToBtree(db, zDbName);</span>
<span class='curline'><a href='../S/185.html#L128374'>db</a>               128374 libdb/sqlite3.c SQLITE_API int sqlite3_db_readonly(sqlite3 *db, const char *zDbName){</span>
<span class='curline'><a href='../S/185.html#L128375'>db</a>               128375 libdb/sqlite3.c   Btree *pBt = sqlite3DbNameToBtree(db, zDbName);</span>
<span class='curline'><a href='../S/185.html#L128435'>db</a>               128435 libdb/sqlite3.c static void checkListProperties(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L128448'>db</a>               128448 libdb/sqlite3.c       assert( db==0 || p-&gt;pUnlockConnection!=db );</span>
<span class='curline'><a href='../S/185.html#L128449'>db</a>               128449 libdb/sqlite3.c       assert( db==0 || p-&gt;pBlockingConnection!=db );</span>
<span class='curline'><a href='../S/185.html#L128461'>db</a>               128461 libdb/sqlite3.c static void removeFromBlockedList(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L128465'>db</a>               128465 libdb/sqlite3.c     if( *pp==db ){</span>
<span class='curline'><a href='../S/185.html#L128476'>db</a>               128476 libdb/sqlite3.c static void addToBlockedList(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L128481'>db</a>               128481 libdb/sqlite3.c     *pp &amp;&amp; (*pp)-&gt;xUnlockNotify!=db-&gt;xUnlockNotify; </span>
<span class='curline'><a href='../S/185.html#L128484'>db</a>               128484 libdb/sqlite3.c   db-&gt;pNextBlocked = *pp;</span>
<span class='curline'><a href='../S/185.html#L128485'>db</a>               128485 libdb/sqlite3.c   *pp = db;</span>
<span class='curline'><a href='../S/185.html#L128527'>db</a>               128527 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L128533'>db</a>               128533 libdb/sqlite3.c   sqlite3_mutex_enter(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L128537'>db</a>               128537 libdb/sqlite3.c     removeFromBlockedList(db);</span>
<span class='curline'><a href='../S/185.html#L128538'>db</a>               128538 libdb/sqlite3.c     db-&gt;pBlockingConnection = 0;</span>
<span class='curline'><a href='../S/185.html#L128539'>db</a>               128539 libdb/sqlite3.c     db-&gt;pUnlockConnection = 0;</span>
<span class='curline'><a href='../S/185.html#L128540'>db</a>               128540 libdb/sqlite3.c     db-&gt;xUnlockNotify = 0;</span>
<span class='curline'><a href='../S/185.html#L128541'>db</a>               128541 libdb/sqlite3.c     db-&gt;pUnlockArg = 0;</span>
<span class='curline'><a href='../S/185.html#L128542'>db</a>               128542 libdb/sqlite3.c   }else if( 0==db-&gt;pBlockingConnection ){</span>
<span class='curline'><a href='../S/185.html#L128551'>db</a>               128551 libdb/sqlite3.c     for(p=db-&gt;pBlockingConnection; p &amp;&amp; p!=db; p=p-&gt;pUnlockConnection){}</span>
<span class='curline'><a href='../S/185.html#L128555'>db</a>               128555 libdb/sqlite3.c       db-&gt;pUnlockConnection = db-&gt;pBlockingConnection;</span>
<span class='curline'><a href='../S/185.html#L128556'>db</a>               128556 libdb/sqlite3.c       db-&gt;xUnlockNotify = xNotify;</span>
<span class='curline'><a href='../S/185.html#L128557'>db</a>               128557 libdb/sqlite3.c       db-&gt;pUnlockArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L128558'>db</a>               128558 libdb/sqlite3.c       removeFromBlockedList(db);</span>
<span class='curline'><a href='../S/185.html#L128559'>db</a>               128559 libdb/sqlite3.c       addToBlockedList(db);</span>
<span class='curline'><a href='../S/185.html#L128564'>db</a>               128564 libdb/sqlite3.c   assert( !db-&gt;mallocFailed );</span>
<span class='curline'><a href='../S/185.html#L128565'>db</a>               128565 libdb/sqlite3.c   sqlite3ErrorWithMsg(db, rc, (rc?"database is deadlocked":0));</span>
<span class='curline'><a href='../S/185.html#L128566'>db</a>               128566 libdb/sqlite3.c   sqlite3_mutex_leave(db-&gt;mutex);</span>
<span class='curline'><a href='../S/185.html#L128576'>db</a>               128576 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ConnectionBlocked(sqlite3 *db, sqlite3 *pBlocker){</span>
<span class='curline'><a href='../S/185.html#L128578'>db</a>               128578 libdb/sqlite3.c   if( db-&gt;pBlockingConnection==0 &amp;&amp; db-&gt;pUnlockConnection==0 ){</span>
<span class='curline'><a href='../S/185.html#L128579'>db</a>               128579 libdb/sqlite3.c     addToBlockedList(db);</span>
<span class='curline'><a href='../S/185.html#L128581'>db</a>               128581 libdb/sqlite3.c   db-&gt;pBlockingConnection = pBlocker;</span>
<span class='curline'><a href='../S/185.html#L128604'>db</a>               128604 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ConnectionUnlocked(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L128620'>db</a>               128620 libdb/sqlite3.c     if( p-&gt;pBlockingConnection==db ){</span>
<span class='curline'><a href='../S/185.html#L128625'>db</a>               128625 libdb/sqlite3.c     if( p-&gt;pUnlockConnection==db ){</span>
<span class='curline'><a href='../S/185.html#L128703'>db</a>               128703 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3ConnectionClosed(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L128704'>db</a>               128704 libdb/sqlite3.c   sqlite3ConnectionUnlocked(db);</span>
<span class='curline'><a href='../S/185.html#L128706'>db</a>               128706 libdb/sqlite3.c   removeFromBlockedList(db);</span>
<span class='curline'><a href='../S/185.html#L128707'>db</a>               128707 libdb/sqlite3.c   checkListProperties(db);</span>
<span class='curline'><a href='../S/185.html#L129487'>db</a>               129487 libdb/sqlite3.c   sqlite3 *db;                    /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L129846'>db</a>               129846 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3ExprInitTestInterface(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L129847'>db</a>               129847 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitTerm(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L129855'>db</a>               129855 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitAux(sqlite3 *db);</span>
<span class='curline'><a href='../S/185.html#L130101'>db</a>               130101 libdb/sqlite3.c   sqlite3 *db,           /* Database in which to run SQL */</span>
<span class='curline'><a href='../S/185.html#L130114'>db</a>               130114 libdb/sqlite3.c     *pRc = sqlite3_exec(db, zSql, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L130126'>db</a>               130126 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;             /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L130130'>db</a>               130130 libdb/sqlite3.c     fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_content'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L130132'>db</a>               130132 libdb/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_segments'", zDb,p-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L130133'>db</a>               130133 libdb/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_segdir'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L130134'>db</a>               130134 libdb/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_docsize'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L130135'>db</a>               130135 libdb/sqlite3.c   fts3DbExec(&amp;rc, db, "DROP TABLE IF EXISTS %Q.'%q_stat'", zDb, p-&gt;zName);</span>
<span class='curline'><a href='../S/185.html#L130163'>db</a>               130163 libdb/sqlite3.c     sqlite3_vtab_config(p-&gt;db, SQLITE_VTAB_CONSTRAINT_SUPPORT, 1);</span>
<span class='curline'><a href='../S/185.html#L130179'>db</a>               130179 libdb/sqlite3.c       rc = sqlite3_declare_vtab(p-&gt;db, zSql);</span>
<span class='curline'><a href='../S/185.html#L130192'>db</a>               130192 libdb/sqlite3.c   fts3DbExec(pRc, p-&gt;db, </span>
<span class='curline'><a href='../S/185.html#L130212'>db</a>               130212 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;            /* The database connection */</span>
<span class='curline'><a href='../S/185.html#L130230'>db</a>               130230 libdb/sqlite3.c     fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/185.html#L130238'>db</a>               130238 libdb/sqlite3.c   fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/185.html#L130242'>db</a>               130242 libdb/sqlite3.c   fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/185.html#L130255'>db</a>               130255 libdb/sqlite3.c     fts3DbExec(&amp;rc, db, </span>
<span class='curline'><a href='../S/185.html#L130284'>db</a>               130284 libdb/sqlite3.c       rc = sqlite3_prepare(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L130594'>db</a>               130594 libdb/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L130609'>db</a>               130609 libdb/sqlite3.c     rc = sqlite3_prepare(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L130666'>db</a>               130666 libdb/sqlite3.c   sqlite3 *db,                    /* The SQLite database connection */</span>
<span class='curline'><a href='../S/185.html#L130861'>db</a>               130861 libdb/sqlite3.c       rc = fts3ContentColumns(db, argv[1], zContent, &amp;aCol, &amp;nCol, &amp;nString);</span>
<span class='curline'><a href='../S/185.html#L130914'>db</a>               130914 libdb/sqlite3.c   p-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L131042'>db</a>               131042 libdb/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L131049'>db</a>               131049 libdb/sqlite3.c   return fts3InitVtab(0, db, pAux, argc, argv, ppVtab, pzErr);</span>
<span class='curline'><a href='../S/185.html#L131052'>db</a>               131052 libdb/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L131059'>db</a>               131059 libdb/sqlite3.c   return fts3InitVtab(1, db, pAux, argc, argv, ppVtab, pzErr);</span>
<span class='curline'><a href='../S/185.html#L131257'>db</a>               131257 libdb/sqlite3.c     rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pCsr-&gt;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L132760'>db</a>               132760 libdb/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pCsr-&gt;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L132926'>db</a>               132926 libdb/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L133198'>db</a>               133198 libdb/sqlite3.c   sqlite3 *db = p-&gt;db;            /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L133217'>db</a>               133217 libdb/sqlite3.c     fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/185.html#L133224'>db</a>               133224 libdb/sqlite3.c     fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/185.html#L133230'>db</a>               133230 libdb/sqlite3.c     fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/185.html#L133235'>db</a>               133235 libdb/sqlite3.c   fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/185.html#L133239'>db</a>               133239 libdb/sqlite3.c   fts3DbExec(&amp;rc, db,</span>
<span class='curline'><a href='../S/185.html#L133355'>db</a>               133355 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3Init(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L133374'>db</a>               133374 libdb/sqlite3.c   rc = sqlite3Fts3InitTerm(db);</span>
<span class='curline'><a href='../S/185.html#L133378'>db</a>               133378 libdb/sqlite3.c   rc = sqlite3Fts3InitAux(db);</span>
<span class='curline'><a href='../S/185.html#L133410'>db</a>               133410 libdb/sqlite3.c     rc = sqlite3Fts3ExprInitTestInterface(db);</span>
<span class='curline'><a href='../S/185.html#L133419'>db</a>               133419 libdb/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3Fts3InitHashTable(db, pHash, "fts3_tokenizer"))</span>
<span class='curline'><a href='../S/185.html#L133420'>db</a>               133420 libdb/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "snippet", -1))</span>
<span class='curline'><a href='../S/185.html#L133421'>db</a>               133421 libdb/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "offsets", 1))</span>
<span class='curline'><a href='../S/185.html#L133422'>db</a>               133422 libdb/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "matchinfo", 1))</span>
<span class='curline'><a href='../S/185.html#L133423'>db</a>               133423 libdb/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "matchinfo", 2))</span>
<span class='curline'><a href='../S/185.html#L133424'>db</a>               133424 libdb/sqlite3.c    &amp;&amp; SQLITE_OK==(rc = sqlite3_overload_function(db, "optimize", 1))</span>
<span class='curline'><a href='../S/185.html#L133427'>db</a>               133427 libdb/sqlite3.c         db, "fts3", &amp;fts3Module, (void *)pHash, hashDestroy</span>
<span class='curline'><a href='../S/185.html#L133431'>db</a>               133431 libdb/sqlite3.c           db, "fts4", &amp;fts3Module, (void *)pHash, 0</span>
<span class='curline'><a href='../S/185.html#L133435'>db</a>               133435 libdb/sqlite3.c       rc = sqlite3Fts3InitTok(db, (void *)pHash);</span>
<span class='curline'><a href='../S/185.html#L135379'>db</a>               135379 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L135384'>db</a>               135384 libdb/sqlite3.c   return sqlite3Fts3Init(db);</span>
<span class='curline'><a href='../S/185.html#L135448'>db</a>               135448 libdb/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L135487'>db</a>               135487 libdb/sqlite3.c   rc = sqlite3_declare_vtab(db, FTS3_AUX_SCHEMA);</span>
<span class='curline'><a href='../S/185.html#L135498'>db</a>               135498 libdb/sqlite3.c   p-&gt;pFts3Tab-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L135908'>db</a>               135908 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitAux(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L135936'>db</a>               135936 libdb/sqlite3.c   rc = sqlite3_create_module(db, "fts4aux", &amp;fts3aux_module, 0);</span>
<span class='curline'><a href='../S/185.html#L137031'>db</a>               137031 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L137040'>db</a>               137040 libdb/sqlite3.c   rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L137137'>db</a>               137137 libdb/sqlite3.c   sqlite3 *db = sqlite3_context_db_handle(context);</span>
<span class='curline'><a href='../S/185.html#L137146'>db</a>               137146 libdb/sqlite3.c   rc = queryTestTokenizer(db,</span>
<span class='curline'><a href='../S/185.html#L137212'>db</a>               137212 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3ExprInitTestInterface(sqlite3* db){</span>
<span class='curline'><a href='../S/185.html#L137214'>db</a>               137214 libdb/sqlite3.c       db, "fts3_exprtest", -1, SQLITE_UTF8, 0, fts3ExprTest, 0, 0</span>
<span class='curline'><a href='../S/185.html#L137217'>db</a>               137217 libdb/sqlite3.c     rc = sqlite3_create_function(db, "fts3_exprtest_rebalance", </span>
<span class='curline'><a href='../S/185.html#L138601'>db</a>               138601 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L138609'>db</a>               138609 libdb/sqlite3.c   rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L138623'>db</a>               138623 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L138632'>db</a>               138632 libdb/sqlite3.c   rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L138675'>db</a>               138675 libdb/sqlite3.c   sqlite3 *db = (sqlite3 *)sqlite3_user_data(context);</span>
<span class='curline'><a href='../S/185.html#L138682'>db</a>               138682 libdb/sqlite3.c   rc = queryTokenizer(db, "simple", &amp;p2);</span>
<span class='curline'><a href='../S/185.html#L138685'>db</a>               138685 libdb/sqlite3.c   rc = queryTokenizer(db, "nosuchtokenizer", &amp;p2);</span>
<span class='curline'><a href='../S/185.html#L138688'>db</a>               138688 libdb/sqlite3.c   assert( 0==strcmp(sqlite3_errmsg(db), "unknown tokenizer: nosuchtokenizer") );</span>
<span class='curline'><a href='../S/185.html#L138691'>db</a>               138691 libdb/sqlite3.c   rc = registerTokenizer(db, "nosuchtokenizer", p1);</span>
<span class='curline'><a href='../S/185.html#L138693'>db</a>               138693 libdb/sqlite3.c   rc = queryTokenizer(db, "nosuchtokenizer", &amp;p2);</span>
<span class='curline'><a href='../S/185.html#L138720'>db</a>               138720 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L138731'>db</a>               138731 libdb/sqlite3.c   void *pdb = (void *)db;</span>
<span class='curline'><a href='../S/185.html#L138740'>db</a>               138740 libdb/sqlite3.c     rc = sqlite3_create_function(db, zName, 1, any, p, scalarFunc, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L138743'>db</a>               138743 libdb/sqlite3.c     rc = sqlite3_create_function(db, zName, 2, any, p, scalarFunc, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L138747'>db</a>               138747 libdb/sqlite3.c     rc = sqlite3_create_function(db, zTest, -1, any, p, testFunc, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L138750'>db</a>               138750 libdb/sqlite3.c     rc = sqlite3_create_function(db, zTest2, 0, any, pdb, intTestFunc, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L139158'>db</a>               139158 libdb/sqlite3.c   sqlite3 *db,                    /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L139172'>db</a>               139172 libdb/sqlite3.c   rc = sqlite3_declare_vtab(db, FTS3_TOK_SCHEMA);</span>
<span class='curline'><a href='../S/185.html#L139421'>db</a>               139421 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3Fts3InitTok(sqlite3 *db, Fts3Hash *pHash){</span>
<span class='curline'><a href='../S/185.html#L139449'>db</a>               139449 libdb/sqlite3.c   rc = sqlite3_create_module(db, "fts3tokenize", &amp;fts3tok_module, (void*)pHash);</span>
<span class='curline'><a href='../S/185.html#L139864'>db</a>               139864 libdb/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, NULL);</span>
<span class='curline'><a href='../S/185.html#L140465'>db</a>               140465 libdb/sqlite3.c   *piDocid = sqlite3_last_insert_rowid(p-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L140662'>db</a>               140662 libdb/sqlite3.c        p-&gt;db, p-&gt;zDb, p-&gt;zSegmentsTbl, "block", iBlockid, 0, &amp;p-&gt;pSegments</span>
<span class='curline'><a href='../S/185.html#L142947'>db</a>               142947 libdb/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L144622'>db</a>               144622 libdb/sqlite3.c       rc = sqlite3_prepare_v2(p-&gt;db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L145042'>db</a>               145042 libdb/sqlite3.c       if( sqlite3_vtab_on_conflict(p-&gt;db)==SQLITE_REPLACE ){</span>
<span class='curline'><a href='../S/185.html#L145100'>db</a>               145100 libdb/sqlite3.c   rc = sqlite3_exec(p-&gt;db, "SAVEPOINT fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L145104'>db</a>               145104 libdb/sqlite3.c       int rc2 = sqlite3_exec(p-&gt;db, "RELEASE fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L145107'>db</a>               145107 libdb/sqlite3.c       sqlite3_exec(p-&gt;db, "ROLLBACK TO fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L145108'>db</a>               145108 libdb/sqlite3.c       sqlite3_exec(p-&gt;db, "RELEASE fts3", 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L147517'>db</a>               147517 libdb/sqlite3.c   sqlite3 *db;                /* Host database connection */</span>
<span class='curline'><a href='../S/185.html#L148068'>db</a>               148068 libdb/sqlite3.c       pNode-&gt;iNode = sqlite3_last_insert_rowid(pRtree-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L148162'>db</a>               148162 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L148168'>db</a>               148168 libdb/sqlite3.c   return rtreeInit(db, pAux, argc, argv, ppVtab, pzErr, 1);</span>
<span class='curline'><a href='../S/185.html#L148175'>db</a>               148175 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L148181'>db</a>               148181 libdb/sqlite3.c   return rtreeInit(db, pAux, argc, argv, ppVtab, pzErr, 0);</span>
<span class='curline'><a href='../S/185.html#L148236'>db</a>               148236 libdb/sqlite3.c     rc = sqlite3_exec(pRtree-&gt;db, zCreate, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L150075'>db</a>               150075 libdb/sqlite3.c   *piRowid = sqlite3_last_insert_rowid(pRtree-&gt;db);</span>
<span class='curline'><a href='../S/185.html#L150261'>db</a>               150261 libdb/sqlite3.c           if( sqlite3_vtab_on_conflict(pRtree-&gt;db)==SQLITE_REPLACE ){</span>
<span class='curline'><a href='../S/185.html#L150329'>db</a>               150329 libdb/sqlite3.c     rc = sqlite3_exec(pRtree-&gt;db, zSql, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L150340'>db</a>               150340 libdb/sqlite3.c static int rtreeQueryStat1(sqlite3 *db, Rtree *pRtree){</span>
<span class='curline'><a href='../S/185.html#L150351'>db</a>               150351 libdb/sqlite3.c     rc = sqlite3_prepare_v2(db, zSql, -1, &amp;p, 0);</span>
<span class='curline'><a href='../S/185.html#L150400'>db</a>               150400 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L150427'>db</a>               150427 libdb/sqlite3.c   pRtree-&gt;db = db;</span>
<span class='curline'><a href='../S/185.html#L150441'>db</a>               150441 libdb/sqlite3.c     rc = sqlite3_exec(db, zCreate, 0, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L150458'>db</a>               150458 libdb/sqlite3.c   rc = rtreeQueryStat1(db, pRtree);</span>
<span class='curline'><a href='../S/185.html#L150462'>db</a>               150462 libdb/sqlite3.c       rc = sqlite3_prepare_v2(db, zSql, -1, appStmt[i], 0); </span>
<span class='curline'><a href='../S/185.html#L150479'>db</a>               150479 libdb/sqlite3.c static int getIntFromStmt(sqlite3 *db, const char *zSql, int *piVal){</span>
<span class='curline'><a href='../S/185.html#L150483'>db</a>               150483 libdb/sqlite3.c     rc = sqlite3_prepare_v2(db, zSql, -1, &amp;pStmt, 0);</span>
<span class='curline'><a href='../S/185.html#L150510'>db</a>               150510 libdb/sqlite3.c   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/185.html#L150520'>db</a>               150520 libdb/sqlite3.c     rc = getIntFromStmt(db, zSql, &amp;iPageSize);</span>
<span class='curline'><a href='../S/185.html#L150527'>db</a>               150527 libdb/sqlite3.c       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L150534'>db</a>               150534 libdb/sqlite3.c     rc = getIntFromStmt(db, zSql, &amp;pRtree-&gt;iNodeSize);</span>
<span class='curline'><a href='../S/185.html#L150536'>db</a>               150536 libdb/sqlite3.c       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L150554'>db</a>               150554 libdb/sqlite3.c   sqlite3 *db,                        /* Database connection */</span>
<span class='curline'><a href='../S/185.html#L150580'>db</a>               150580 libdb/sqlite3.c   sqlite3_vtab_config(db, SQLITE_VTAB_CONSTRAINT_SUPPORT, 1);</span>
<span class='curline'><a href='../S/185.html#L150601'>db</a>               150601 libdb/sqlite3.c   rc = getNodeSize(db, pRtree, isCreate, pzErr);</span>
<span class='curline'><a href='../S/185.html#L150608'>db</a>               150608 libdb/sqlite3.c     if( (rc = rtreeSqlInit(pRtree, db, argv[1], argv[2], isCreate)) ){</span>
<span class='curline'><a href='../S/185.html#L150609'>db</a>               150609 libdb/sqlite3.c       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L150626'>db</a>               150626 libdb/sqlite3.c       }else if( SQLITE_OK!=(rc = sqlite3_declare_vtab(db, zSql)) ){</span>
<span class='curline'><a href='../S/185.html#L150627'>db</a>               150627 libdb/sqlite3.c         *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));</span>
<span class='curline'><a href='../S/185.html#L150731'>db</a>               150731 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3RtreeInit(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L150735'>db</a>               150735 libdb/sqlite3.c   rc = sqlite3_create_function(db, "rtreenode", 2, utf8, 0, rtreenode, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L150737'>db</a>               150737 libdb/sqlite3.c     rc = sqlite3_create_function(db, "rtreedepth", 1, utf8, 0,rtreedepth, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L150745'>db</a>               150745 libdb/sqlite3.c     rc = sqlite3_create_module_v2(db, "rtree", &amp;rtreeModule, c, 0);</span>
<span class='curline'><a href='../S/185.html#L150749'>db</a>               150749 libdb/sqlite3.c     rc = sqlite3_create_module_v2(db, "rtree_i32", &amp;rtreeModule, c, 0);</span>
<span class='curline'><a href='../S/185.html#L150811'>db</a>               150811 libdb/sqlite3.c   sqlite3 *db,                  /* Register SQL function on this connection */</span>
<span class='curline'><a href='../S/185.html#L150825'>db</a>               150825 libdb/sqlite3.c   return sqlite3_create_function_v2(db, zGeom, -1, SQLITE_ANY, </span>
<span class='curline'><a href='../S/185.html#L150835'>db</a>               150835 libdb/sqlite3.c   sqlite3 *db,                 /* Register SQL function on this connection */</span>
<span class='curline'><a href='../S/185.html#L150850'>db</a>               150850 libdb/sqlite3.c   return sqlite3_create_function_v2(db, zQueryFunc, -1, SQLITE_ANY, </span>
<span class='curline'><a href='../S/185.html#L150860'>db</a>               150860 libdb/sqlite3.c   sqlite3 *db,</span>
<span class='curline'><a href='../S/185.html#L150865'>db</a>               150865 libdb/sqlite3.c   return sqlite3RtreeInit(db);</span>
<span class='curline'><a href='../S/185.html#L151287'>db</a>               151287 libdb/sqlite3.c   sqlite3 *db = (sqlite3 *)sqlite3_user_data(p);</span>
<span class='curline'><a href='../S/185.html#L151309'>db</a>               151309 libdb/sqlite3.c   rc = sqlite3_create_collation_v2(db, zName, SQLITE_UTF16, (void *)pUCollator, </span>
<span class='curline'><a href='../S/185.html#L151321'>db</a>               151321 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3IcuInit(sqlite3 *db){</span>
<span class='curline'><a href='../S/185.html#L151344'>db</a>               151344 libdb/sqlite3.c     {"icu_load_collation",  2, SQLITE_UTF8, (void*)db, icuLoadCollation},</span>
<span class='curline'><a href='../S/185.html#L151353'>db</a>               151353 libdb/sqlite3.c         db, p-&gt;zName, p-&gt;nArg, p-&gt;enc, p-&gt;pContext, p-&gt;xFunc, 0, 0</span>
<span class='curline'><a href='../S/185.html#L151365'>db</a>               151365 libdb/sqlite3.c   sqlite3 *db, </span>
<span class='curline'><a href='../S/185.html#L151370'>db</a>               151370 libdb/sqlite3.c   return sqlite3IcuInit(db);</span>
<span class='curline'><a href='../S/186.html#L2184'>db</a>               2184 libdb/sqlite3.h   sqlite3 *db,          /* An open database */</span>
<span class='curline'><a href='../S/186.html#L2979'>db</a>               2979 libdb/sqlite3.h SQLITE_API int sqlite3_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/186.html#L2980'>db</a>               2980 libdb/sqlite3.h SQLITE_API int sqlite3_extended_errcode(sqlite3 *db);</span>
<span class='curline'><a href='../S/186.html#L3203'>db</a>               3203 libdb/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/186.html#L3210'>db</a>               3210 libdb/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/186.html#L3217'>db</a>               3217 libdb/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/186.html#L3224'>db</a>               3224 libdb/sqlite3.h   sqlite3 *db,            /* Database handle */</span>
<span class='curline'><a href='../S/186.html#L4114'>db</a>               4114 libdb/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/186.html#L4124'>db</a>               4124 libdb/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/186.html#L4134'>db</a>               4134 libdb/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/186.html#L4669'>db</a>               4669 libdb/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/186.html#L4673'>db</a>               4673 libdb/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/186.html#L4687'>db</a>               4687 libdb/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/186.html#L4691'>db</a>               4691 libdb/sqlite3.h   sqlite3 *db,                   /* Database to be rekeyed */</span>
<span class='curline'><a href='../S/186.html#L4878'>db</a>               4878 libdb/sqlite3.h SQLITE_API const char *sqlite3_db_filename(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/186.html#L4887'>db</a>               4887 libdb/sqlite3.h SQLITE_API int sqlite3_db_readonly(sqlite3 *db, const char *zDbName);</span>
<span class='curline'><a href='../S/186.html#L5194'>db</a>               5194 libdb/sqlite3.h   sqlite3 *db,                /* Connection handle */</span>
<span class='curline'><a href='../S/186.html#L5240'>db</a>               5240 libdb/sqlite3.h   sqlite3 *db,          /* Load the extension into this database connection */</span>
<span class='curline'><a href='../S/186.html#L5259'>db</a>               5259 libdb/sqlite3.h SQLITE_API int sqlite3_enable_load_extension(sqlite3 *db, int onoff);</span>
<span class='curline'><a href='../S/186.html#L5521'>db</a>               5521 libdb/sqlite3.h   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/186.html#L5527'>db</a>               5527 libdb/sqlite3.h   sqlite3 *db,               /* SQLite connection to register module with */</span>
<span class='curline'><a href='../S/186.html#L7210'>db</a>               7210 libdb/sqlite3.h SQLITE_API int sqlite3_wal_autocheckpoint(sqlite3 *db, int N);</span>
<span class='curline'><a href='../S/186.html#L7232'>db</a>               7232 libdb/sqlite3.h SQLITE_API int sqlite3_wal_checkpoint(sqlite3 *db, const char *zDb);</span>
<span class='curline'><a href='../S/186.html#L7308'>db</a>               7308 libdb/sqlite3.h   sqlite3 *db,                    /* Database handle */</span>
<span class='curline'><a href='../S/186.html#L7469'>db</a>               7469 libdb/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/186.html#L7495'>db</a>               7495 libdb/sqlite3.h   sqlite3 *db,</span>
<span class='curline'><a href='../S/268.html#L49'>db</a>                 49 libutil/assoc.c 	assoc-&gt;db = dbopen(NULL, O_RDWR|O_CREAT|O_TRUNC, 0600, DB_BTREE, NULL);</span>
<span class='curline'><a href='../S/268.html#L50'>db</a>                 50 libutil/assoc.c 	if (assoc-&gt;db == NULL)</span>
<span class='curline'><a href='../S/268.html#L64'>db</a>                 64 libutil/assoc.c 	if (assoc-&gt;db == NULL)</span>
<span class='curline'><a href='../S/268.html#L67'>db</a>                 67 libutil/assoc.c 	(void)assoc-&gt;db-&gt;close(assoc-&gt;db);</span>
<span class='curline'><a href='../S/268.html#L72'>db</a>                 72 libutil/assoc.c 	(void)assoc-&gt;db-&gt;close(assoc-&gt;db, 1);</span>
<span class='curline'><a href='../S/268.html#L86'>db</a>                 86 libutil/assoc.c 	DB *db = assoc-&gt;db;</span>
<span class='curline'><a href='../S/268.html#L91'>db</a>                 91 libutil/assoc.c 	if (db == NULL)</span>
<span class='curline'><a href='../S/268.html#L100'>db</a>                100 libutil/assoc.c 	status = (*db-&gt;put)(db, &amp;key, &amp;dat, 0);</span>
<span class='curline'><a href='../S/268.html#L120'>db</a>                120 libutil/assoc.c 	DB *db = assoc-&gt;db;</span>
<span class='curline'><a href='../S/268.html#L125'>db</a>                125 libutil/assoc.c 	if (db == NULL)</span>
<span class='curline'><a href='../S/268.html#L134'>db</a>                134 libutil/assoc.c 	status = (*db-&gt;put)(db, &amp;key, &amp;dat, 0);</span>
<span class='curline'><a href='../S/268.html#L153'>db</a>                153 libutil/assoc.c 	DB *db = assoc-&gt;db;</span>
<span class='curline'><a href='../S/268.html#L157'>db</a>                157 libutil/assoc.c 	if (db == NULL)</span>
<span class='curline'><a href='../S/268.html#L162'>db</a>                162 libutil/assoc.c 	status = (*db-&gt;get)(db, &amp;key, &amp;dat, 0);</span>
<span class='curline'><a href='../S/269.html#L29'>db</a>                 29 libutil/assoc.h 	DB *db;</span>
<span class='curline'><a href='../S/278.html#L366'>db</a>                366 libutil/convert.c convert_open(int type, int format, const char *root, const char *cwd, const char *dbpath, FILE *op, int db)</span>
<span class='curline'><a href='../S/278.html#L385'>db</a>                385 libutil/convert.c 	cv-&gt;db = db;</span>
<span class='curline'><a href='../S/279.html#L40'>db</a>                 40 libutil/convert.h 	int db;			/**&lt; for gtags-cscope */</span>
<span class='curline'><a href='../S/282.html#L226'>db</a>                226 libutil/dbop.c 	DB *db;</span>
<span class='curline'><a href='../S/282.html#L275'>db</a>                275 libutil/dbop.c 	db = dbopen(path, rw, 0600, DB_BTREE, &amp;info);</span>
<span class='curline'><a href='../S/282.html#L276'>db</a>                276 libutil/dbop.c 	if (!db)</span>
<span class='curline'><a href='../S/282.html#L282'>db</a>                282 libutil/dbop.c 		int fd = (*db-&gt;fd)(db);</span>
<span class='curline'><a href='../S/282.html#L297'>db</a>                297 libutil/dbop.c 	dbop-&gt;db	= db;</span>
<span class='curline'><a href='../S/282.html#L324'>db</a>                324 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L335'>db</a>                335 libutil/dbop.c 	status = (*db-&gt;get)(db, &amp;key, &amp;dat, 0);</span>
<span class='curline'><a href='../S/282.html#L358'>db</a>                358 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L386'>db</a>                386 libutil/dbop.c 	status = (*db-&gt;put)(db, &amp;key, &amp;dat, 0);</span>
<span class='curline'><a href='../S/282.html#L449'>db</a>                449 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L473'>db</a>                473 libutil/dbop.c 	status = (*db-&gt;put)(db, &amp;key, &amp;dat, 0);</span>
<span class='curline'><a href='../S/282.html#L491'>db</a>                491 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L504'>db</a>                504 libutil/dbop.c 		status = (*db-&gt;del)(db, &amp;key, 0);</span>
<span class='curline'><a href='../S/282.html#L506'>db</a>                506 libutil/dbop.c 		status = (*db-&gt;del)(db, &amp;key, R_CURSOR);</span>
<span class='curline'><a href='../S/282.html#L542'>db</a>                542 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L567'>db</a>                567 libutil/dbop.c 		for (status = (*db-&gt;seq)(db, &amp;key, &amp;dat, R_CURSOR);</span>
<span class='curline'><a href='../S/282.html#L569'>db</a>                569 libutil/dbop.c 			status = (*db-&gt;seq)(db, &amp;key, &amp;dat, R_NEXT)) {</span>
<span class='curline'><a href='../S/282.html#L584'>db</a>                584 libutil/dbop.c 		for (status = (*db-&gt;seq)(db, &amp;key, &amp;dat, R_FIRST);</span>
<span class='curline'><a href='../S/282.html#L586'>db</a>                586 libutil/dbop.c 			status = (*db-&gt;seq)(db, &amp;key, &amp;dat, R_NEXT)) {</span>
<span class='curline'><a href='../S/282.html#L625'>db</a>                625 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L638'>db</a>                638 libutil/dbop.c 	while ((status = (*db-&gt;seq)(db, &amp;key, &amp;dat, R_NEXT)) == RET_SUCCESS) {</span>
<span class='curline'><a href='../S/282.html#L796'>db</a>                796 libutil/dbop.c 	DB *db = dbop-&gt;db;</span>
<span class='curline'><a href='../S/282.html#L836'>db</a>                836 libutil/dbop.c 	(void)db-&gt;close(db);</span>
<span class='curline'><a href='../S/282.html#L841'>db</a>                841 libutil/dbop.c 	(void)db-&gt;close(db, dbop-&gt;dbname[0] == '\0' ? 1 : 0);</span>
<span class='curline'><a href='../S/283.html#L64'>db</a>                 64 libutil/dbop.h 	DB *db;				/**&lt; descripter of DB */</span>
<span class='curline'><a href='../S/294.html#L126'>db</a>                126 libutil/find.c 	int db, type = 0, is_directory = 0;</span>
<span class='curline'><a href='../S/294.html#L146'>db</a>                146 libutil/find.c 		for (db = 0; db &lt; GTAGLIM; db++)</span>
<span class='curline'><a href='../S/294.html#L147'>db</a>                147 libutil/find.c 			if (!strcmp(dbname(db), p))</span>
<span class='curline'><a href='../S/294.html#L563'>db</a>                563 libutil/find.c 	int db;</span>
<span class='curline'><a href='../S/294.html#L573'>db</a>                573 libutil/find.c 			for (db = 0; db &lt; GTAGLIM; db++)</span>
<span class='curline'><a href='../S/294.html#L574'>db</a>                574 libutil/find.c 				if (!strcmp(dbname(db), path))</span>
<span class='curline'><a href='../S/304.html#L281'>db</a>                281 libutil/gtagsop.c 	if (gtop-&gt;db == GRTAGS || gtop-&gt;db == GSYMS) {					\</span>
<span class='curline'><a href='../S/304.html#L283'>db</a>                283 libutil/gtagsop.c 		if ((gtop-&gt;db == GRTAGS &amp;&amp; !defined) || (gtop-&gt;db == GSYMS &amp;&amp; defined))	\</span>
<span class='curline'><a href='../S/304.html#L313'>db</a>                313 libutil/gtagsop.c dbname(int db)</span>
<span class='curline'><a href='../S/304.html#L315'>db</a>                315 libutil/gtagsop.c 	if (db == GRTAGS + GSYMS)</span>
<span class='curline'><a href='../S/304.html#L316'>db</a>                316 libutil/gtagsop.c 		db = GRTAGS;</span>
<span class='curline'><a href='../S/304.html#L317'>db</a>                317 libutil/gtagsop.c 	assert(db &gt;= 0 &amp;&amp; db &lt; GTAGLIM);</span>
<span class='curline'><a href='../S/304.html#L318'>db</a>                318 libutil/gtagsop.c 	return tagslist[db];</span>
<span class='curline'><a href='../S/304.html#L335'>db</a>                335 libutil/gtagsop.c gtags_open(const char *dbpath, const char *root, int db, int mode, int flags)</span>
<span class='curline'><a href='../S/304.html#L343'>db</a>                343 libutil/gtagsop.c 	gtop-&gt;db = db;</span>
<span class='curline'><a href='../S/304.html#L379'>db</a>                379 libutil/gtagsop.c 	strlimcpy(tagfile, makepath(dbpath, dbname(db == GSYMS ? GRTAGS : db), NULL), sizeof(tagfile));</span>
<span class='curline'><a href='../S/304.html#L383'>db</a>                383 libutil/gtagsop.c 			die("cannot make %s.", dbname(db));</span>
<span class='curline'><a href='../S/304.html#L387'>db</a>                387 libutil/gtagsop.c 			die("%s not found.", dbname(db));</span>
<span class='curline'><a href='../S/304.html#L389'>db</a>                389 libutil/gtagsop.c 	if (gtop-&gt;mode == GTAGS_READ &amp;&amp; db != GTAGS) {</span>
<span class='curline'><a href='../S/304.html#L412'>db</a>                412 libutil/gtagsop.c 		if (gtop-&gt;db == GRTAGS || gtop-&gt;db == GSYMS || gtop-&gt;openflags &amp; GTAGS_COMPACT) {</span>
<span class='curline'><a href='../S/304.html#L963'>db</a>                963 libutil/gtagsop.c 	fprintf(stderr, "Numbers of gtags (%s): %d\n", dbname(gtop-&gt;db), gtop-&gt;readcount);</span>
<span class='curline'><a href='../S/304.html#L964'>db</a>                964 libutil/gtagsop.c 	fprintf(stderr, "Numbers of dbop  (%s): %d\n", dbname(gtop-&gt;db), gtop-&gt;dbop-&gt;readcount);</span>
<span class='curline'><a href='../S/305.html#L106'>db</a>                106 libutil/gtagsop.h 	int db;				/**&lt; 0:GTAGS, 1:GRTAGS, 2:GSYMS */</span>
</pre>
</body>
</html>
