<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pH</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L24187'>pH</a>               24187 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3HashClear(Hash *pH){</span>
<span class='curline'><a href='../S/185.html#L24190'>pH</a>               24190 libdb/sqlite3.c   assert( pH!=0 );</span>
<span class='curline'><a href='../S/185.html#L24191'>pH</a>               24191 libdb/sqlite3.c   elem = pH-&gt;first;</span>
<span class='curline'><a href='../S/185.html#L24192'>pH</a>               24192 libdb/sqlite3.c   pH-&gt;first = 0;</span>
<span class='curline'><a href='../S/185.html#L24193'>pH</a>               24193 libdb/sqlite3.c   sqlite3_free(pH-&gt;ht);</span>
<span class='curline'><a href='../S/185.html#L24194'>pH</a>               24194 libdb/sqlite3.c   pH-&gt;ht = 0;</span>
<span class='curline'><a href='../S/185.html#L24195'>pH</a>               24195 libdb/sqlite3.c   pH-&gt;htsize = 0;</span>
<span class='curline'><a href='../S/185.html#L24201'>pH</a>               24201 libdb/sqlite3.c   pH-&gt;count = 0;</span>
<span class='curline'><a href='../S/185.html#L24221'>pH</a>               24221 libdb/sqlite3.c   Hash *pH,              /* The complete hash table */</span>
<span class='curline'><a href='../S/185.html#L24237'>pH</a>               24237 libdb/sqlite3.c     else             { pH-&gt;first = pNew; }</span>
<span class='curline'><a href='../S/185.html#L24240'>pH</a>               24240 libdb/sqlite3.c     pNew-&gt;next = pH-&gt;first;</span>
<span class='curline'><a href='../S/185.html#L24241'>pH</a>               24241 libdb/sqlite3.c     if( pH-&gt;first ){ pH-&gt;first-&gt;prev = pNew; }</span>
<span class='curline'><a href='../S/185.html#L24243'>pH</a>               24243 libdb/sqlite3.c     pH-&gt;first = pNew;</span>
<span class='curline'><a href='../S/185.html#L24254'>pH</a>               24254 libdb/sqlite3.c static int rehash(Hash *pH, unsigned int new_size){</span>
<span class='curline'><a href='../S/185.html#L24262'>pH</a>               24262 libdb/sqlite3.c   if( new_size==pH-&gt;htsize ) return 0;</span>
<span class='curline'><a href='../S/185.html#L24278'>pH</a>               24278 libdb/sqlite3.c   sqlite3_free(pH-&gt;ht);</span>
<span class='curline'><a href='../S/185.html#L24279'>pH</a>               24279 libdb/sqlite3.c   pH-&gt;ht = new_ht;</span>
<span class='curline'><a href='../S/185.html#L24280'>pH</a>               24280 libdb/sqlite3.c   pH-&gt;htsize = new_size = sqlite3MallocSize(new_ht)/sizeof(struct _ht);</span>
<span class='curline'><a href='../S/185.html#L24282'>pH</a>               24282 libdb/sqlite3.c   for(elem=pH-&gt;first, pH-&gt;first=0; elem; elem = next_elem){</span>
<span class='curline'><a href='../S/185.html#L24285'>pH</a>               24285 libdb/sqlite3.c     insertElement(pH, &amp;new_ht[h], elem);</span>
<span class='curline'><a href='../S/185.html#L24295'>pH</a>               24295 libdb/sqlite3.c   const Hash *pH,     /* The pH to be searched */</span>
<span class='curline'><a href='../S/185.html#L24303'>pH</a>               24303 libdb/sqlite3.c   if( pH-&gt;ht ){</span>
<span class='curline'><a href='../S/185.html#L24305'>pH</a>               24305 libdb/sqlite3.c     h = strHash(pKey) % pH-&gt;htsize;</span>
<span class='curline'><a href='../S/185.html#L24306'>pH</a>               24306 libdb/sqlite3.c     pEntry = &amp;pH-&gt;ht[h];</span>
<span class='curline'><a href='../S/185.html#L24311'>pH</a>               24311 libdb/sqlite3.c     elem = pH-&gt;first;</span>
<span class='curline'><a href='../S/185.html#L24312'>pH</a>               24312 libdb/sqlite3.c     count = pH-&gt;count;</span>
<span class='curline'><a href='../S/185.html#L24329'>pH</a>               24329 libdb/sqlite3.c   Hash *pH,         /* The pH containing "elem" */</span>
<span class='curline'><a href='../S/185.html#L24337'>pH</a>               24337 libdb/sqlite3.c     pH-&gt;first = elem-&gt;next;</span>
<span class='curline'><a href='../S/185.html#L24342'>pH</a>               24342 libdb/sqlite3.c   if( pH-&gt;ht ){</span>
<span class='curline'><a href='../S/185.html#L24343'>pH</a>               24343 libdb/sqlite3.c     pEntry = &amp;pH-&gt;ht[h];</span>
<span class='curline'><a href='../S/185.html#L24351'>pH</a>               24351 libdb/sqlite3.c   pH-&gt;count--;</span>
<span class='curline'><a href='../S/185.html#L24352'>pH</a>               24352 libdb/sqlite3.c   if( pH-&gt;count==0 ){</span>
<span class='curline'><a href='../S/185.html#L24353'>pH</a>               24353 libdb/sqlite3.c     assert( pH-&gt;first==0 );</span>
<span class='curline'><a href='../S/185.html#L24354'>pH</a>               24354 libdb/sqlite3.c     assert( pH-&gt;count==0 );</span>
<span class='curline'><a href='../S/185.html#L24355'>pH</a>               24355 libdb/sqlite3.c     sqlite3HashClear(pH);</span>
<span class='curline'><a href='../S/185.html#L24363'>pH</a>               24363 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3HashFind(const Hash *pH, const char *pKey){</span>
<span class='curline'><a href='../S/185.html#L24367'>pH</a>               24367 libdb/sqlite3.c   assert( pH!=0 );</span>
<span class='curline'><a href='../S/185.html#L24369'>pH</a>               24369 libdb/sqlite3.c   elem = findElementWithHash(pH, pKey, &amp;h);</span>
<span class='curline'><a href='../S/185.html#L24387'>pH</a>               24387 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3HashInsert(Hash *pH, const char *pKey, void *data){</span>
<span class='curline'><a href='../S/185.html#L24392'>pH</a>               24392 libdb/sqlite3.c   assert( pH!=0 );</span>
<span class='curline'><a href='../S/185.html#L24394'>pH</a>               24394 libdb/sqlite3.c   elem = findElementWithHash(pH,pKey,&amp;h);</span>
<span class='curline'><a href='../S/185.html#L24398'>pH</a>               24398 libdb/sqlite3.c       removeElementGivenHash(pH,elem,h);</span>
<span class='curline'><a href='../S/185.html#L24410'>pH</a>               24410 libdb/sqlite3.c   pH-&gt;count++;</span>
<span class='curline'><a href='../S/185.html#L24411'>pH</a>               24411 libdb/sqlite3.c   if( pH-&gt;count&gt;=10 &amp;&amp; pH-&gt;count &gt; 2*pH-&gt;htsize ){</span>
<span class='curline'><a href='../S/185.html#L24412'>pH</a>               24412 libdb/sqlite3.c     if( rehash(pH, pH-&gt;count*2) ){</span>
<span class='curline'><a href='../S/185.html#L24413'>pH</a>               24413 libdb/sqlite3.c       assert( pH-&gt;htsize&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L24414'>pH</a>               24414 libdb/sqlite3.c       h = strHash(pKey) % pH-&gt;htsize;</span>
<span class='curline'><a href='../S/185.html#L24417'>pH</a>               24417 libdb/sqlite3.c   insertElement(pH, pH-&gt;ht ? &amp;pH-&gt;ht[h] : 0, new_elem);</span>
<span class='curline'><a href='../S/185.html#L37821'>pH</a>               37821 libdb/sqlite3.c static void (*winDlSym(sqlite3_vfs *pVfs,void *pH,const char *zSym))(void){</span>
<span class='curline'><a href='../S/185.html#L37824'>pH</a>               37824 libdb/sqlite3.c   proc = osGetProcAddressA((HANDLE)pH, zSym);</span>
<span class='curline'><a href='../S/185.html#L37826'>pH</a>               37826 libdb/sqlite3.c            (void*)pH, zSym, (void*)proc));</span>
<span class='curline'><a href='../S/185.html#L137300'>pH</a>               137300 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3Fts3HashClear(Fts3Hash *pH){</span>
<span class='curline'><a href='../S/185.html#L137303'>pH</a>               137303 libdb/sqlite3.c   assert( pH!=0 );</span>
<span class='curline'><a href='../S/185.html#L137304'>pH</a>               137304 libdb/sqlite3.c   elem = pH-&gt;first;</span>
<span class='curline'><a href='../S/185.html#L137305'>pH</a>               137305 libdb/sqlite3.c   pH-&gt;first = 0;</span>
<span class='curline'><a href='../S/185.html#L137306'>pH</a>               137306 libdb/sqlite3.c   fts3HashFree(pH-&gt;ht);</span>
<span class='curline'><a href='../S/185.html#L137307'>pH</a>               137307 libdb/sqlite3.c   pH-&gt;ht = 0;</span>
<span class='curline'><a href='../S/185.html#L137308'>pH</a>               137308 libdb/sqlite3.c   pH-&gt;htsize = 0;</span>
<span class='curline'><a href='../S/185.html#L137311'>pH</a>               137311 libdb/sqlite3.c     if( pH-&gt;copyKey &amp;&amp; elem-&gt;pKey ){</span>
<span class='curline'><a href='../S/185.html#L137317'>pH</a>               137317 libdb/sqlite3.c   pH-&gt;count = 0;</span>
<span class='curline'><a href='../S/185.html#L137393'>pH</a>               137393 libdb/sqlite3.c   Fts3Hash *pH,            /* The complete hash table */</span>
<span class='curline'><a href='../S/185.html#L137403'>pH</a>               137403 libdb/sqlite3.c     else             { pH-&gt;first = pNew; }</span>
<span class='curline'><a href='../S/185.html#L137406'>pH</a>               137406 libdb/sqlite3.c     pNew-&gt;next = pH-&gt;first;</span>
<span class='curline'><a href='../S/185.html#L137407'>pH</a>               137407 libdb/sqlite3.c     if( pH-&gt;first ){ pH-&gt;first-&gt;prev = pNew; }</span>
<span class='curline'><a href='../S/185.html#L137409'>pH</a>               137409 libdb/sqlite3.c     pH-&gt;first = pNew;</span>
<span class='curline'><a href='../S/185.html#L137422'>pH</a>               137422 libdb/sqlite3.c static int fts3Rehash(Fts3Hash *pH, int new_size){</span>
<span class='curline'><a href='../S/185.html#L137430'>pH</a>               137430 libdb/sqlite3.c   fts3HashFree(pH-&gt;ht);</span>
<span class='curline'><a href='../S/185.html#L137431'>pH</a>               137431 libdb/sqlite3.c   pH-&gt;ht = new_ht;</span>
<span class='curline'><a href='../S/185.html#L137432'>pH</a>               137432 libdb/sqlite3.c   pH-&gt;htsize = new_size;</span>
<span class='curline'><a href='../S/185.html#L137433'>pH</a>               137433 libdb/sqlite3.c   xHash = ftsHashFunction(pH-&gt;keyClass);</span>
<span class='curline'><a href='../S/185.html#L137434'>pH</a>               137434 libdb/sqlite3.c   for(elem=pH-&gt;first, pH-&gt;first=0; elem; elem = next_elem){</span>
<span class='curline'><a href='../S/185.html#L137437'>pH</a>               137437 libdb/sqlite3.c     fts3HashInsertElement(pH, &amp;new_ht[h], elem);</span>
<span class='curline'><a href='../S/185.html#L137447'>pH</a>               137447 libdb/sqlite3.c   const Fts3Hash *pH, /* The pH to be searched */</span>
<span class='curline'><a href='../S/185.html#L137456'>pH</a>               137456 libdb/sqlite3.c   if( pH-&gt;ht ){</span>
<span class='curline'><a href='../S/185.html#L137457'>pH</a>               137457 libdb/sqlite3.c     struct _fts3ht *pEntry = &amp;pH-&gt;ht[h];</span>
<span class='curline'><a href='../S/185.html#L137460'>pH</a>               137460 libdb/sqlite3.c     xCompare = ftsCompareFunction(pH-&gt;keyClass);</span>
<span class='curline'><a href='../S/185.html#L137475'>pH</a>               137475 libdb/sqlite3.c   Fts3Hash *pH,         /* The pH containing "elem" */</span>
<span class='curline'><a href='../S/185.html#L137483'>pH</a>               137483 libdb/sqlite3.c     pH-&gt;first = elem-&gt;next;</span>
<span class='curline'><a href='../S/185.html#L137488'>pH</a>               137488 libdb/sqlite3.c   pEntry = &amp;pH-&gt;ht[h];</span>
<span class='curline'><a href='../S/185.html#L137496'>pH</a>               137496 libdb/sqlite3.c   if( pH-&gt;copyKey &amp;&amp; elem-&gt;pKey ){</span>
<span class='curline'><a href='../S/185.html#L137500'>pH</a>               137500 libdb/sqlite3.c   pH-&gt;count--;</span>
<span class='curline'><a href='../S/185.html#L137501'>pH</a>               137501 libdb/sqlite3.c   if( pH-&gt;count&lt;=0 ){</span>
<span class='curline'><a href='../S/185.html#L137502'>pH</a>               137502 libdb/sqlite3.c     assert( pH-&gt;first==0 );</span>
<span class='curline'><a href='../S/185.html#L137503'>pH</a>               137503 libdb/sqlite3.c     assert( pH-&gt;count==0 );</span>
<span class='curline'><a href='../S/185.html#L137504'>pH</a>               137504 libdb/sqlite3.c     fts3HashClear(pH);</span>
<span class='curline'><a href='../S/185.html#L137509'>pH</a>               137509 libdb/sqlite3.c   const Fts3Hash *pH, </span>
<span class='curline'><a href='../S/185.html#L137516'>pH</a>               137516 libdb/sqlite3.c   if( pH==0 || pH-&gt;ht==0 ) return 0;</span>
<span class='curline'><a href='../S/185.html#L137517'>pH</a>               137517 libdb/sqlite3.c   xHash = ftsHashFunction(pH-&gt;keyClass);</span>
<span class='curline'><a href='../S/185.html#L137520'>pH</a>               137520 libdb/sqlite3.c   assert( (pH-&gt;htsize &amp; (pH-&gt;htsize-1))==0 );</span>
<span class='curline'><a href='../S/185.html#L137521'>pH</a>               137521 libdb/sqlite3.c   return fts3FindElementByHash(pH,pKey,nKey, h &amp; (pH-&gt;htsize-1));</span>
<span class='curline'><a href='../S/185.html#L137529'>pH</a>               137529 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3Fts3HashFind(const Fts3Hash *pH, const void *pKey, int nKey){</span>
<span class='curline'><a href='../S/185.html#L137532'>pH</a>               137532 libdb/sqlite3.c   pElem = sqlite3Fts3HashFindElem(pH, pKey, nKey);</span>
<span class='curline'><a href='../S/185.html#L137552'>pH</a>               137552 libdb/sqlite3.c   Fts3Hash *pH,        /* The hash table to insert into */</span>
<span class='curline'><a href='../S/185.html#L137563'>pH</a>               137563 libdb/sqlite3.c   assert( pH!=0 );</span>
<span class='curline'><a href='../S/185.html#L137564'>pH</a>               137564 libdb/sqlite3.c   xHash = ftsHashFunction(pH-&gt;keyClass);</span>
<span class='curline'><a href='../S/185.html#L137567'>pH</a>               137567 libdb/sqlite3.c   assert( (pH-&gt;htsize &amp; (pH-&gt;htsize-1))==0 );</span>
<span class='curline'><a href='../S/185.html#L137568'>pH</a>               137568 libdb/sqlite3.c   h = hraw &amp; (pH-&gt;htsize-1);</span>
<span class='curline'><a href='../S/185.html#L137569'>pH</a>               137569 libdb/sqlite3.c   elem = fts3FindElementByHash(pH,pKey,nKey,h);</span>
<span class='curline'><a href='../S/185.html#L137573'>pH</a>               137573 libdb/sqlite3.c       fts3RemoveElementByHash(pH,elem,h);</span>
<span class='curline'><a href='../S/185.html#L137580'>pH</a>               137580 libdb/sqlite3.c   if( (pH-&gt;htsize==0 &amp;&amp; fts3Rehash(pH,8))</span>
<span class='curline'><a href='../S/185.html#L137581'>pH</a>               137581 libdb/sqlite3.c    || (pH-&gt;count&gt;=pH-&gt;htsize &amp;&amp; fts3Rehash(pH, pH-&gt;htsize*2))</span>
<span class='curline'><a href='../S/185.html#L137583'>pH</a>               137583 libdb/sqlite3.c     pH-&gt;count = 0;</span>
<span class='curline'><a href='../S/185.html#L137586'>pH</a>               137586 libdb/sqlite3.c   assert( pH-&gt;htsize&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L137589'>pH</a>               137589 libdb/sqlite3.c   if( pH-&gt;copyKey &amp;&amp; pKey!=0 ){</span>
<span class='curline'><a href='../S/185.html#L137600'>pH</a>               137600 libdb/sqlite3.c   pH-&gt;count++;</span>
<span class='curline'><a href='../S/185.html#L137601'>pH</a>               137601 libdb/sqlite3.c   assert( pH-&gt;htsize&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L137602'>pH</a>               137602 libdb/sqlite3.c   assert( (pH-&gt;htsize &amp; (pH-&gt;htsize-1))==0 );</span>
<span class='curline'><a href='../S/185.html#L137603'>pH</a>               137603 libdb/sqlite3.c   h = hraw &amp; (pH-&gt;htsize-1);</span>
<span class='curline'><a href='../S/185.html#L137604'>pH</a>               137604 libdb/sqlite3.c   fts3HashInsertElement(pH, &amp;pH-&gt;ht[h], new_elem);</span>
</pre>
</body>
</html>
