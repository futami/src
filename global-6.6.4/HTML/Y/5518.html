<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>pPg</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L38781'>pPg</a>              38781 libdb/sqlite3.c   PgHdr *pPg;</span>
<span class='curline'><a href='../S/185.html#L38790'>pPg</a>              38790 libdb/sqlite3.c   for(pPg=pCache-&gt;pSynced; </span>
<span class='curline'><a href='../S/185.html#L38791'>pPg</a>              38791 libdb/sqlite3.c       pPg &amp;&amp; (pPg-&gt;nRef || (pPg-&gt;flags&amp;PGHDR_NEED_SYNC)); </span>
<span class='curline'><a href='../S/185.html#L38792'>pPg</a>              38792 libdb/sqlite3.c       pPg=pPg-&gt;pDirtyPrev</span>
<span class='curline'><a href='../S/185.html#L38794'>pPg</a>              38794 libdb/sqlite3.c   pCache-&gt;pSynced = pPg;</span>
<span class='curline'><a href='../S/185.html#L38795'>pPg</a>              38795 libdb/sqlite3.c   if( !pPg ){</span>
<span class='curline'><a href='../S/185.html#L38796'>pPg</a>              38796 libdb/sqlite3.c     for(pPg=pCache-&gt;pDirtyTail; pPg &amp;&amp; pPg-&gt;nRef; pPg=pPg-&gt;pDirtyPrev);</span>
<span class='curline'><a href='../S/185.html#L38798'>pPg</a>              38798 libdb/sqlite3.c   if( pPg ){</span>
<span class='curline'><a href='../S/185.html#L38803'>pPg</a>              38803 libdb/sqlite3.c                 pPg-&gt;pgno, pgno,</span>
<span class='curline'><a href='../S/185.html#L38807'>pPg</a>              38807 libdb/sqlite3.c     rc = pCache-&gt;xStress(pCache-&gt;pStress, pPg);</span>
<span class='curline'><a href='../S/185.html#L39453'>pPg</a>              39453 libdb/sqlite3.c   void *pPg;</span>
<span class='curline'><a href='../S/185.html#L39461'>pPg</a>              39461 libdb/sqlite3.c   pPg = pcache1Alloc(pCache-&gt;szPage);</span>
<span class='curline'><a href='../S/185.html#L39463'>pPg</a>              39463 libdb/sqlite3.c   if( !pPg || !p ){</span>
<span class='curline'><a href='../S/185.html#L39464'>pPg</a>              39464 libdb/sqlite3.c     pcache1Free(pPg);</span>
<span class='curline'><a href='../S/185.html#L39466'>pPg</a>              39466 libdb/sqlite3.c     pPg = 0;</span>
<span class='curline'><a href='../S/185.html#L39469'>pPg</a>              39469 libdb/sqlite3.c   pPg = pcache1Alloc(sizeof(PgHdr1) + pCache-&gt;szPage + pCache-&gt;szExtra);</span>
<span class='curline'><a href='../S/185.html#L39470'>pPg</a>              39470 libdb/sqlite3.c   p = (PgHdr1 *)&amp;((u8 *)pPg)[pCache-&gt;szPage];</span>
<span class='curline'><a href='../S/185.html#L39474'>pPg</a>              39474 libdb/sqlite3.c   if( pPg ){</span>
<span class='curline'><a href='../S/185.html#L39475'>pPg</a>              39475 libdb/sqlite3.c     p-&gt;page.pBuf = pPg;</span>
<span class='curline'><a href='../S/185.html#L40018'>pPg</a>              40018 libdb/sqlite3.c   sqlite3_pcache_page *pPg, </span>
<span class='curline'><a href='../S/185.html#L40022'>pPg</a>              40022 libdb/sqlite3.c   PgHdr1 *pPage = (PgHdr1 *)pPg;</span>
<span class='curline'><a href='../S/185.html#L40060'>pPg</a>              40060 libdb/sqlite3.c   sqlite3_pcache_page *pPg,</span>
<span class='curline'><a href='../S/185.html#L40065'>pPg</a>              40065 libdb/sqlite3.c   PgHdr1 *pPage = (PgHdr1 *)pPg;</span>
<span class='curline'><a href='../S/185.html#L41886'>pPg</a>              41886 libdb/sqlite3.c static int subjRequiresPage(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L41887'>pPg</a>              41887 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L41889'>pPg</a>              41889 libdb/sqlite3.c   Pgno pgno = pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/185.html#L41903'>pPg</a>              41903 libdb/sqlite3.c static int pageInJournal(Pager *pPager, PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L41904'>pPg</a>              41904 libdb/sqlite3.c   return sqlite3BitvecTest(pPager-&gt;pInJournal, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L42060'>pPg</a>              42060 libdb/sqlite3.c static void checkPage(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L42061'>pPg</a>              42061 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L42063'>pPg</a>              42063 libdb/sqlite3.c   assert( (pPg-&gt;flags&amp;PGHDR_DIRTY) || pPg-&gt;pageHash==pager_pagehash(pPg) );</span>
<span class='curline'><a href='../S/185.html#L43011'>pPg</a>              43011 libdb/sqlite3.c   PgHdr *pPg;                   /* An existing page in the cache */</span>
<span class='curline'><a href='../S/185.html#L43118'>pPg</a>              43118 libdb/sqlite3.c     pPg = 0;</span>
<span class='curline'><a href='../S/185.html#L43120'>pPg</a>              43120 libdb/sqlite3.c     pPg = sqlite3PagerLookup(pPager, pgno);</span>
<span class='curline'><a href='../S/185.html#L43122'>pPg</a>              43122 libdb/sqlite3.c   assert( pPg || !MEMDB );</span>
<span class='curline'><a href='../S/185.html#L43123'>pPg</a>              43123 libdb/sqlite3.c   assert( pPager-&gt;eState!=PAGER_OPEN || pPg==0 );</span>
<span class='curline'><a href='../S/185.html#L43131'>pPg</a>              43131 libdb/sqlite3.c     isSynced = (pPg==0 || 0==(pPg-&gt;flags &amp; PGHDR_NEED_SYNC));</span>
<span class='curline'><a href='../S/185.html#L43138'>pPg</a>              43138 libdb/sqlite3.c     testcase( !isSavepnt &amp;&amp; pPg!=0 &amp;&amp; (pPg-&gt;flags&amp;PGHDR_NEED_SYNC)!=0 );</span>
<span class='curline'><a href='../S/185.html#L43149'>pPg</a>              43149 libdb/sqlite3.c   }else if( !isMainJrnl &amp;&amp; pPg==0 ){</span>
<span class='curline'><a href='../S/185.html#L43169'>pPg</a>              43169 libdb/sqlite3.c     rc = sqlite3PagerAcquire(pPager, pgno, &amp;pPg, 1);</span>
<span class='curline'><a href='../S/185.html#L43173'>pPg</a>              43173 libdb/sqlite3.c     pPg-&gt;flags &amp;= ~PGHDR_NEED_READ;</span>
<span class='curline'><a href='../S/185.html#L43174'>pPg</a>              43174 libdb/sqlite3.c     sqlite3PcacheMakeDirty(pPg);</span>
<span class='curline'><a href='../S/185.html#L43176'>pPg</a>              43176 libdb/sqlite3.c   if( pPg ){</span>
<span class='curline'><a href='../S/185.html#L43184'>pPg</a>              43184 libdb/sqlite3.c     pData = pPg-&gt;pData;</span>
<span class='curline'><a href='../S/185.html#L43186'>pPg</a>              43186 libdb/sqlite3.c     pPager-&gt;xReiniter(pPg);</span>
<span class='curline'><a href='../S/185.html#L43208'>pPg</a>              43208 libdb/sqlite3.c       sqlite3PcacheMakeClean(pPg);</span>
<span class='curline'><a href='../S/185.html#L43210'>pPg</a>              43210 libdb/sqlite3.c     pager_set_pagehash(pPg);</span>
<span class='curline'><a href='../S/185.html#L43219'>pPg</a>              43219 libdb/sqlite3.c     CODEC1(pPager, pData, pPg-&gt;pgno, 3, rc=SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/185.html#L43220'>pPg</a>              43220 libdb/sqlite3.c     sqlite3PcacheRelease(pPg);</span>
<span class='curline'><a href='../S/185.html#L43729'>pPg</a>              43729 libdb/sqlite3.c static int readDbPage(PgHdr *pPg, u32 iFrame){</span>
<span class='curline'><a href='../S/185.html#L43730'>pPg</a>              43730 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager; /* Pager object associated with page pPg */</span>
<span class='curline'><a href='../S/185.html#L43731'>pPg</a>              43731 libdb/sqlite3.c   Pgno pgno = pPg-&gt;pgno;       /* Page number to read */</span>
<span class='curline'><a href='../S/185.html#L43741'>pPg</a>              43741 libdb/sqlite3.c     rc = sqlite3WalReadFrame(pPager-&gt;pWal, iFrame, pgsz, pPg-&gt;pData);</span>
<span class='curline'><a href='../S/185.html#L43746'>pPg</a>              43746 libdb/sqlite3.c     rc = sqlite3OsRead(pPager-&gt;fd, pPg-&gt;pData, pgsz, iOffset);</span>
<span class='curline'><a href='../S/185.html#L43768'>pPg</a>              43768 libdb/sqlite3.c       u8 *dbFileVers = &amp;((u8*)pPg-&gt;pData)[24];</span>
<span class='curline'><a href='../S/185.html#L43772'>pPg</a>              43772 libdb/sqlite3.c   CODEC1(pPager, pPg-&gt;pData, pgno, 3, rc = SQLITE_NOMEM);</span>
<span class='curline'><a href='../S/185.html#L43778'>pPg</a>              43778 libdb/sqlite3.c                PAGERID(pPager), pgno, pager_pagehash(pPg)));</span>
<span class='curline'><a href='../S/185.html#L43791'>pPg</a>              43791 libdb/sqlite3.c static void pager_write_changecounter(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L43795'>pPg</a>              43795 libdb/sqlite3.c   change_counter = sqlite3Get4byte((u8*)pPg-&gt;pPager-&gt;dbFileVers)+1;</span>
<span class='curline'><a href='../S/185.html#L43796'>pPg</a>              43796 libdb/sqlite3.c   put32bits(((char*)pPg-&gt;pData)+24, change_counter);</span>
<span class='curline'><a href='../S/185.html#L43801'>pPg</a>              43801 libdb/sqlite3.c   put32bits(((char*)pPg-&gt;pData)+92, change_counter);</span>
<span class='curline'><a href='../S/185.html#L43802'>pPg</a>              43802 libdb/sqlite3.c   put32bits(((char*)pPg-&gt;pData)+96, SQLITE_VERSION_NUMBER);</span>
<span class='curline'><a href='../S/185.html#L43821'>pPg</a>              43821 libdb/sqlite3.c   PgHdr *pPg;</span>
<span class='curline'><a href='../S/185.html#L43824'>pPg</a>              43824 libdb/sqlite3.c   pPg = sqlite3PagerLookup(pPager, iPg);</span>
<span class='curline'><a href='../S/185.html#L43825'>pPg</a>              43825 libdb/sqlite3.c   if( pPg ){</span>
<span class='curline'><a href='../S/185.html#L43826'>pPg</a>              43826 libdb/sqlite3.c     if( sqlite3PcachePageRefcount(pPg)==1 ){</span>
<span class='curline'><a href='../S/185.html#L43827'>pPg</a>              43827 libdb/sqlite3.c       sqlite3PcacheDrop(pPg);</span>
<span class='curline'><a href='../S/185.html#L43830'>pPg</a>              43830 libdb/sqlite3.c       rc = sqlite3WalFindFrame(pPager-&gt;pWal, pPg-&gt;pgno, &amp;iFrame);</span>
<span class='curline'><a href='../S/185.html#L43832'>pPg</a>              43832 libdb/sqlite3.c         rc = readDbPage(pPg, iFrame);</span>
<span class='curline'><a href='../S/185.html#L43835'>pPg</a>              43835 libdb/sqlite3.c         pPager-&gt;xReiniter(pPg);</span>
<span class='curline'><a href='../S/185.html#L43837'>pPg</a>              43837 libdb/sqlite3.c       sqlite3PagerUnrefNotNull(pPg);</span>
<span class='curline'><a href='../S/185.html#L44670'>pPg</a>              44670 libdb/sqlite3.c static void assertTruncateConstraintCb(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L44671'>pPg</a>              44671 libdb/sqlite3.c   assert( pPg-&gt;flags&amp;PGHDR_DIRTY );</span>
<span class='curline'><a href='../S/185.html#L44672'>pPg</a>              44672 libdb/sqlite3.c   assert( !subjRequiresPage(pPg) || pPg-&gt;pgno&lt;=pPg-&gt;pPager-&gt;dbSize );</span>
<span class='curline'><a href='../S/185.html#L44786'>pPg</a>              44786 libdb/sqlite3.c static void pagerReleaseMapPage(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L44787'>pPg</a>              44787 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L44789'>pPg</a>              44789 libdb/sqlite3.c   pPg-&gt;pDirty = pPager-&gt;pMmapFreelist;</span>
<span class='curline'><a href='../S/185.html#L44790'>pPg</a>              44790 libdb/sqlite3.c   pPager-&gt;pMmapFreelist = pPg;</span>
<span class='curline'><a href='../S/185.html#L44793'>pPg</a>              44793 libdb/sqlite3.c   sqlite3OsUnfetch(pPager-&gt;fd, (i64)(pPg-&gt;pgno-1)*pPager-&gt;pageSize, pPg-&gt;pData);</span>
<span class='curline'><a href='../S/185.html#L44880'>pPg</a>              44880 libdb/sqlite3.c SQLITE_PRIVATE Pgno sqlite3PagerPagenumber(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L44881'>pPg</a>              44881 libdb/sqlite3.c   return pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/185.html#L44888'>pPg</a>              44888 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3PagerRef(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L44889'>pPg</a>              44889 libdb/sqlite3.c   sqlite3PcacheRef(pPg);</span>
<span class='curline'><a href='../S/185.html#L45186'>pPg</a>              45186 libdb/sqlite3.c static int subjournalPage(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L45188'>pPg</a>              45188 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L45196'>pPg</a>              45196 libdb/sqlite3.c          || pageInJournal(pPager, pPg) </span>
<span class='curline'><a href='../S/185.html#L45197'>pPg</a>              45197 libdb/sqlite3.c          || pPg-&gt;pgno&gt;pPager-&gt;dbOrigSize </span>
<span class='curline'><a href='../S/185.html#L45204'>pPg</a>              45204 libdb/sqlite3.c       void *pData = pPg-&gt;pData;</span>
<span class='curline'><a href='../S/185.html#L45208'>pPg</a>              45208 libdb/sqlite3.c       CODEC2(pPager, pData, pPg-&gt;pgno, 7, return SQLITE_NOMEM, pData2);</span>
<span class='curline'><a href='../S/185.html#L45209'>pPg</a>              45209 libdb/sqlite3.c       PAGERTRACE(("STMT-JOURNAL %d page %d\n", PAGERID(pPager), pPg-&gt;pgno));</span>
<span class='curline'><a href='../S/185.html#L45210'>pPg</a>              45210 libdb/sqlite3.c       rc = write32bits(pPager-&gt;sjfd, offset, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L45219'>pPg</a>              45219 libdb/sqlite3.c     rc = addToSavepointBitvecs(pPager, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L45243'>pPg</a>              45243 libdb/sqlite3.c static int pagerStress(void *p, PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L45247'>pPg</a>              45247 libdb/sqlite3.c   assert( pPg-&gt;pPager==pPager );</span>
<span class='curline'><a href='../S/185.html#L45248'>pPg</a>              45248 libdb/sqlite3.c   assert( pPg-&gt;flags&amp;PGHDR_DIRTY );</span>
<span class='curline'><a href='../S/185.html#L45272'>pPg</a>              45272 libdb/sqlite3.c       || (pPg-&gt;flags &amp; PGHDR_NEED_SYNC)!=0)</span>
<span class='curline'><a href='../S/185.html#L45277'>pPg</a>              45277 libdb/sqlite3.c   pPg-&gt;pDirty = 0;</span>
<span class='curline'><a href='../S/185.html#L45280'>pPg</a>              45280 libdb/sqlite3.c     if( subjRequiresPage(pPg) ){ </span>
<span class='curline'><a href='../S/185.html#L45281'>pPg</a>              45281 libdb/sqlite3.c       rc = subjournalPage(pPg); </span>
<span class='curline'><a href='../S/185.html#L45284'>pPg</a>              45284 libdb/sqlite3.c       rc = pagerWalFrames(pPager, pPg, 0, 0);</span>
<span class='curline'><a href='../S/185.html#L45289'>pPg</a>              45289 libdb/sqlite3.c     if( pPg-&gt;flags&amp;PGHDR_NEED_SYNC </span>
<span class='curline'><a href='../S/185.html#L45323'>pPg</a>              45323 libdb/sqlite3.c         rc==SQLITE_OK &amp;&amp; pPg-&gt;pgno&gt;pPager-&gt;dbSize &amp;&amp; subjRequiresPage(pPg)</span>
<span class='curline'><a href='../S/185.html#L45325'>pPg</a>              45325 libdb/sqlite3.c       rc = subjournalPage(pPg);</span>
<span class='curline'><a href='../S/185.html#L45330'>pPg</a>              45330 libdb/sqlite3.c       assert( (pPg-&gt;flags&amp;PGHDR_NEED_SYNC)==0 );</span>
<span class='curline'><a href='../S/185.html#L45331'>pPg</a>              45331 libdb/sqlite3.c       rc = pager_write_pagelist(pPager, pPg);</span>
<span class='curline'><a href='../S/185.html#L45337'>pPg</a>              45337 libdb/sqlite3.c     PAGERTRACE(("STRESS %d page %d\n", PAGERID(pPager), pPg-&gt;pgno));</span>
<span class='curline'><a href='../S/185.html#L45338'>pPg</a>              45338 libdb/sqlite3.c     sqlite3PcacheMakeClean(pPg);</span>
<span class='curline'><a href='../S/185.html#L46134'>pPg</a>              46134 libdb/sqlite3.c   PgHdr *pPg = 0;</span>
<span class='curline'><a href='../S/185.html#L46176'>pPg</a>              46176 libdb/sqlite3.c           pPg = sqlite3PagerLookup(pPager, pgno);</span>
<span class='curline'><a href='../S/185.html#L46178'>pPg</a>              46178 libdb/sqlite3.c         if( pPg==0 ){</span>
<span class='curline'><a href='../S/185.html#L46179'>pPg</a>              46179 libdb/sqlite3.c           rc = pagerAcquireMapPage(pPager, pgno, pData, &amp;pPg);</span>
<span class='curline'><a href='../S/185.html#L46183'>pPg</a>              46183 libdb/sqlite3.c         if( pPg ){</span>
<span class='curline'><a href='../S/185.html#L46185'>pPg</a>              46185 libdb/sqlite3.c           *ppPage = pPg;</span>
<span class='curline'><a href='../S/185.html#L46201'>pPg</a>              46201 libdb/sqlite3.c       pPg = *ppPage = sqlite3PcacheFetchFinish(pPager-&gt;pPCache, pgno, pBase);</span>
<span class='curline'><a href='../S/185.html#L46202'>pPg</a>              46202 libdb/sqlite3.c       if( pPg==0 ) rc = SQLITE_NOMEM;</span>
<span class='curline'><a href='../S/185.html#L46210'>pPg</a>              46210 libdb/sqlite3.c     pPg = 0;</span>
<span class='curline'><a href='../S/185.html#L46227'>pPg</a>              46227 libdb/sqlite3.c     pPg = *ppPage;</span>
<span class='curline'><a href='../S/185.html#L46228'>pPg</a>              46228 libdb/sqlite3.c     pPg-&gt;pPager = pPager;</span>
<span class='curline'><a href='../S/185.html#L46258'>pPg</a>              46258 libdb/sqlite3.c       memset(pPg-&gt;pData, 0, pPager-&gt;pageSize);</span>
<span class='curline'><a href='../S/185.html#L46265'>pPg</a>              46265 libdb/sqlite3.c       assert( pPg-&gt;pPager==pPager );</span>
<span class='curline'><a href='../S/185.html#L46267'>pPg</a>              46267 libdb/sqlite3.c       rc = readDbPage(pPg, iFrame);</span>
<span class='curline'><a href='../S/185.html#L46272'>pPg</a>              46272 libdb/sqlite3.c     pager_set_pagehash(pPg);</span>
<span class='curline'><a href='../S/185.html#L46279'>pPg</a>              46279 libdb/sqlite3.c   if( pPg ){</span>
<span class='curline'><a href='../S/185.html#L46280'>pPg</a>              46280 libdb/sqlite3.c     sqlite3PcacheDrop(pPg);</span>
<span class='curline'><a href='../S/185.html#L46316'>pPg</a>              46316 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3PagerUnrefNotNull(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L46318'>pPg</a>              46318 libdb/sqlite3.c   assert( pPg!=0 );</span>
<span class='curline'><a href='../S/185.html#L46319'>pPg</a>              46319 libdb/sqlite3.c   pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L46320'>pPg</a>              46320 libdb/sqlite3.c   if( pPg-&gt;flags &amp; PGHDR_MMAP ){</span>
<span class='curline'><a href='../S/185.html#L46321'>pPg</a>              46321 libdb/sqlite3.c     pagerReleaseMapPage(pPg);</span>
<span class='curline'><a href='../S/185.html#L46323'>pPg</a>              46323 libdb/sqlite3.c     sqlite3PcacheRelease(pPg);</span>
<span class='curline'><a href='../S/185.html#L46327'>pPg</a>              46327 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3PagerUnref(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L46328'>pPg</a>              46328 libdb/sqlite3.c   if( pPg ) sqlite3PagerUnrefNotNull(pPg);</span>
<span class='curline'><a href='../S/185.html#L46515'>pPg</a>              46515 libdb/sqlite3.c static int pager_write(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L46516'>pPg</a>              46516 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L46532'>pPg</a>              46532 libdb/sqlite3.c   CHECK_PAGE(pPg);</span>
<span class='curline'><a href='../S/185.html#L46553'>pPg</a>              46553 libdb/sqlite3.c   sqlite3PcacheMakeDirty(pPg);</span>
<span class='curline'><a href='../S/185.html#L46554'>pPg</a>              46554 libdb/sqlite3.c   inJournal = pageInJournal(pPager, pPg);</span>
<span class='curline'><a href='../S/185.html#L46555'>pPg</a>              46555 libdb/sqlite3.c   if( inJournal &amp;&amp; (pPager-&gt;nSavepoint==0 || !subjRequiresPage(pPg)) ){</span>
<span class='curline'><a href='../S/185.html#L46565'>pPg</a>              46565 libdb/sqlite3.c       if( pPg-&gt;pgno&lt;=pPager-&gt;dbOrigSize &amp;&amp; isOpen(pPager-&gt;jfd) ){</span>
<span class='curline'><a href='../S/185.html#L46573'>pPg</a>              46573 libdb/sqlite3.c         assert( pPg-&gt;pgno!=PAGER_MJ_PGNO(pPager) );</span>
<span class='curline'><a href='../S/185.html#L46576'>pPg</a>              46576 libdb/sqlite3.c         CODEC2(pPager, pPg-&gt;pData, pPg-&gt;pgno, 7, return SQLITE_NOMEM, pData2);</span>
<span class='curline'><a href='../S/185.html#L46586'>pPg</a>              46586 libdb/sqlite3.c         pPg-&gt;flags |= PGHDR_NEED_SYNC;</span>
<span class='curline'><a href='../S/185.html#L46588'>pPg</a>              46588 libdb/sqlite3.c         rc = write32bits(pPager-&gt;jfd, iOff, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L46595'>pPg</a>              46595 libdb/sqlite3.c         IOTRACE(("JOUT %p %d %lld %d\n", pPager, pPg-&gt;pgno, </span>
<span class='curline'><a href='../S/185.html#L46599'>pPg</a>              46599 libdb/sqlite3.c              PAGERID(pPager), pPg-&gt;pgno, </span>
<span class='curline'><a href='../S/185.html#L46600'>pPg</a>              46600 libdb/sqlite3.c              ((pPg-&gt;flags&amp;PGHDR_NEED_SYNC)?1:0), pager_pagehash(pPg)));</span>
<span class='curline'><a href='../S/185.html#L46605'>pPg</a>              46605 libdb/sqlite3.c         rc = sqlite3BitvecSet(pPager-&gt;pInJournal, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L46608'>pPg</a>              46608 libdb/sqlite3.c         rc |= addToSavepointBitvecs(pPager, pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L46615'>pPg</a>              46615 libdb/sqlite3.c           pPg-&gt;flags |= PGHDR_NEED_SYNC;</span>
<span class='curline'><a href='../S/185.html#L46618'>pPg</a>              46618 libdb/sqlite3.c                 PAGERID(pPager), pPg-&gt;pgno,</span>
<span class='curline'><a href='../S/185.html#L46619'>pPg</a>              46619 libdb/sqlite3.c                ((pPg-&gt;flags&amp;PGHDR_NEED_SYNC)?1:0)));</span>
<span class='curline'><a href='../S/185.html#L46628'>pPg</a>              46628 libdb/sqlite3.c     if( pPager-&gt;nSavepoint&gt;0 &amp;&amp; subjRequiresPage(pPg) ){</span>
<span class='curline'><a href='../S/185.html#L46629'>pPg</a>              46629 libdb/sqlite3.c       rc = subjournalPage(pPg);</span>
<span class='curline'><a href='../S/185.html#L46635'>pPg</a>              46635 libdb/sqlite3.c   if( pPager-&gt;dbSize&lt;pPg-&gt;pgno ){</span>
<span class='curline'><a href='../S/185.html#L46636'>pPg</a>              46636 libdb/sqlite3.c     pPager-&gt;dbSize = pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/185.html#L46652'>pPg</a>              46652 libdb/sqlite3.c static SQLITE_NOINLINE int pagerWriteLargeSector(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L46659'>pPg</a>              46659 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;   /* The pager that owns pPg */</span>
<span class='curline'><a href='../S/185.html#L46674'>pPg</a>              46674 libdb/sqlite3.c   pg1 = ((pPg-&gt;pgno-1) &amp; ~(nPagePerSector-1)) + 1;</span>
<span class='curline'><a href='../S/185.html#L46677'>pPg</a>              46677 libdb/sqlite3.c   if( pPg-&gt;pgno&gt;nPageCount ){</span>
<span class='curline'><a href='../S/185.html#L46678'>pPg</a>              46678 libdb/sqlite3.c     nPage = (pPg-&gt;pgno - pg1)+1;</span>
<span class='curline'><a href='../S/185.html#L46685'>pPg</a>              46685 libdb/sqlite3.c   assert(pg1&lt;=pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L46686'>pPg</a>              46686 libdb/sqlite3.c   assert((pg1+nPage)&gt;pPg-&gt;pgno);</span>
<span class='curline'><a href='../S/185.html#L46691'>pPg</a>              46691 libdb/sqlite3.c     if( pg==pPg-&gt;pgno || !sqlite3BitvecTest(pPager-&gt;pInJournal, pg) ){</span>
<span class='curline'><a href='../S/185.html#L46746'>pPg</a>              46746 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3PagerWrite(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L46747'>pPg</a>              46747 libdb/sqlite3.c   assert( (pPg-&gt;flags &amp; PGHDR_MMAP)==0 );</span>
<span class='curline'><a href='../S/185.html#L46748'>pPg</a>              46748 libdb/sqlite3.c   assert( pPg-&gt;pPager-&gt;eState&gt;=PAGER_WRITER_LOCKED );</span>
<span class='curline'><a href='../S/185.html#L46749'>pPg</a>              46749 libdb/sqlite3.c   assert( pPg-&gt;pPager-&gt;eState!=PAGER_ERROR );</span>
<span class='curline'><a href='../S/185.html#L46750'>pPg</a>              46750 libdb/sqlite3.c   assert( assert_pager_state(pPg-&gt;pPager) );</span>
<span class='curline'><a href='../S/185.html#L46751'>pPg</a>              46751 libdb/sqlite3.c   if( pPg-&gt;pPager-&gt;sectorSize &gt; (u32)pPg-&gt;pPager-&gt;pageSize ){</span>
<span class='curline'><a href='../S/185.html#L46752'>pPg</a>              46752 libdb/sqlite3.c     return pagerWriteLargeSector(pPg);</span>
<span class='curline'><a href='../S/185.html#L46754'>pPg</a>              46754 libdb/sqlite3.c     return pager_write(pPg);</span>
<span class='curline'><a href='../S/185.html#L46764'>pPg</a>              46764 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3PagerIswriteable(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L46765'>pPg</a>              46765 libdb/sqlite3.c   return pPg-&gt;flags&amp;PGHDR_DIRTY;</span>
<span class='curline'><a href='../S/185.html#L46783'>pPg</a>              46783 libdb/sqlite3.c SQLITE_PRIVATE void sqlite3PagerDontWrite(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L46784'>pPg</a>              46784 libdb/sqlite3.c   Pager *pPager = pPg-&gt;pPager;</span>
<span class='curline'><a href='../S/185.html#L46785'>pPg</a>              46785 libdb/sqlite3.c   if( (pPg-&gt;flags&amp;PGHDR_DIRTY) &amp;&amp; pPager-&gt;nSavepoint==0 ){</span>
<span class='curline'><a href='../S/185.html#L46786'>pPg</a>              46786 libdb/sqlite3.c     PAGERTRACE(("DONT_WRITE page %d of %d\n", pPg-&gt;pgno, PAGERID(pPager)));</span>
<span class='curline'><a href='../S/185.html#L46787'>pPg</a>              46787 libdb/sqlite3.c     IOTRACE(("CLEAN %p %d\n", pPager, pPg-&gt;pgno))</span>
<span class='curline'><a href='../S/185.html#L46788'>pPg</a>              46788 libdb/sqlite3.c     pPg-&gt;flags |= PGHDR_DONT_WRITE;</span>
<span class='curline'><a href='../S/185.html#L46789'>pPg</a>              46789 libdb/sqlite3.c     pager_set_pagehash(pPg);</span>
<span class='curline'><a href='../S/185.html#L47036'>pPg</a>              47036 libdb/sqlite3.c       PgHdr *pPg;</span>
<span class='curline'><a href='../S/185.html#L47044'>pPg</a>              47044 libdb/sqlite3.c        &amp;&amp; (0==(pPg = sqlite3PcacheDirtyList(pPager-&gt;pPCache)) || 0==pPg-&gt;pDirty)</span>
<span class='curline'><a href='../S/185.html#L47542'>pPg</a>              47542 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3PagerCodec(PgHdr *pPg){</span>
<span class='curline'><a href='../S/185.html#L47544'>pPg</a>              47544 libdb/sqlite3.c   CODEC2(pPg-&gt;pPager, pPg-&gt;pData, pPg-&gt;pgno, 6, return 0, aData);</span>
<span class='curline'><a href='../S/185.html#L47582'>pPg</a>              47582 libdb/sqlite3.c SQLITE_PRIVATE int sqlite3PagerMovepage(Pager *pPager, DbPage *pPg, Pgno pgno, int isCommit){</span>
<span class='curline'><a href='../S/185.html#L47588'>pPg</a>              47588 libdb/sqlite3.c   assert( pPg-&gt;nRef&gt;0 );</span>
<span class='curline'><a href='../S/185.html#L47598'>pPg</a>              47598 libdb/sqlite3.c     rc = sqlite3PagerWrite(pPg);</span>
<span class='curline'><a href='../S/185.html#L47620'>pPg</a>              47620 libdb/sqlite3.c   if( pPg-&gt;flags&amp;PGHDR_DIRTY</span>
<span class='curline'><a href='../S/185.html#L47621'>pPg</a>              47621 libdb/sqlite3.c    &amp;&amp; subjRequiresPage(pPg)</span>
<span class='curline'><a href='../S/185.html#L47622'>pPg</a>              47622 libdb/sqlite3.c    &amp;&amp; SQLITE_OK!=(rc = subjournalPage(pPg))</span>
<span class='curline'><a href='../S/185.html#L47628'>pPg</a>              47628 libdb/sqlite3.c       PAGERID(pPager), pPg-&gt;pgno, (pPg-&gt;flags&amp;PGHDR_NEED_SYNC)?1:0, pgno));</span>
<span class='curline'><a href='../S/185.html#L47629'>pPg</a>              47629 libdb/sqlite3.c   IOTRACE(("MOVE %p %d %d\n", pPager, pPg-&gt;pgno, pgno))</span>
<span class='curline'><a href='../S/185.html#L47638'>pPg</a>              47638 libdb/sqlite3.c   if( (pPg-&gt;flags&amp;PGHDR_NEED_SYNC) &amp;&amp; !isCommit ){</span>
<span class='curline'><a href='../S/185.html#L47639'>pPg</a>              47639 libdb/sqlite3.c     needSyncPgno = pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/185.html#L47641'>pPg</a>              47641 libdb/sqlite3.c             pageInJournal(pPager, pPg) || pPg-&gt;pgno&gt;pPager-&gt;dbOrigSize );</span>
<span class='curline'><a href='../S/185.html#L47642'>pPg</a>              47642 libdb/sqlite3.c     assert( pPg-&gt;flags&amp;PGHDR_DIRTY );</span>
<span class='curline'><a href='../S/185.html#L47650'>pPg</a>              47650 libdb/sqlite3.c   pPg-&gt;flags &amp;= ~PGHDR_NEED_SYNC;</span>
<span class='curline'><a href='../S/185.html#L47654'>pPg</a>              47654 libdb/sqlite3.c     pPg-&gt;flags |= (pPgOld-&gt;flags&amp;PGHDR_NEED_SYNC);</span>
<span class='curline'><a href='../S/185.html#L47664'>pPg</a>              47664 libdb/sqlite3.c   origPgno = pPg-&gt;pgno;</span>
<span class='curline'><a href='../S/185.html#L47665'>pPg</a>              47665 libdb/sqlite3.c   sqlite3PcacheMove(pPg, pgno);</span>
<span class='curline'><a href='../S/185.html#L47666'>pPg</a>              47666 libdb/sqlite3.c   sqlite3PcacheMakeDirty(pPg);</span>
<span class='curline'><a href='../S/185.html#L47714'>pPg</a>              47714 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3PagerGetData(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L47715'>pPg</a>              47715 libdb/sqlite3.c   assert( pPg-&gt;nRef&gt;0 || pPg-&gt;pPager-&gt;memDb );</span>
<span class='curline'><a href='../S/185.html#L47716'>pPg</a>              47716 libdb/sqlite3.c   return pPg-&gt;pData;</span>
<span class='curline'><a href='../S/185.html#L47723'>pPg</a>              47723 libdb/sqlite3.c SQLITE_PRIVATE void *sqlite3PagerGetExtra(DbPage *pPg){</span>
<span class='curline'><a href='../S/185.html#L47724'>pPg</a>              47724 libdb/sqlite3.c   return pPg-&gt;pExtra;</span>
<span class='curline'><a href='../S/185.html#L57539'>pPg</a>              57539 libdb/sqlite3.c       MemPage *pPg = 0;</span>
<span class='curline'><a href='../S/185.html#L57542'>pPg</a>              57542 libdb/sqlite3.c       rc = btreeGetPage(pBt, pBt-&gt;nPage, &amp;pPg, bNoContent);</span>
<span class='curline'><a href='../S/185.html#L57544'>pPg</a>              57544 libdb/sqlite3.c         rc = sqlite3PagerWrite(pPg-&gt;pDbPage);</span>
<span class='curline'><a href='../S/185.html#L57545'>pPg</a>              57545 libdb/sqlite3.c         releasePage(pPg);</span>
<span class='curline'><a href='../S/185.html#L61364'>pPg</a>              61364 libdb/sqlite3.c               DbPage *pPg;</span>
<span class='curline'><a href='../S/185.html#L61365'>pPg</a>              61365 libdb/sqlite3.c               rc = sqlite3PagerGet(pDestPager, iPg, &amp;pPg);</span>
<span class='curline'><a href='../S/185.html#L61367'>pPg</a>              61367 libdb/sqlite3.c                 rc = sqlite3PagerWrite(pPg);</span>
<span class='curline'><a href='../S/185.html#L61368'>pPg</a>              61368 libdb/sqlite3.c                 sqlite3PagerUnref(pPg);</span>
</pre>
</body>
</html>
