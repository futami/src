<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>mem0</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/185.html#L19992'>mem0</a>             19992 libdb/sqlite3.c } mem0 = { 0, 0, 0, 0, 0, 0, 0, 0 };</span>
<span class='curline'><a href='../S/185.html#L19994'>mem0</a>             19994 libdb/sqlite3.c #define mem0 GLOBAL(struct Mem0Global, mem0)</span>
<span class='curline'><a href='../S/185.html#L20019'>mem0</a>             20019 libdb/sqlite3.c   sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20020'>mem0</a>             20020 libdb/sqlite3.c   mem0.alarmCallback = xCallback;</span>
<span class='curline'><a href='../S/185.html#L20021'>mem0</a>             20021 libdb/sqlite3.c   mem0.alarmArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L20022'>mem0</a>             20022 libdb/sqlite3.c   mem0.alarmThreshold = iThreshold;</span>
<span class='curline'><a href='../S/185.html#L20024'>mem0</a>             20024 libdb/sqlite3.c   mem0.nearlyFull = (iThreshold&gt;0 &amp;&amp; iThreshold&lt;=nUsed);</span>
<span class='curline'><a href='../S/185.html#L20025'>mem0</a>             20025 libdb/sqlite3.c   sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20054'>mem0</a>             20054 libdb/sqlite3.c   sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20055'>mem0</a>             20055 libdb/sqlite3.c   priorLimit = mem0.alarmThreshold;</span>
<span class='curline'><a href='../S/185.html#L20056'>mem0</a>             20056 libdb/sqlite3.c   sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20079'>mem0</a>             20079 libdb/sqlite3.c   memset(&amp;mem0, 0, sizeof(mem0));</span>
<span class='curline'><a href='../S/185.html#L20081'>mem0</a>             20081 libdb/sqlite3.c     mem0.mutex = sqlite3MutexAlloc(SQLITE_MUTEX_STATIC_MEM);</span>
<span class='curline'><a href='../S/185.html#L20091'>mem0</a>             20091 libdb/sqlite3.c     mem0.pScratchFree = pSlot;</span>
<span class='curline'><a href='../S/185.html#L20092'>mem0</a>             20092 libdb/sqlite3.c     mem0.nScratchFree = n;</span>
<span class='curline'><a href='../S/185.html#L20098'>mem0</a>             20098 libdb/sqlite3.c     mem0.pScratchEnd = (void*)&amp;pSlot[1];</span>
<span class='curline'><a href='../S/185.html#L20100'>mem0</a>             20100 libdb/sqlite3.c     mem0.pScratchEnd = 0;</span>
<span class='curline'><a href='../S/185.html#L20120'>mem0</a>             20120 libdb/sqlite3.c   return mem0.nearlyFull;</span>
<span class='curline'><a href='../S/185.html#L20130'>mem0</a>             20130 libdb/sqlite3.c   memset(&amp;mem0, 0, sizeof(mem0));</span>
<span class='curline'><a href='../S/185.html#L20164'>mem0</a>             20164 libdb/sqlite3.c   if( mem0.alarmCallback==0 ) return;</span>
<span class='curline'><a href='../S/185.html#L20165'>mem0</a>             20165 libdb/sqlite3.c   xCallback = mem0.alarmCallback;</span>
<span class='curline'><a href='../S/185.html#L20167'>mem0</a>             20167 libdb/sqlite3.c   pArg = mem0.alarmArg;</span>
<span class='curline'><a href='../S/185.html#L20168'>mem0</a>             20168 libdb/sqlite3.c   mem0.alarmCallback = 0;</span>
<span class='curline'><a href='../S/185.html#L20169'>mem0</a>             20169 libdb/sqlite3.c   sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20171'>mem0</a>             20171 libdb/sqlite3.c   sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20172'>mem0</a>             20172 libdb/sqlite3.c   mem0.alarmCallback = xCallback;</span>
<span class='curline'><a href='../S/185.html#L20173'>mem0</a>             20173 libdb/sqlite3.c   mem0.alarmArg = pArg;</span>
<span class='curline'><a href='../S/185.html#L20183'>mem0</a>             20183 libdb/sqlite3.c   assert( sqlite3_mutex_held(mem0.mutex) );</span>
<span class='curline'><a href='../S/185.html#L20186'>mem0</a>             20186 libdb/sqlite3.c   if( mem0.alarmCallback!=0 ){</span>
<span class='curline'><a href='../S/185.html#L20188'>mem0</a>             20188 libdb/sqlite3.c     if( nUsed &gt;= mem0.alarmThreshold - nFull ){</span>
<span class='curline'><a href='../S/185.html#L20189'>mem0</a>             20189 libdb/sqlite3.c       mem0.nearlyFull = 1;</span>
<span class='curline'><a href='../S/185.html#L20192'>mem0</a>             20192 libdb/sqlite3.c       mem0.nearlyFull = 0;</span>
<span class='curline'><a href='../S/185.html#L20197'>mem0</a>             20197 libdb/sqlite3.c   if( p==0 &amp;&amp; mem0.alarmCallback ){</span>
<span class='curline'><a href='../S/185.html#L20225'>mem0</a>             20225 libdb/sqlite3.c     sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20227'>mem0</a>             20227 libdb/sqlite3.c     sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20276'>mem0</a>             20276 libdb/sqlite3.c   sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20278'>mem0</a>             20278 libdb/sqlite3.c   if( mem0.nScratchFree &amp;&amp; sqlite3GlobalConfig.szScratch&gt;=n ){</span>
<span class='curline'><a href='../S/185.html#L20279'>mem0</a>             20279 libdb/sqlite3.c     p = mem0.pScratchFree;</span>
<span class='curline'><a href='../S/185.html#L20280'>mem0</a>             20280 libdb/sqlite3.c     mem0.pScratchFree = mem0.pScratchFree-&gt;pNext;</span>
<span class='curline'><a href='../S/185.html#L20281'>mem0</a>             20281 libdb/sqlite3.c     mem0.nScratchFree--;</span>
<span class='curline'><a href='../S/185.html#L20283'>mem0</a>             20283 libdb/sqlite3.c     sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20285'>mem0</a>             20285 libdb/sqlite3.c     sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20288'>mem0</a>             20288 libdb/sqlite3.c       sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20290'>mem0</a>             20290 libdb/sqlite3.c       sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20294'>mem0</a>             20294 libdb/sqlite3.c   assert( sqlite3_mutex_notheld(mem0.mutex) );</span>
<span class='curline'><a href='../S/185.html#L20320'>mem0</a>             20320 libdb/sqlite3.c     if( p&gt;=sqlite3GlobalConfig.pScratch &amp;&amp; p&lt;mem0.pScratchEnd ){</span>
<span class='curline'><a href='../S/185.html#L20324'>mem0</a>             20324 libdb/sqlite3.c       sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20325'>mem0</a>             20325 libdb/sqlite3.c       pSlot-&gt;pNext = mem0.pScratchFree;</span>
<span class='curline'><a href='../S/185.html#L20326'>mem0</a>             20326 libdb/sqlite3.c       mem0.pScratchFree = pSlot;</span>
<span class='curline'><a href='../S/185.html#L20327'>mem0</a>             20327 libdb/sqlite3.c       mem0.nScratchFree++;</span>
<span class='curline'><a href='../S/185.html#L20328'>mem0</a>             20328 libdb/sqlite3.c       assert( mem0.nScratchFree &lt;= (u32)sqlite3GlobalConfig.nScratch );</span>
<span class='curline'><a href='../S/185.html#L20330'>mem0</a>             20330 libdb/sqlite3.c       sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20338'>mem0</a>             20338 libdb/sqlite3.c         sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20343'>mem0</a>             20343 libdb/sqlite3.c         sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20400'>mem0</a>             20400 libdb/sqlite3.c     sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20404'>mem0</a>             20404 libdb/sqlite3.c     sqlite3_mutex_leave(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20476'>mem0</a>             20476 libdb/sqlite3.c     sqlite3_mutex_enter(mem0.mutex);</span>
<span class='curline'><a href='../S/185.html#L20480'>mem0</a>             20480 libdb/sqlite3.c           mem0.alarmThreshold-nDiff ){</span>
<span class='curline'><a href='../S/185.html#L20484'>mem0</a>             20484 libdb/sqlite3.c     if( pNew==0 &amp;&amp; mem0.alarmCallback ){</span>
<span class='curline'><a href='../S/185.html#L20492'>mem0</a>             20492 libdb/sqlite3.c     sqlite3_mutex_leave(mem0.mutex);</span>
</pre>
</body>
</html>
